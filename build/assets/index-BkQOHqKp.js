var Sx=e=>{throw TypeError(e)};var jh=(e,t,n)=>t.has(e)||Sx("Cannot "+n);var K=(e,t,n)=>(jh(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?Sx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,r)=>(jh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ht=(e,t,n)=>(jh(e,t,"access private method"),n);var Gc=(e,t,n,r)=>({set _(s){Re(e,t,s,n)},get _(){return K(e,t,r)}});function iA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var S1={exports:{}},uf={},N1={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),lA=Symbol.for("react.portal"),cA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),fA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),vA=Symbol.for("react.lazy"),Nx=Symbol.iterator;function yA(e){return e===null||typeof e!="object"?null:(e=Nx&&e[Nx]||e["@@iterator"],typeof e=="function"?e:null)}var C1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j1=Object.assign,k1={};function ka(e,t,n){this.props=e,this.context=t,this.refs=k1,this.updater=n||C1}ka.prototype.isReactComponent={};ka.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ka.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _1(){}_1.prototype=ka.prototype;function Ag(e,t,n){this.props=e,this.context=t,this.refs=k1,this.updater=n||C1}var Mg=Ag.prototype=new _1;Mg.constructor=Ag;j1(Mg,ka.prototype);Mg.isPureReactComponent=!0;var Cx=Array.isArray,E1=Object.prototype.hasOwnProperty,Ig={current:null},T1={key:!0,ref:!0,__self:!0,__source:!0};function P1(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)E1.call(t,r)&&!T1.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vc,type:e,key:o,ref:i,props:s,_owner:Ig.current}}function xA(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $g(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function wA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jx=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wA(""+e.key):t.toString(36)}function Uu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case vc:case lA:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+kh(i,0):r,Cx(s)?(n="",e!=null&&(n=e.replace(jx,"$&/")+"/"),Uu(s,t,n,"",function(u){return u})):s!=null&&($g(s)&&(s=xA(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(jx,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Cx(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+kh(o,l);i+=Uu(o,t,n,c,s)}else if(c=yA(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+kh(o,l++),i+=Uu(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Kc(e,t,n){if(e==null)return e;var r=[],s=0;return Uu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function bA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},Bu={transition:null},SA={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:Ig};function R1(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Kc,forEach:function(e,t,n){Kc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kc(e,function(){t++}),t},toArray:function(e){return Kc(e,function(t){return t})||[]},only:function(e){if(!$g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=ka;$e.Fragment=cA;$e.Profiler=dA;$e.PureComponent=Ag;$e.StrictMode=uA;$e.Suspense=mA;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;$e.act=R1;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=j1({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Ig.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E1.call(t,c)&&!T1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vc,type:e.type,key:s,ref:o,props:r,_owner:i}};$e.createContext=function(e){return e={$$typeof:hA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fA,_context:e},e.Consumer=e};$e.createElement=P1;$e.createFactory=function(e){var t=P1.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:pA,render:e}};$e.isValidElement=$g;$e.lazy=function(e){return{$$typeof:vA,_payload:{_status:-1,_result:e},_init:bA}};$e.memo=function(e,t){return{$$typeof:gA,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=Bu.transition;Bu.transition={};try{e()}finally{Bu.transition=t}};$e.unstable_act=R1;$e.useCallback=function(e,t){return on.current.useCallback(e,t)};$e.useContext=function(e){return on.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return on.current.useDeferredValue(e)};$e.useEffect=function(e,t){return on.current.useEffect(e,t)};$e.useId=function(){return on.current.useId()};$e.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return on.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};$e.useRef=function(e){return on.current.useRef(e)};$e.useState=function(e){return on.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return on.current.useTransition()};$e.version="18.3.1";N1.exports=$e;var p=N1.exports;const ie=Rg(p),df=iA({__proto__:null,default:ie},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=p,CA=Symbol.for("react.element"),jA=Symbol.for("react.fragment"),kA=Object.prototype.hasOwnProperty,_A=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function A1(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)kA.call(t,r)&&!EA.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:CA,type:e,key:o,ref:i,props:s,_owner:_A.current}}uf.Fragment=jA;uf.jsx=A1;uf.jsxs=A1;S1.exports=uf;var a=S1.exports,M1={exports:{}},$n={},I1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var z=A.length;A.push(R);e:for(;0<z;){var L=z-1>>>1,U=A[L];if(0<s(U,R))A[L]=R,A[z]=U,z=L;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var R=A[0],z=A.pop();if(z!==R){A[0]=z;e:for(var L=0,U=A.length,B=U>>>1;L<B;){var H=2*(L+1)-1,ee=A[H],G=H+1,W=A[G];if(0>s(ee,z))G<U&&0>s(W,ee)?(A[L]=W,A[G]=z,L=G):(A[L]=ee,A[H]=z,L=H);else if(G<U&&0>s(W,z))A[L]=W,A[G]=z,L=G;else break e}}return R}function s(A,R){var z=A.sortIndex-R.sortIndex;return z!==0?z:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,h=null,d=3,m=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=A)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function S(A){if(g=!1,x(A),!y)if(n(c)!==null)y=!0,I(C);else{var R=n(u);R!==null&&$(S,R.startTime-A)}}function C(A,R){y=!1,g&&(g=!1,v(T),T=-1),m=!0;var z=d;try{for(x(R),h=n(c);h!==null&&(!(h.expirationTime>R)||A&&!E());){var L=h.callback;if(typeof L=="function"){h.callback=null,d=h.priorityLevel;var U=L(h.expirationTime<=R);R=e.unstable_now(),typeof U=="function"?h.callback=U:h===n(c)&&r(c),x(R)}else r(c);h=n(c)}if(h!==null)var B=!0;else{var H=n(u);H!==null&&$(S,H.startTime-R),B=!1}return B}finally{h=null,d=z,m=!1}}var N=!1,j=null,T=-1,_=5,P=-1;function E(){return!(e.unstable_now()-P<_)}function M(){if(j!==null){var A=e.unstable_now();P=A;var R=!0;try{R=j(!0,A)}finally{R?O():(N=!1,j=null)}}else N=!1}var O;if(typeof w=="function")O=function(){w(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,D=k.port2;k.port1.onmessage=M,O=function(){D.postMessage(null)}}else O=function(){b(M,0)};function I(A){j=A,N||(N=!0,O())}function $(A,R){T=b(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,I(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var z=d;d=R;try{return A()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=d;d=A;try{return R()}finally{d=z}},e.unstable_scheduleCallback=function(A,R,z){var L=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,A={id:f++,callback:R,priorityLevel:A,startTime:z,expirationTime:U,sortIndex:-1},z>L?(A.sortIndex=z,t(u,A),n(c)===null&&A===n(u)&&(g?(v(T),T=-1):g=!0,$(S,z-L))):(A.sortIndex=U,t(c,A),y||m||(y=!0,I(C))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var R=d;return function(){var z=d;d=R;try{return A.apply(this,arguments)}finally{d=z}}}})($1);I1.exports=$1;var TA=I1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=p,An=TA;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O1=new Set,Rl={};function Jo(e,t){sa(e,t),sa(e+"Capture",t)}function sa(e,t){for(Rl[e]=t,e=0;e<t.length;e++)O1.add(t[e])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},_x={};function AA(e){return Dp.call(_x,e)?!0:Dp.call(kx,e)?!1:RA.test(e)?_x[e]=!0:(kx[e]=!0,!1)}function MA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IA(e,t,n,r){if(t===null||typeof t>"u"||MA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var Og=/[\-:]([a-z])/g;function Dg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Og,Dg);Ft[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Og,Dg);Ft[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Og,Dg);Ft[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lg(e,t,n,r){var s=Ft.hasOwnProperty(t)?Ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IA(t,n,s,r)&&(n=null),r||s===null?AA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ls=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),L1=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),F1=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function Wa(e){return e===null||typeof e!="object"?null:(e=Ex&&e[Ex]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,_h;function ol(e){if(_h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_h=t&&t[1]||""}return`
`+_h+e}var Eh=!1;function Th(e,t){if(!e||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ol(e):""}function $A(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function Up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Ci:return"Portal";case Lp:return"Profiler";case Fg:return"StrictMode";case Fp:return"Suspense";case zp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L1:return(e.displayName||"Context")+".Consumer";case D1:return(e._context.displayName||"Context")+".Provider";case zg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ug:return t=e.displayName||null,t!==null?t:Up(e.type)||"Memo";case ks:t=e._payload,e=e._init;try{return Up(e(t))}catch{}}return null}function OA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DA(e){var t=z1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xc(e){e._valueTracker||(e._valueTracker=DA(e))}function U1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var n=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B1(e,t){t=t.checked,t!=null&&Lg(e,"checked",t,!1)}function Hp(e,t){B1(e,t);var n=Qs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wp(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Px(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wp(e,t,n){(t!=="number"||dd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var il=Array.isArray;function Li(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(il(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function H1(e,t){var n=Qs(t.value),r=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ax(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qc,V1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qc=Qc||document.createElement("div"),Qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LA=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){LA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function q1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function G1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var FA=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(FA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Fi=null,zi=null;function Mx(e){if(e=wc(e)){if(typeof Xp!="function")throw Error(te(280));var t=e.stateNode;t&&(t=gf(t),Xp(e.stateNode,e.type,t))}}function K1(e){Fi?zi?zi.push(e):zi=[e]:Fi=e}function Y1(){if(Fi){var e=Fi,t=zi;if(zi=Fi=null,Mx(e),t)for(e=0;e<t.length;e++)Mx(t[e])}}function X1(e,t){return e(t)}function Q1(){}var Ph=!1;function J1(e,t,n){if(Ph)return e(t,n);Ph=!0;try{return X1(e,t,n)}finally{Ph=!1,(Fi!==null||zi!==null)&&(Q1(),Y1())}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var r=gf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Qp=!1;if(Zr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Qp=!1}function zA(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ml=!1,fd=null,hd=!1,Jp=null,UA={onError:function(e){ml=!0,fd=e}};function BA(e,t,n,r,s,o,i,l,c){ml=!1,fd=null,zA.apply(UA,arguments)}function HA(e,t,n,r,s,o,i,l,c){if(BA.apply(this,arguments),ml){if(ml){var u=fd;ml=!1,fd=null}else throw Error(te(198));hd||(hd=!0,Jp=u)}}function Zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ix(e){if(Zo(e)!==e)throw Error(te(188))}function WA(e){var t=e.alternate;if(!t){if(t=Zo(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ix(s),e;if(o===r)return Ix(s),t;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function eS(e){return e=WA(e),e!==null?tS(e):null}function tS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tS(e);if(t!==null)return t;e=e.sibling}return null}var nS=An.unstable_scheduleCallback,$x=An.unstable_cancelCallback,VA=An.unstable_shouldYield,qA=An.unstable_requestPaint,pt=An.unstable_now,GA=An.unstable_getCurrentPriorityLevel,Hg=An.unstable_ImmediatePriority,rS=An.unstable_UserBlockingPriority,pd=An.unstable_NormalPriority,KA=An.unstable_LowPriority,sS=An.unstable_IdlePriority,ff=null,Pr=null;function YA(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(ff,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:JA,XA=Math.log,QA=Math.LN2;function JA(e){return e>>>=0,e===0?32:31-(XA(e)/QA|0)|0}var Jc=64,Zc=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=al(l):(o&=i,o!==0&&(r=al(o)))}else i=n&~s,i!==0?r=al(i):o!==0&&(r=al(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cr(t),s=1<<n,r|=e[n],t&=~s;return r}function ZA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-cr(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=ZA(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oS(){var e=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),e}function Rh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=n}function tM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-cr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Wg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ue=0;function iS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aS,Vg,lS,cS,uS,em=!1,eu=[],Us=null,Bs=null,Hs=null,Il=new Map,$l=new Map,Es=[],nM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ox(e,t){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function qa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=wc(t),t!==null&&Vg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rM(e,t,n,r,s){switch(t){case"focusin":return Us=qa(Us,e,t,n,r,s),!0;case"dragenter":return Bs=qa(Bs,e,t,n,r,s),!0;case"mouseover":return Hs=qa(Hs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Il.set(o,qa(Il.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,$l.set(o,qa($l.get(o)||null,e,t,n,r,s)),!0}return!1}function dS(e){var t=Eo(e.target);if(t!==null){var n=Zo(t);if(n!==null){if(t=n.tag,t===13){if(t=Z1(n),t!==null){e.blockedOn=t,uS(e.priority,function(){lS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return t=wc(n),t!==null&&Vg(t),e.blockedOn=n,!1;t.shift()}return!0}function Dx(e,t,n){Hu(e)&&n.delete(t)}function sM(){em=!1,Us!==null&&Hu(Us)&&(Us=null),Bs!==null&&Hu(Bs)&&(Bs=null),Hs!==null&&Hu(Hs)&&(Hs=null),Il.forEach(Dx),$l.forEach(Dx)}function Ga(e,t){e.blockedOn===t&&(e.blockedOn=null,em||(em=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,sM)))}function Ol(e){function t(s){return Ga(s,e)}if(0<eu.length){Ga(eu[0],e);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Us!==null&&Ga(Us,e),Bs!==null&&Ga(Bs,e),Hs!==null&&Ga(Hs,e),Il.forEach(t),$l.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)dS(n),n.blockedOn===null&&Es.shift()}var Ui=ls.ReactCurrentBatchConfig,gd=!0;function oM(e,t,n,r){var s=Ue,o=Ui.transition;Ui.transition=null;try{Ue=1,qg(e,t,n,r)}finally{Ue=s,Ui.transition=o}}function iM(e,t,n,r){var s=Ue,o=Ui.transition;Ui.transition=null;try{Ue=4,qg(e,t,n,r)}finally{Ue=s,Ui.transition=o}}function qg(e,t,n,r){if(gd){var s=tm(e,t,n,r);if(s===null)Uh(e,t,r,vd,n),Ox(e,r);else if(rM(s,e,t,n,r))r.stopPropagation();else if(Ox(e,r),t&4&&-1<nM.indexOf(e)){for(;s!==null;){var o=wc(s);if(o!==null&&aS(o),o=tm(e,t,n,r),o===null&&Uh(e,t,r,vd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Uh(e,t,r,null,n)}}var vd=null;function tm(e,t,n,r){if(vd=null,e=Bg(r),e=Eo(e),e!==null)if(t=Zo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function fS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case Hg:return 1;case rS:return 4;case pd:case KA:return 16;case sS:return 536870912;default:return 16}default:return 16}}var Ds=null,Gg=null,Wu=null;function hS(){if(Wu)return Wu;var e,t=Gg,n=t.length,r,s="value"in Ds?Ds.value:Ds.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Wu=s.slice(e,1<r?1-r:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tu(){return!0}function Lx(){return!1}function On(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tu:Lx,this.isPropagationStopped=Lx,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=On(_a),xc=at({},_a,{view:0,detail:0}),aM=On(xc),Ah,Mh,Ka,hf=at({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(Ah=e.screenX-Ka.screenX,Mh=e.screenY-Ka.screenY):Mh=Ah=0,Ka=e),Ah)},movementY:function(e){return"movementY"in e?e.movementY:Mh}}),Fx=On(hf),lM=at({},hf,{dataTransfer:0}),cM=On(lM),uM=at({},xc,{relatedTarget:0}),Ih=On(uM),dM=at({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),fM=On(dM),hM=at({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pM=On(hM),mM=at({},_a,{data:0}),zx=On(mM),gM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yM[e])?!!t[e]:!1}function Yg(){return xM}var wM=at({},xc,{key:function(e){if(e.key){var t=gM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bM=On(wM),SM=at({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ux=On(SM),NM=at({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),CM=On(NM),jM=at({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),kM=On(jM),_M=at({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EM=On(_M),TM=[9,13,27,32],Xg=Zr&&"CompositionEvent"in window,gl=null;Zr&&"documentMode"in document&&(gl=document.documentMode);var PM=Zr&&"TextEvent"in window&&!gl,pS=Zr&&(!Xg||gl&&8<gl&&11>=gl),Bx=" ",Hx=!1;function mS(e,t){switch(e){case"keyup":return TM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function RM(e,t){switch(e){case"compositionend":return gS(t);case"keypress":return t.which!==32?null:(Hx=!0,Bx);case"textInput":return e=t.data,e===Bx&&Hx?null:e;default:return null}}function AM(e,t){if(ki)return e==="compositionend"||!Xg&&mS(e,t)?(e=hS(),Wu=Gg=Ds=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pS&&t.locale!=="ko"?null:t.data;default:return null}}var MM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MM[e.type]:t==="textarea"}function vS(e,t,n,r){K1(r),t=yd(t,"onChange"),0<t.length&&(n=new Kg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vl=null,Dl=null;function IM(e){ES(e,0)}function pf(e){var t=Ti(e);if(U1(t))return e}function $M(e,t){if(e==="change")return t}var yS=!1;if(Zr){var $h;if(Zr){var Oh="oninput"in document;if(!Oh){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),Oh=typeof Vx.oninput=="function"}$h=Oh}else $h=!1;yS=$h&&(!document.documentMode||9<document.documentMode)}function qx(){vl&&(vl.detachEvent("onpropertychange",xS),Dl=vl=null)}function xS(e){if(e.propertyName==="value"&&pf(Dl)){var t=[];vS(t,Dl,e,Bg(e)),J1(IM,t)}}function OM(e,t,n){e==="focusin"?(qx(),vl=t,Dl=n,vl.attachEvent("onpropertychange",xS)):e==="focusout"&&qx()}function DM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pf(Dl)}function LM(e,t){if(e==="click")return pf(t)}function FM(e,t){if(e==="input"||e==="change")return pf(t)}function zM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:zM;function Ll(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dp.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function Gx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kx(e,t){var n=Gx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gx(n)}}function wS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bS(){for(var e=window,t=dd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dd(e.document)}return t}function Qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UM(e){var t=bS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wS(n.ownerDocument.documentElement,n)){if(r!==null&&Qg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Kx(n,o);var i=Kx(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BM=Zr&&"documentMode"in document&&11>=document.documentMode,_i=null,nm=null,yl=null,rm=!1;function Yx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rm||_i==null||_i!==dd(r)||(r=_i,"selectionStart"in r&&Qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Ll(yl,r)||(yl=r,r=yd(nm,"onSelect"),0<r.length&&(t=new Kg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_i)))}function nu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Dh={},SS={};Zr&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function mf(e){if(Dh[e])return Dh[e];if(!Ei[e])return e;var t=Ei[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in SS)return Dh[e]=t[n];return e}var NS=mf("animationend"),CS=mf("animationiteration"),jS=mf("animationstart"),kS=mf("transitionend"),_S=new Map,Xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(e,t){_S.set(e,t),Jo(t,[e])}for(var Lh=0;Lh<Xx.length;Lh++){var Fh=Xx[Lh],HM=Fh.toLowerCase(),WM=Fh[0].toUpperCase()+Fh.slice(1);co(HM,"on"+WM)}co(NS,"onAnimationEnd");co(CS,"onAnimationIteration");co(jS,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(kS,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Qx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HA(r,t,void 0,e),e.currentTarget=null}function ES(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Qx(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Qx(s,l,u),o=c}}}if(hd)throw e=Jp,hd=!1,Jp=null,e}function Xe(e,t){var n=t[lm];n===void 0&&(n=t[lm]=new Set);var r=e+"__bubble";n.has(r)||(TS(t,e,2,!1),n.add(r))}function zh(e,t,n){var r=0;t&&(r|=4),TS(n,e,r,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Fl(e){if(!e[ru]){e[ru]=!0,O1.forEach(function(n){n!=="selectionchange"&&(VM.has(n)||zh(n,!1,e),zh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,zh("selectionchange",!1,t))}}function TS(e,t,n,r){switch(fS(t)){case 1:var s=oM;break;case 4:s=iM;break;default:s=qg}n=s.bind(null,t,n,e),s=void 0,!Qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Eo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}J1(function(){var u=o,f=Bg(n),h=[];e:{var d=_S.get(e);if(d!==void 0){var m=Kg,y=e;switch(e){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":m=bM;break;case"focusin":y="focus",m=Ih;break;case"focusout":y="blur",m=Ih;break;case"beforeblur":case"afterblur":m=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CM;break;case NS:case CS:case jS:m=fM;break;case kS:m=kM;break;case"scroll":m=aM;break;case"wheel":m=EM;break;case"copy":case"cut":case"paste":m=pM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ux}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,x;w!==null;){x=w;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=Ml(w,v),S!=null&&g.push(zl(w,S,x)))),b)break;w=w.return}0<g.length&&(d=new m(d,y,null,n,f),h.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Yp&&(y=n.relatedTarget||n.fromElement)&&(Eo(y)||y[es]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Eo(y):null,y!==null&&(b=Zo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=Fx,S="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ux,S="onPointerLeave",v="onPointerEnter",w="pointer"),b=m==null?d:Ti(m),x=y==null?d:Ti(y),d=new g(S,w+"leave",m,n,f),d.target=b,d.relatedTarget=x,S=null,Eo(f)===u&&(g=new g(v,w+"enter",y,n,f),g.target=x,g.relatedTarget=b,S=g),b=S,m&&y)t:{for(g=m,v=y,w=0,x=g;x;x=ui(x))w++;for(x=0,S=v;S;S=ui(S))x++;for(;0<w-x;)g=ui(g),w--;for(;0<x-w;)v=ui(v),x--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=ui(g),v=ui(v)}g=null}else g=null;m!==null&&Jx(h,d,m,g,!1),y!==null&&b!==null&&Jx(h,b,y,g,!0)}}e:{if(d=u?Ti(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=$M;else if(Wx(d))if(yS)C=FM;else{C=DM;var N=OM}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=LM);if(C&&(C=C(e,u))){vS(h,C,n,f);break e}N&&N(e,d,u),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Wp(d,"number",d.value)}switch(N=u?Ti(u):window,e){case"focusin":(Wx(N)||N.contentEditable==="true")&&(_i=N,nm=u,yl=null);break;case"focusout":yl=nm=_i=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,Yx(h,n,f);break;case"selectionchange":if(BM)break;case"keydown":case"keyup":Yx(h,n,f)}var j;if(Xg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ki?mS(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(pS&&n.locale!=="ko"&&(ki||T!=="onCompositionStart"?T==="onCompositionEnd"&&ki&&(j=hS()):(Ds=f,Gg="value"in Ds?Ds.value:Ds.textContent,ki=!0)),N=yd(u,T),0<N.length&&(T=new zx(T,e,null,n,f),h.push({event:T,listeners:N}),j?T.data=j:(j=gS(n),j!==null&&(T.data=j)))),(j=PM?RM(e,n):AM(e,n))&&(u=yd(u,"onBeforeInput"),0<u.length&&(f=new zx("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=j))}ES(h,t)})}function zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ml(e,n),o!=null&&r.unshift(zl(e,o,s)),o=Ml(e,t),o!=null&&r.push(zl(e,o,s))),e=e.return}return r}function ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jx(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ml(n,o),c!=null&&i.unshift(zl(n,c,l))):s||(c=Ml(n,o),c!=null&&i.push(zl(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var qM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function Zx(e){return(typeof e=="string"?e:""+e).replace(qM,`
`).replace(GM,"")}function su(e,t,n){if(t=Zx(t),Zx(e)!==t&&n)throw Error(te(425))}function xd(){}var sm=null,om=null;function im(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var am=typeof setTimeout=="function"?setTimeout:void 0,KM=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,YM=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(XM)}:am;function XM(e){setTimeout(function(){throw e})}function Bh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ol(t)}function Ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ea,Ul="__reactProps$"+Ea,es="__reactContainer$"+Ea,lm="__reactEvents$"+Ea,QM="__reactListeners$"+Ea,JM="__reactHandles$"+Ea;function Eo(e){var t=e[Er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[es]||n[Er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=t0(e);e!==null;){if(n=e[Er])return n;e=t0(e)}return t}e=n,n=e.parentNode}return null}function wc(e){return e=e[Er]||e[es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ti(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function gf(e){return e[Ul]||null}var cm=[],Pi=-1;function uo(e){return{current:e}}function Je(e){0>Pi||(e.current=cm[Pi],cm[Pi]=null,Pi--)}function Ke(e,t){Pi++,cm[Pi]=e.current,e.current=t}var Js={},Qt=uo(Js),xn=uo(!1),Uo=Js;function oa(e,t){var n=e.type.contextTypes;if(!n)return Js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wn(e){return e=e.childContextTypes,e!=null}function wd(){Je(xn),Je(Qt)}function n0(e,t,n){if(Qt.current!==Js)throw Error(te(168));Ke(Qt,t),Ke(xn,n)}function PS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(te(108,OA(e)||"Unknown",s));return at({},n,r)}function bd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Js,Uo=Qt.current,Ke(Qt,e),Ke(xn,xn.current),!0}function r0(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=PS(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=e,Je(xn),Je(Qt),Ke(Qt,e)):Je(xn),Ke(xn,n)}var Vr=null,vf=!1,Hh=!1;function RS(e){Vr===null?Vr=[e]:Vr.push(e)}function ZM(e){vf=!0,RS(e)}function fo(){if(!Hh&&Vr!==null){Hh=!0;var e=0,t=Ue;try{var n=Vr;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vr=null,vf=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(e+1)),nS(Hg,fo),s}finally{Ue=t,Hh=!1}}return null}var Ri=[],Ai=0,Sd=null,Nd=0,Fn=[],zn=0,Bo=null,qr=1,Gr="";function No(e,t){Ri[Ai++]=Nd,Ri[Ai++]=Sd,Sd=e,Nd=t}function AS(e,t,n){Fn[zn++]=qr,Fn[zn++]=Gr,Fn[zn++]=Bo,Bo=e;var r=qr;e=Gr;var s=32-cr(r)-1;r&=~(1<<s),n+=1;var o=32-cr(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,qr=1<<32-cr(t)+s|n<<s|r,Gr=o+e}else qr=1<<o|n<<s|r,Gr=e}function Jg(e){e.return!==null&&(No(e,1),AS(e,1,0))}function Zg(e){for(;e===Sd;)Sd=Ri[--Ai],Ri[Ai]=null,Nd=Ri[--Ai],Ri[Ai]=null;for(;e===Bo;)Bo=Fn[--zn],Fn[zn]=null,Gr=Fn[--zn],Fn[zn]=null,qr=Fn[--zn],Fn[zn]=null}var Pn=null,Tn=null,nt=!1,or=null;function MS(e,t){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function s0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,Tn=Ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,Tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bo!==null?{id:qr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pn=e,Tn=null,!0):!1;default:return!1}}function um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dm(e){if(nt){var t=Tn;if(t){var n=t;if(!s0(e,t)){if(um(e))throw Error(te(418));t=Ws(n.nextSibling);var r=Pn;t&&s0(e,t)?MS(r,n):(e.flags=e.flags&-4097|2,nt=!1,Pn=e)}}else{if(um(e))throw Error(te(418));e.flags=e.flags&-4097|2,nt=!1,Pn=e}}}function o0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function ou(e){if(e!==Pn)return!1;if(!nt)return o0(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!im(e.type,e.memoizedProps)),t&&(t=Tn)){if(um(e))throw IS(),Error(te(418));for(;t;)MS(e,t),t=Ws(t.nextSibling)}if(o0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tn=Ws(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tn=null}}else Tn=Pn?Ws(e.stateNode.nextSibling):null;return!0}function IS(){for(var e=Tn;e;)e=Ws(e.nextSibling)}function ia(){Tn=Pn=null,nt=!1}function ev(e){or===null?or=[e]:or.push(e)}var eI=ls.ReactCurrentBatchConfig;function Ya(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function iu(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i0(e){var t=e._init;return t(e._payload)}function $S(e){function t(v,w){if(e){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Ks(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,x,S){return w===null||w.tag!==6?(w=Xh(x,v.mode,S),w.return=v,w):(w=s(w,x),w.return=v,w)}function c(v,w,x,S){var C=x.type;return C===ji?f(v,w,x.props.children,S,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ks&&i0(C)===w.type)?(S=s(w,x.props),S.ref=Ya(v,w,x),S.return=v,S):(S=Ju(x.type,x.key,x.props,null,v.mode,S),S.ref=Ya(v,w,x),S.return=v,S)}function u(v,w,x,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Qh(x,v.mode,S),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function f(v,w,x,S,C){return w===null||w.tag!==7?(w=Do(x,v.mode,S,C),w.return=v,w):(w=s(w,x),w.return=v,w)}function h(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xh(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return x=Ju(w.type,w.key,w.props,null,v.mode,x),x.ref=Ya(v,null,w),x.return=v,x;case Ci:return w=Qh(w,v.mode,x),w.return=v,w;case ks:var S=w._init;return h(v,S(w._payload),x)}if(il(w)||Wa(w))return w=Do(w,v.mode,x,null),w.return=v,w;iu(v,w)}return null}function d(v,w,x,S){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(v,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:return x.key===C?c(v,w,x,S):null;case Ci:return x.key===C?u(v,w,x,S):null;case ks:return C=x._init,d(v,w,C(x._payload),S)}if(il(x)||Wa(x))return C!==null?null:f(v,w,x,S,null);iu(v,x)}return null}function m(v,w,x,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,l(w,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:return v=v.get(S.key===null?x:S.key)||null,c(w,v,S,C);case Ci:return v=v.get(S.key===null?x:S.key)||null,u(w,v,S,C);case ks:var N=S._init;return m(v,w,x,N(S._payload),C)}if(il(S)||Wa(S))return v=v.get(x)||null,f(w,v,S,C,null);iu(w,S)}return null}function y(v,w,x,S){for(var C=null,N=null,j=w,T=w=0,_=null;j!==null&&T<x.length;T++){j.index>T?(_=j,j=null):_=j.sibling;var P=d(v,j,x[T],S);if(P===null){j===null&&(j=_);break}e&&j&&P.alternate===null&&t(v,j),w=o(P,w,T),N===null?C=P:N.sibling=P,N=P,j=_}if(T===x.length)return n(v,j),nt&&No(v,T),C;if(j===null){for(;T<x.length;T++)j=h(v,x[T],S),j!==null&&(w=o(j,w,T),N===null?C=j:N.sibling=j,N=j);return nt&&No(v,T),C}for(j=r(v,j);T<x.length;T++)_=m(j,v,T,x[T],S),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?T:_.key),w=o(_,w,T),N===null?C=_:N.sibling=_,N=_);return e&&j.forEach(function(E){return t(v,E)}),nt&&No(v,T),C}function g(v,w,x,S){var C=Wa(x);if(typeof C!="function")throw Error(te(150));if(x=C.call(x),x==null)throw Error(te(151));for(var N=C=null,j=w,T=w=0,_=null,P=x.next();j!==null&&!P.done;T++,P=x.next()){j.index>T?(_=j,j=null):_=j.sibling;var E=d(v,j,P.value,S);if(E===null){j===null&&(j=_);break}e&&j&&E.alternate===null&&t(v,j),w=o(E,w,T),N===null?C=E:N.sibling=E,N=E,j=_}if(P.done)return n(v,j),nt&&No(v,T),C;if(j===null){for(;!P.done;T++,P=x.next())P=h(v,P.value,S),P!==null&&(w=o(P,w,T),N===null?C=P:N.sibling=P,N=P);return nt&&No(v,T),C}for(j=r(v,j);!P.done;T++,P=x.next())P=m(j,v,T,P.value,S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?T:P.key),w=o(P,w,T),N===null?C=P:N.sibling=P,N=P);return e&&j.forEach(function(M){return t(v,M)}),nt&&No(v,T),C}function b(v,w,x,S){if(typeof x=="object"&&x!==null&&x.type===ji&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:e:{for(var C=x.key,N=w;N!==null;){if(N.key===C){if(C=x.type,C===ji){if(N.tag===7){n(v,N.sibling),w=s(N,x.props.children),w.return=v,v=w;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ks&&i0(C)===N.type){n(v,N.sibling),w=s(N,x.props),w.ref=Ya(v,N,x),w.return=v,v=w;break e}n(v,N);break}else t(v,N);N=N.sibling}x.type===ji?(w=Do(x.props.children,v.mode,S,x.key),w.return=v,v=w):(S=Ju(x.type,x.key,x.props,null,v.mode,S),S.ref=Ya(v,w,x),S.return=v,v=S)}return i(v);case Ci:e:{for(N=x.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=Qh(x,v.mode,S),w.return=v,v=w}return i(v);case ks:return N=x._init,b(v,w,N(x._payload),S)}if(il(x))return y(v,w,x,S);if(Wa(x))return g(v,w,x,S);iu(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,x),w.return=v,v=w):(n(v,w),w=Xh(x,v.mode,S),w.return=v,v=w),i(v)):n(v,w)}return b}var aa=$S(!0),OS=$S(!1),Cd=uo(null),jd=null,Mi=null,tv=null;function nv(){tv=Mi=jd=null}function rv(e){var t=Cd.current;Je(Cd),e._currentValue=t}function fm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t){jd=e,tv=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vn=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(tv!==e)if(e={context:e,memoizedValue:t,next:null},Mi===null){if(jd===null)throw Error(te(308));Mi=e,jd.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return t}var To=null;function sv(e){To===null?To=[e]:To.push(e)}function DS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sv(t)):(n.next=s.next,s.next=n),t.interleaved=n,ts(e,r)}function ts(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _s=!1;function ov(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ts(e,n)}return s=r.interleaved,s===null?(t.next=t,sv(r)):(t.next=s.next,s.next=t),r.interleaved=t,ts(e,n)}function qu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wg(e,n)}}function a0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kd(e,t,n,r){var s=e.updateQueue;_s=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,f=u=c=null,l=o;do{var d=l.lane,m=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(d=t,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(m,h,d):y,d==null)break e;h=at({},h,d);break e;case 2:_s=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=h):f=f.next=m,i|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Wo|=i,e.lanes=i,e.memoizedState=h}}function l0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var bc={},Rr=uo(bc),Bl=uo(bc),Hl=uo(bc);function Po(e){if(e===bc)throw Error(te(174));return e}function iv(e,t){switch(Ke(Hl,t),Ke(Bl,e),Ke(Rr,bc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qp(t,e)}Je(Rr),Ke(Rr,t)}function la(){Je(Rr),Je(Bl),Je(Hl)}function FS(e){Po(Hl.current);var t=Po(Rr.current),n=qp(t,e.type);t!==n&&(Ke(Bl,e),Ke(Rr,n))}function av(e){Bl.current===e&&(Je(Rr),Je(Bl))}var ot=uo(0);function _d(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wh=[];function lv(){for(var e=0;e<Wh.length;e++)Wh[e]._workInProgressVersionPrimary=null;Wh.length=0}var Gu=ls.ReactCurrentDispatcher,Vh=ls.ReactCurrentBatchConfig,Ho=0,it=null,jt=null,At=null,Ed=!1,xl=!1,Wl=0,tI=0;function Wt(){throw Error(te(321))}function cv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function uv(e,t,n,r,s,o){if(Ho=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?oI:iI,e=n(r,s),xl){o=0;do{if(xl=!1,Wl=0,25<=o)throw Error(te(301));o+=1,At=jt=null,t.updateQueue=null,Gu.current=aI,e=n(r,s)}while(xl)}if(Gu.current=Td,t=jt!==null&&jt.next!==null,Ho=0,At=jt=it=null,Ed=!1,t)throw Error(te(300));return e}function dv(){var e=Wl!==0;return Wl=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?it.memoizedState=At=e:At=At.next=e,At}function qn(){if(jt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=At===null?it.memoizedState:At.next;if(t!==null)At=t,jt=e;else{if(e===null)throw Error(te(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},At===null?it.memoizedState=At=e:At=At.next=e}return At}function Vl(e,t){return typeof t=="function"?t(e):t}function qh(e){var t=qn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=jt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var f=u.lane;if((Ho&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,it.lanes|=f,Wo|=f}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,hr(r,t.memoizedState)||(vn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,it.lanes|=o,Wo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gh(e){var t=qn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);hr(o,t.memoizedState)||(vn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zS(){}function US(e,t){var n=it,r=qn(),s=t(),o=!hr(r.memoizedState,s);if(o&&(r.memoizedState=s,vn=!0),r=r.queue,fv(WS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,ql(9,HS.bind(null,n,r,s,t),void 0,null),Mt===null)throw Error(te(349));Ho&30||BS(n,t,s)}return s}function BS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function HS(e,t,n,r){t.value=n,t.getSnapshot=r,VS(t)&&qS(e)}function WS(e,t,n){return n(function(){VS(t)&&qS(e)})}function VS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function qS(e){var t=ts(e,1);t!==null&&ur(t,e,1,-1)}function c0(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=sI.bind(null,it,e),[t.memoizedState,e]}function ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function GS(){return qn().memoizedState}function Ku(e,t,n,r){var s=Sr();it.flags|=e,s.memoizedState=ql(1|t,n,void 0,r===void 0?null:r)}function yf(e,t,n,r){var s=qn();r=r===void 0?null:r;var o=void 0;if(jt!==null){var i=jt.memoizedState;if(o=i.destroy,r!==null&&cv(r,i.deps)){s.memoizedState=ql(t,n,o,r);return}}it.flags|=e,s.memoizedState=ql(1|t,n,o,r)}function u0(e,t){return Ku(8390656,8,e,t)}function fv(e,t){return yf(2048,8,e,t)}function KS(e,t){return yf(4,2,e,t)}function YS(e,t){return yf(4,4,e,t)}function XS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QS(e,t,n){return n=n!=null?n.concat([e]):null,yf(4,4,XS.bind(null,t,e),n)}function hv(){}function JS(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZS(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function eN(e,t,n){return Ho&21?(hr(n,t)||(n=oS(),it.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vn=!0),e.memoizedState=n)}function nI(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=Vh.transition;Vh.transition={};try{e(!1),t()}finally{Ue=n,Vh.transition=r}}function tN(){return qn().memoizedState}function rI(e,t,n){var r=Gs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nN(e))rN(t,n);else if(n=DS(e,t,n,r),n!==null){var s=sn();ur(n,e,r,s),sN(n,t,r)}}function sI(e,t,n){var r=Gs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nN(e))rN(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,hr(l,i)){var c=t.interleaved;c===null?(s.next=s,sv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=DS(e,t,s,r),n!==null&&(s=sn(),ur(n,e,r,s),sN(n,t,r))}}function nN(e){var t=e.alternate;return e===it||t!==null&&t===it}function rN(e,t){xl=Ed=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wg(e,n)}}var Td={readContext:Vn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},oI={readContext:Vn,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:u0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4194308,4,XS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ku(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rI.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:c0,useDebugValue:hv,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=c0(!1),t=e[0];return e=nI.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,s=Sr();if(nt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Mt===null)throw Error(te(349));Ho&30||BS(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,u0(WS.bind(null,r,o,e),[e]),r.flags|=2048,ql(9,HS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Mt.identifierPrefix;if(nt){var n=Gr,r=qr;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iI={readContext:Vn,useCallback:JS,useContext:Vn,useEffect:fv,useImperativeHandle:QS,useInsertionEffect:KS,useLayoutEffect:YS,useMemo:ZS,useReducer:qh,useRef:GS,useState:function(){return qh(Vl)},useDebugValue:hv,useDeferredValue:function(e){var t=qn();return eN(t,jt.memoizedState,e)},useTransition:function(){var e=qh(Vl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:US,useId:tN,unstable_isNewReconciler:!1},aI={readContext:Vn,useCallback:JS,useContext:Vn,useEffect:fv,useImperativeHandle:QS,useInsertionEffect:KS,useLayoutEffect:YS,useMemo:ZS,useReducer:Gh,useRef:GS,useState:function(){return Gh(Vl)},useDebugValue:hv,useDeferredValue:function(e){var t=qn();return jt===null?t.memoizedState=e:eN(t,jt.memoizedState,e)},useTransition:function(){var e=Gh(Vl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:US,useId:tN,unstable_isNewReconciler:!1};function Zn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:at({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xf={isMounted:function(e){return(e=e._reactInternals)?Zo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sn(),s=Gs(e),o=Qr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Vs(e,o,s),t!==null&&(ur(t,e,s,r),qu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sn(),s=Gs(e),o=Qr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vs(e,o,s),t!==null&&(ur(t,e,s,r),qu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),r=Gs(e),s=Qr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vs(e,s,r),t!==null&&(ur(t,e,r,n),qu(t,e,r))}};function d0(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ll(n,r)||!Ll(s,o):!0}function oN(e,t,n){var r=!1,s=Js,o=t.contextType;return typeof o=="object"&&o!==null?o=Vn(o):(s=wn(t)?Uo:Qt.current,r=t.contextTypes,o=(r=r!=null)?oa(e,s):Js),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function f0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function pm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ov(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Vn(o):(o=wn(t)?Uo:Qt.current,s.context=oa(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hm(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xf.enqueueReplaceState(s,s.state,null),kd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do n+=$A(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Kh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lI=typeof WeakMap=="function"?WeakMap:Map;function iN(e,t,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,jm=r),mm(e,t)},n}function aN(e,t,n){n=Qr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){mm(e,t),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function h0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lI;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=SI.bind(null,e,t,n),t.then(e,e))}function p0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function m0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qr(-1,1),t.tag=2,Vs(n,t,1))),n.lanes|=1),e)}var cI=ls.ReactCurrentOwner,vn=!1;function nn(e,t,n,r){t.child=e===null?OS(t,null,n,r):aa(t,e.child,n,r)}function g0(e,t,n,r,s){n=n.render;var o=t.ref;return Bi(t,s),r=uv(e,t,n,r,o,s),n=dv(),e!==null&&!vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ns(e,t,s)):(nt&&n&&Jg(t),t.flags|=1,nn(e,t,r,s),t.child)}function v0(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!bv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lN(e,t,o,r,s)):(e=Ju(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(i,r)&&e.ref===t.ref)return ns(e,t,s)}return t.flags|=1,e=Ks(o,r),e.ref=t.ref,e.return=t,t.child=e}function lN(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ll(o,r)&&e.ref===t.ref)if(vn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(vn=!0);else return t.lanes=e.lanes,ns(e,t,s)}return gm(e,t,n,r,s)}function cN(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke($i,kn),kn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke($i,kn),kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke($i,kn),kn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ke($i,kn),kn|=r;return nn(e,t,s,n),t.child}function uN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gm(e,t,n,r,s){var o=wn(n)?Uo:Qt.current;return o=oa(t,o),Bi(t,s),n=uv(e,t,n,r,o,s),r=dv(),e!==null&&!vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ns(e,t,s)):(nt&&r&&Jg(t),t.flags|=1,nn(e,t,n,s),t.child)}function y0(e,t,n,r,s){if(wn(n)){var o=!0;bd(t)}else o=!1;if(Bi(t,s),t.stateNode===null)Yu(e,t),oN(t,n,r),pm(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=wn(n)?Uo:Qt.current,u=oa(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&f0(t,i,r,u),_s=!1;var d=t.memoizedState;i.state=d,kd(t,r,i,s),c=t.memoizedState,l!==r||d!==c||xn.current||_s?(typeof f=="function"&&(hm(t,n,f,r),c=t.memoizedState),(l=_s||d0(t,n,l,r,d,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,LS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zn(t.type,l),i.props=u,h=t.pendingProps,d=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=wn(n)?Uo:Qt.current,c=oa(t,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||d!==c)&&f0(t,i,r,c),_s=!1,d=t.memoizedState,i.state=d,kd(t,r,i,s);var y=t.memoizedState;l!==h||d!==y||xn.current||_s?(typeof m=="function"&&(hm(t,n,m,r),y=t.memoizedState),(u=_s||d0(t,n,u,r,d,y,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return vm(e,t,n,r,o,s)}function vm(e,t,n,r,s,o){uN(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&r0(t,n,!1),ns(e,t,o);r=t.stateNode,cI.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=aa(t,e.child,null,o),t.child=aa(t,null,l,o)):nn(e,t,l,o),t.memoizedState=r.state,s&&r0(t,n,!0),t.child}function dN(e){var t=e.stateNode;t.pendingContext?n0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&n0(e,t.context,!1),iv(e,t.containerInfo)}function x0(e,t,n,r,s){return ia(),ev(s),t.flags|=256,nn(e,t,n,r),t.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function xm(e){return{baseLanes:e,cachePool:null,transitions:null}}function fN(e,t,n){var r=t.pendingProps,s=ot.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(ot,s&1),e===null)return dm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Sf(i,r,0,null),e=Do(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xm(n),t.memoizedState=ym,e):pv(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return uI(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ks(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Ks(l,o):(o=Do(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?xm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ym,r}return o=e.child,e=o.sibling,r=Ks(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pv(e,t){return t=Sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function au(e,t,n,r){return r!==null&&ev(r),aa(t,e.child,null,n),e=pv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uI(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Kh(Error(te(422))),au(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Sf({mode:"visible",children:r.children},s,0,null),o=Do(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&aa(t,e.child,null,i),t.child.memoizedState=xm(i),t.memoizedState=ym,o);if(!(t.mode&1))return au(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(te(419)),r=Kh(o,r,void 0),au(e,t,i,r)}if(l=(i&e.childLanes)!==0,vn||l){if(r=Mt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ts(e,s),ur(r,e,s,-1))}return wv(),r=Kh(Error(te(421))),au(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=NI.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Tn=Ws(s.nextSibling),Pn=t,nt=!0,or=null,e!==null&&(Fn[zn++]=qr,Fn[zn++]=Gr,Fn[zn++]=Bo,qr=e.id,Gr=e.overflow,Bo=t),t=pv(t,r.children),t.flags|=4096,t)}function w0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fm(e.return,t,n)}function Yh(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function hN(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(nn(e,t,r.children,n),r=ot.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w0(e,n,t);else if(e.tag===19)w0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(ot,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&_d(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yh(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_d(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yh(t,!0,n,null,o);break;case"together":Yh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dI(e,t,n){switch(t.tag){case 3:dN(t),ia();break;case 5:FS(t);break;case 1:wn(t.type)&&bd(t);break;case 4:iv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ke(Cd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ot,ot.current&1),t.flags|=128,null):n&t.child.childLanes?fN(e,t,n):(Ke(ot,ot.current&1),e=ns(e,t,n),e!==null?e.sibling:null);Ke(ot,ot.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hN(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(ot,ot.current),r)break;return null;case 22:case 23:return t.lanes=0,cN(e,t,n)}return ns(e,t,n)}var pN,wm,mN,gN;pN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wm=function(){};mN=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Po(Rr.current);var o=null;switch(n){case"input":s=Bp(e,s),r=Bp(e,r),o=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":s=Vp(e,s),r=Vp(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}Gp(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};gN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xa(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fI(e,t,n){var r=t.pendingProps;switch(Zg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return wn(t.type)&&wd(),Vt(t),null;case 3:return r=t.stateNode,la(),Je(xn),Je(Qt),lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,or!==null&&(Em(or),or=null))),wm(e,t),Vt(t),null;case 5:av(t);var s=Po(Hl.current);if(n=t.type,e!==null&&t.stateNode!=null)mN(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Vt(t),null}if(e=Po(Rr.current),ou(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Er]=t,r[Ul]=o,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<ll.length;s++)Xe(ll[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Tx(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":Rx(r,o),Xe("invalid",r)}Gp(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&su(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&su(r.textContent,l,e),s=["children",""+l]):Rl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Xc(r),Px(r,o,!0);break;case"textarea":Xc(r),Ax(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Er]=t,e[Ul]=r,pN(e,t,!1,!1),t.stateNode=e;e:{switch(i=Kp(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),s=r;break;case"iframe":case"object":case"embed":Xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<ll.length;s++)Xe(ll[s],e);s=r;break;case"source":Xe("error",e),s=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),s=r;break;case"details":Xe("toggle",e),s=r;break;case"input":Tx(e,r),s=Bp(e,r),Xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":Rx(e,r),s=Vp(e,r),Xe("invalid",e);break;default:s=r}Gp(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?G1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&V1(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Al(e,c):typeof c=="number"&&Al(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Xe("scroll",e):c!=null&&Lg(e,o,c,i))}switch(n){case"input":Xc(e),Px(e,r,!1);break;case"textarea":Xc(e),Ax(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Li(e,!!r.multiple,o,!1):r.defaultValue!=null&&Li(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)gN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=Po(Hl.current),Po(Rr.current),ou(t)){if(r=t.stateNode,n=t.memoizedProps,r[Er]=t,(o=r.nodeValue!==n)&&(e=Pn,e!==null))switch(e.tag){case 3:su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=t,t.stateNode=r}return Vt(t),null;case 13:if(Je(ot),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Tn!==null&&t.mode&1&&!(t.flags&128))IS(),ia(),t.flags|=98560,o=!1;else if(o=ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Er]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),o=!1}else or!==null&&(Em(or),or=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?Et===0&&(Et=3):wv())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return la(),wm(e,t),e===null&&Fl(t.stateNode.containerInfo),Vt(t),null;case 10:return rv(t.type._context),Vt(t),null;case 17:return wn(t.type)&&wd(),Vt(t),null;case 19:if(Je(ot),o=t.memoizedState,o===null)return Vt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Xa(o,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_d(e),i!==null){for(t.flags|=128,Xa(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(ot,ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&pt()>ua&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304)}else{if(!r)if(e=_d(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!nt)return Vt(t),null}else 2*pt()-o.renderingStartTime>ua&&n!==1073741824&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pt(),t.sibling=null,n=ot.current,Ke(ot,r?n&1|2:n&1),t):(Vt(t),null);case 22:case 23:return xv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function hI(e,t){switch(Zg(t),t.tag){case 1:return wn(t.type)&&wd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(),Je(xn),Je(Qt),lv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return av(t),null;case 13:if(Je(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(ot),null;case 4:return la(),null;case 10:return rv(t.type._context),null;case 22:case 23:return xv(),null;case 24:return null;default:return null}}var lu=!1,Yt=!1,pI=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function bm(e,t,n){try{n()}catch(r){ut(e,t,r)}}var b0=!1;function mI(e,t){if(sm=gd,e=bS(),Qg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,f=0,h=e,d=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===e)break t;if(d===n&&++u===s&&(l=i),d===o&&++f===r&&(c=i),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(om={focusedElem:e,selectionRange:n},gd=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Zn(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){ut(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return y=b0,b0=!1,y}function wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&bm(t,n,o)}s=s.next}while(s!==r)}}function wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vN(e){var t=e.alternate;t!==null&&(e.alternate=null,vN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Er],delete t[Ul],delete t[lm],delete t[QM],delete t[JM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yN(e){return e.tag===5||e.tag===3||e.tag===4}function S0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(Nm(e,t,n),e=e.sibling;e!==null;)Nm(e,t,n),e=e.sibling}function Cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}var It=null,nr=!1;function gs(e,t,n){for(n=n.child;n!==null;)xN(e,t,n),n=n.sibling}function xN(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Yt||Ii(n,t);case 6:var r=It,s=nr;It=null,gs(e,t,n),It=r,nr=s,It!==null&&(nr?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(nr?(e=It,n=n.stateNode,e.nodeType===8?Bh(e.parentNode,n):e.nodeType===1&&Bh(e,n),Ol(e)):Bh(It,n.stateNode));break;case 4:r=It,s=nr,It=n.stateNode.containerInfo,nr=!0,gs(e,t,n),It=r,nr=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&bm(n,t,i),s=s.next}while(s!==r)}gs(e,t,n);break;case 1:if(!Yt&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,t,l)}gs(e,t,n);break;case 21:gs(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,gs(e,t,n),Yt=r):gs(e,t,n);break;default:gs(e,t,n)}}function N0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pI),t.forEach(function(r){var s=CI.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,nr=!1;break e;case 3:It=l.stateNode.containerInfo,nr=!0;break e;case 4:It=l.stateNode.containerInfo,nr=!0;break e}l=l.return}if(It===null)throw Error(te(160));xN(o,i,s),It=null,nr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ut(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wN(t,e),t=t.sibling}function wN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),br(e),r&4){try{wl(3,e,e.return),wf(3,e)}catch(g){ut(e,e.return,g)}try{wl(5,e,e.return)}catch(g){ut(e,e.return,g)}}break;case 1:Xn(t,e),br(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Xn(t,e),br(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var s=e.stateNode;try{Al(s,"")}catch(g){ut(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&B1(s,o),Kp(l,i);var u=Kp(l,o);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?G1(s,h):f==="dangerouslySetInnerHTML"?V1(s,h):f==="children"?Al(s,h):Lg(s,f,h,u)}switch(l){case"input":Hp(s,o);break;case"textarea":H1(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Li(s,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?Li(s,!!o.multiple,o.defaultValue,!0):Li(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ul]=o}catch(g){ut(e,e.return,g)}}break;case 6:if(Xn(t,e),br(e),r&4){if(e.stateNode===null)throw Error(te(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){ut(e,e.return,g)}}break;case 3:if(Xn(t,e),br(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(g){ut(e,e.return,g)}break;case 4:Xn(t,e),br(e);break;case 13:Xn(t,e),br(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(vv=pt())),r&4&&N0(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||f,Xn(t,e),Yt=u):Xn(t,e),br(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(me=e,f=e.child;f!==null;){for(h=me=f;me!==null;){switch(d=me,m=d.child,d.tag){case 0:case 11:case 14:case 15:wl(4,d,d.return);break;case 1:Ii(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ut(r,n,g)}}break;case 5:Ii(d,d.return);break;case 22:if(d.memoizedState!==null){j0(h);continue}}m!==null?(m.return=d,me=m):j0(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q1("display",i))}catch(g){ut(e,e.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){ut(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(t,e),br(e),r&4&&N0(e);break;case 21:break;default:Xn(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yN(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Al(s,""),r.flags&=-33);var o=S0(e);Cm(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=S0(e);Nm(e,l,i);break;default:throw Error(te(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gI(e,t,n){me=e,bN(e)}function bN(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var s=me,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||lu;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=lu;var u=Yt;if(lu=i,(Yt=c)&&!u)for(me=s;me!==null;)i=me,c=i.child,i.tag===22&&i.memoizedState!==null?k0(s):c!==null?(c.return=i,me=c):k0(s);for(;o!==null;)me=o,bN(o),o=o.sibling;me=s,lu=l,Yt=u}C0(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,me=o):C0(e)}}function C0(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||wf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Zn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&l0(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}l0(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Yt||t.flags&512&&Sm(t)}catch(d){ut(t,t.return,d)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function j0(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function k0(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wf(4,t)}catch(c){ut(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ut(t,s,c)}}var o=t.return;try{Sm(t)}catch(c){ut(t,o,c)}break;case 5:var i=t.return;try{Sm(t)}catch(c){ut(t,i,c)}}}catch(c){ut(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var vI=Math.ceil,Pd=ls.ReactCurrentDispatcher,mv=ls.ReactCurrentOwner,Bn=ls.ReactCurrentBatchConfig,De=0,Mt=null,xt=null,Lt=0,kn=0,$i=uo(0),Et=0,Gl=null,Wo=0,bf=0,gv=0,bl=null,mn=null,vv=0,ua=1/0,Hr=null,Rd=!1,jm=null,qs=null,cu=!1,Ls=null,Ad=0,Sl=0,km=null,Xu=-1,Qu=0;function sn(){return De&6?pt():Xu!==-1?Xu:Xu=pt()}function Gs(e){return e.mode&1?De&2&&Lt!==0?Lt&-Lt:eI.transition!==null?(Qu===0&&(Qu=oS()),Qu):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:fS(e.type)),e):1}function ur(e,t,n,r){if(50<Sl)throw Sl=0,km=null,Error(te(185));yc(e,n,r),(!(De&2)||e!==Mt)&&(e===Mt&&(!(De&2)&&(bf|=n),Et===4&&Ts(e,Lt)),bn(e,r),n===1&&De===0&&!(t.mode&1)&&(ua=pt()+500,vf&&fo()))}function bn(e,t){var n=e.callbackNode;eM(e,t);var r=md(e,e===Mt?Lt:0);if(r===0)n!==null&&$x(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$x(n),t===1)e.tag===0?ZM(_0.bind(null,e)):RS(_0.bind(null,e)),YM(function(){!(De&6)&&fo()}),n=null;else{switch(iS(r)){case 1:n=Hg;break;case 4:n=rS;break;case 16:n=pd;break;case 536870912:n=sS;break;default:n=pd}n=TN(n,SN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function SN(e,t){if(Xu=-1,Qu=0,De&6)throw Error(te(327));var n=e.callbackNode;if(Hi()&&e.callbackNode!==n)return null;var r=md(e,e===Mt?Lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Md(e,r);else{t=r;var s=De;De|=2;var o=CN();(Mt!==e||Lt!==t)&&(Hr=null,ua=pt()+500,Oo(e,t));do try{wI();break}catch(l){NN(e,l)}while(!0);nv(),Pd.current=o,De=s,xt!==null?t=0:(Mt=null,Lt=0,t=Et)}if(t!==0){if(t===2&&(s=Zp(e),s!==0&&(r=s,t=_m(e,s))),t===1)throw n=Gl,Oo(e,0),Ts(e,r),bn(e,pt()),n;if(t===6)Ts(e,r);else{if(s=e.current.alternate,!(r&30)&&!yI(s)&&(t=Md(e,r),t===2&&(o=Zp(e),o!==0&&(r=o,t=_m(e,o))),t===1))throw n=Gl,Oo(e,0),Ts(e,r),bn(e,pt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:Co(e,mn,Hr);break;case 3:if(Ts(e,r),(r&130023424)===r&&(t=vv+500-pt(),10<t)){if(md(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){sn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=am(Co.bind(null,e,mn,Hr),t);break}Co(e,mn,Hr);break;case 4:if(Ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-cr(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vI(r/1960))-r,10<r){e.timeoutHandle=am(Co.bind(null,e,mn,Hr),r);break}Co(e,mn,Hr);break;case 5:Co(e,mn,Hr);break;default:throw Error(te(329))}}}return bn(e,pt()),e.callbackNode===n?SN.bind(null,e):null}function _m(e,t){var n=bl;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Md(e,t),e!==2&&(t=mn,mn=n,t!==null&&Em(t)),e}function Em(e){mn===null?mn=e:mn.push.apply(mn,e)}function yI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!hr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ts(e,t){for(t&=~gv,t&=~bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cr(t),r=1<<n;e[n]=-1,t&=~r}}function _0(e){if(De&6)throw Error(te(327));Hi();var t=md(e,0);if(!(t&1))return bn(e,pt()),null;var n=Md(e,t);if(e.tag!==0&&n===2){var r=Zp(e);r!==0&&(t=r,n=_m(e,r))}if(n===1)throw n=Gl,Oo(e,0),Ts(e,t),bn(e,pt()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e,mn,Hr),bn(e,pt()),null}function yv(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(ua=pt()+500,vf&&fo())}}function Vo(e){Ls!==null&&Ls.tag===0&&!(De&6)&&Hi();var t=De;De|=1;var n=Bn.transition,r=Ue;try{if(Bn.transition=null,Ue=1,e)return e()}finally{Ue=r,Bn.transition=n,De=t,!(De&6)&&fo()}}function xv(){kn=$i.current,Je($i)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KM(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:la(),Je(xn),Je(Qt),lv();break;case 5:av(r);break;case 4:la();break;case 13:Je(ot);break;case 19:Je(ot);break;case 10:rv(r.type._context);break;case 22:case 23:xv()}n=n.return}if(Mt=e,xt=e=Ks(e.current,null),Lt=kn=t,Et=0,Gl=null,gv=bf=Wo=0,mn=bl=null,To!==null){for(t=0;t<To.length;t++)if(n=To[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}To=null}return e}function NN(e,t){do{var n=xt;try{if(nv(),Gu.current=Td,Ed){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ed=!1}if(Ho=0,At=jt=it=null,xl=!1,Wl=0,mv.current=null,n===null||n.return===null){Et=1,Gl=t,xt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=p0(i);if(m!==null){m.flags&=-257,m0(m,i,l,o,t),m.mode&1&&h0(o,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){h0(o,u,t),wv();break e}c=Error(te(426))}}else if(nt&&l.mode&1){var b=p0(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),m0(b,i,l,o,t),ev(ca(c,l));break e}}o=c=ca(c,l),Et!==4&&(Et=2),bl===null?bl=[o]:bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=iN(o,c,t);a0(o,v);break e;case 1:l=c;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=aN(o,l,t);a0(o,S);break e}}o=o.return}while(o!==null)}kN(n)}catch(C){t=C,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function CN(){var e=Pd.current;return Pd.current=Td,e===null?Td:e}function wv(){(Et===0||Et===3||Et===2)&&(Et=4),Mt===null||!(Wo&268435455)&&!(bf&268435455)||Ts(Mt,Lt)}function Md(e,t){var n=De;De|=2;var r=CN();(Mt!==e||Lt!==t)&&(Hr=null,Oo(e,t));do try{xI();break}catch(s){NN(e,s)}while(!0);if(nv(),De=n,Pd.current=r,xt!==null)throw Error(te(261));return Mt=null,Lt=0,Et}function xI(){for(;xt!==null;)jN(xt)}function wI(){for(;xt!==null&&!VA();)jN(xt)}function jN(e){var t=EN(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?kN(e):xt=t,mv.current=null}function kN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hI(n,t),n!==null){n.flags&=32767,xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,xt=null;return}}else if(n=fI(n,t,kn),n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Et===0&&(Et=5)}function Co(e,t,n){var r=Ue,s=Bn.transition;try{Bn.transition=null,Ue=1,bI(e,t,n,r)}finally{Bn.transition=s,Ue=r}return null}function bI(e,t,n,r){do Hi();while(Ls!==null);if(De&6)throw Error(te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(tM(e,o),e===Mt&&(xt=Mt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,TN(pd,function(){return Hi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bn.transition,Bn.transition=null;var i=Ue;Ue=1;var l=De;De|=4,mv.current=null,mI(e,n),wN(n,e),UM(om),gd=!!sm,om=sm=null,e.current=n,gI(n),qA(),De=l,Ue=i,Bn.transition=o}else e.current=n;if(cu&&(cu=!1,Ls=e,Ad=s),o=e.pendingLanes,o===0&&(qs=null),YA(n.stateNode),bn(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rd)throw Rd=!1,e=jm,jm=null,e;return Ad&1&&e.tag!==0&&Hi(),o=e.pendingLanes,o&1?e===km?Sl++:(Sl=0,km=e):Sl=0,fo(),null}function Hi(){if(Ls!==null){var e=iS(Ad),t=Bn.transition,n=Ue;try{if(Bn.transition=null,Ue=16>e?16:e,Ls===null)var r=!1;else{if(e=Ls,Ls=null,Ad=0,De&6)throw Error(te(331));var s=De;for(De|=4,me=e.current;me!==null;){var o=me,i=o.child;if(me.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(me=u;me!==null;){var f=me;switch(f.tag){case 0:case 11:case 15:wl(8,f,o)}var h=f.child;if(h!==null)h.return=f,me=h;else for(;me!==null;){f=me;var d=f.sibling,m=f.return;if(vN(f),f===u){me=null;break}if(d!==null){d.return=m,me=d;break}me=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,me=i;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,me=v;break e}me=o.return}}var w=e.current;for(me=w;me!==null;){i=me;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,me=x;else e:for(i=w;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wf(9,l)}}catch(C){ut(l,l.return,C)}if(l===i){me=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,me=S;break e}me=l.return}}if(De=s,fo(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(ff,e)}catch{}r=!0}return r}finally{Ue=n,Bn.transition=t}}return!1}function E0(e,t,n){t=ca(n,t),t=iN(e,t,1),e=Vs(e,t,1),t=sn(),e!==null&&(yc(e,1,t),bn(e,t))}function ut(e,t,n){if(e.tag===3)E0(e,e,n);else for(;t!==null;){if(t.tag===3){E0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){e=ca(n,e),e=aN(t,e,1),t=Vs(t,e,1),e=sn(),t!==null&&(yc(t,1,e),bn(t,e));break}}t=t.return}}function SI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&n,Mt===e&&(Lt&n)===n&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>pt()-vv?Oo(e,0):gv|=n),bn(e,t)}function _N(e,t){t===0&&(e.mode&1?(t=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):t=1);var n=sn();e=ts(e,t),e!==null&&(yc(e,t,n),bn(e,n))}function NI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_N(e,n)}function CI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),_N(e,n)}var EN;EN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)vn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vn=!1,dI(e,t,n);vn=!!(e.flags&131072)}else vn=!1,nt&&t.flags&1048576&&AS(t,Nd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yu(e,t),e=t.pendingProps;var s=oa(t,Qt.current);Bi(t,n),s=uv(null,t,r,e,s,n);var o=dv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(o=!0,bd(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ov(t),s.updater=xf,t.stateNode=s,s._reactInternals=t,pm(t,r,e,n),t=vm(null,t,r,!0,o,n)):(t.tag=0,nt&&o&&Jg(t),nn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kI(r),e=Zn(r,e),s){case 0:t=gm(null,t,r,e,n);break e;case 1:t=y0(null,t,r,e,n);break e;case 11:t=g0(null,t,r,e,n);break e;case 14:t=v0(null,t,r,Zn(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),gm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),y0(e,t,r,s,n);case 3:e:{if(dN(t),e===null)throw Error(te(387));r=t.pendingProps,o=t.memoizedState,s=o.element,LS(e,t),kd(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ca(Error(te(423)),t),t=x0(e,t,r,n,s);break e}else if(r!==s){s=ca(Error(te(424)),t),t=x0(e,t,r,n,s);break e}else for(Tn=Ws(t.stateNode.containerInfo.firstChild),Pn=t,nt=!0,or=null,n=OS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===s){t=ns(e,t,n);break e}nn(e,t,r,n)}t=t.child}return t;case 5:return FS(t),e===null&&dm(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,im(r,s)?i=null:o!==null&&im(r,o)&&(t.flags|=32),uN(e,t),nn(e,t,i,n),t.child;case 6:return e===null&&dm(t),null;case 13:return fN(e,t,n);case 4:return iv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=aa(t,null,r,n):nn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),g0(e,t,r,s,n);case 7:return nn(e,t,t.pendingProps,n),t.child;case 8:return nn(e,t,t.pendingProps.children,n),t.child;case 12:return nn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ke(Cd,r._currentValue),r._currentValue=i,o!==null)if(hr(o.value,i)){if(o.children===s.children&&!xn.current){t=ns(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Qr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),fm(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(te(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fm(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bi(t,n),s=Vn(s),r=r(s),t.flags|=1,nn(e,t,r,n),t.child;case 14:return r=t.type,s=Zn(r,t.pendingProps),s=Zn(r.type,s),v0(e,t,r,s,n);case 15:return lN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),Yu(e,t),t.tag=1,wn(r)?(e=!0,bd(t)):e=!1,Bi(t,n),oN(t,r,s),pm(t,r,s,n),vm(null,t,r,!0,e,n);case 19:return hN(e,t,n);case 22:return cN(e,t,n)}throw Error(te(156,t.tag))};function TN(e,t){return nS(e,t)}function jI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,n,r){return new jI(e,t,n,r)}function bv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kI(e){if(typeof e=="function")return bv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zg)return 11;if(e===Ug)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=Un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ju(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")bv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ji:return Do(n.children,s,o,t);case Fg:i=8,s|=8;break;case Lp:return e=Un(12,n,t,s|2),e.elementType=Lp,e.lanes=o,e;case Fp:return e=Un(13,n,t,s),e.elementType=Fp,e.lanes=o,e;case zp:return e=Un(19,n,t,s),e.elementType=zp,e.lanes=o,e;case F1:return Sf(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D1:i=10;break e;case L1:i=9;break e;case zg:i=11;break e;case Ug:i=14;break e;case ks:i=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Un(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Do(e,t,n,r){return e=Un(7,e,r,t),e.lanes=n,e}function Sf(e,t,n,r){return e=Un(22,e,r,t),e.elementType=F1,e.lanes=n,e.stateNode={isHidden:!1},e}function Xh(e,t,n){return e=Un(6,e,null,t),e.lanes=n,e}function Qh(e,t,n){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _I(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sv(e,t,n,r,s,o,i,l,c){return e=new _I(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(o),e}function EI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PN(e){if(!e)return Js;e=e._reactInternals;e:{if(Zo(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(wn(n))return PS(e,n,t)}return t}function RN(e,t,n,r,s,o,i,l,c){return e=Sv(n,r,!0,e,s,o,i,l,c),e.context=PN(null),n=e.current,r=sn(),s=Gs(n),o=Qr(r,s),o.callback=t??null,Vs(n,o,s),e.current.lanes=s,yc(e,s,r),bn(e,r),e}function Nf(e,t,n,r){var s=t.current,o=sn(),i=Gs(s);return n=PN(n),t.context===null?t.context=n:t.pendingContext=n,t=Qr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vs(s,t,i),e!==null&&(ur(e,s,i,o),qu(e,s,i)),i}function Id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nv(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function TI(){return null}var AN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cv(e){this._internalRoot=e}Cf.prototype.render=Cv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));Nf(e,t,null,null)};Cf.prototype.unmount=Cv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vo(function(){Nf(null,e,null,null)}),t[es]=null}};function Cf(e){this._internalRoot=e}Cf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&dS(e)}};function jv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P0(){}function PI(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Id(i);o.call(u)}}var i=RN(t,r,e,0,null,!1,!1,"",P0);return e._reactRootContainer=i,e[es]=i.current,Fl(e.nodeType===8?e.parentNode:e),Vo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Id(c);l.call(u)}}var c=Sv(e,0,!1,null,null,!1,!1,"",P0);return e._reactRootContainer=c,e[es]=c.current,Fl(e.nodeType===8?e.parentNode:e),Vo(function(){Nf(t,c,n,r)}),c}function kf(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Id(i);l.call(c)}}Nf(t,i,e,s)}else i=PI(n,t,e,s,r);return Id(i)}aS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(Wg(t,n|1),bn(t,pt()),!(De&6)&&(ua=pt()+500,fo()))}break;case 13:Vo(function(){var r=ts(e,1);if(r!==null){var s=sn();ur(r,e,1,s)}}),Nv(e,1)}};Vg=function(e){if(e.tag===13){var t=ts(e,134217728);if(t!==null){var n=sn();ur(t,e,134217728,n)}Nv(e,134217728)}};lS=function(e){if(e.tag===13){var t=Gs(e),n=ts(e,t);if(n!==null){var r=sn();ur(n,e,t,r)}Nv(e,t)}};cS=function(){return Ue};uS=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};Xp=function(e,t,n){switch(t){case"input":if(Hp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=gf(r);if(!s)throw Error(te(90));U1(r),Hp(r,s)}}}break;case"textarea":H1(e,n);break;case"select":t=n.value,t!=null&&Li(e,!!n.multiple,t,!1)}};X1=yv;Q1=Vo;var RI={usingClientEntryPoint:!1,Events:[wc,Ti,gf,K1,Y1,yv]},Qa={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AI={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eS(e),e===null?null:e.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||TI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ff=uu.inject(AI),Pr=uu}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;$n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(t))throw Error(te(200));return EI(e,t,null,n)};$n.createRoot=function(e,t){if(!jv(e))throw Error(te(299));var n=!1,r="",s=AN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sv(e,1,!1,null,null,n,!1,r,s),e[es]=t.current,Fl(e.nodeType===8?e.parentNode:e),new Cv(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=eS(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return Vo(e)};$n.hydrate=function(e,t,n){if(!jf(t))throw Error(te(200));return kf(null,e,t,!0,n)};$n.hydrateRoot=function(e,t,n){if(!jv(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=AN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=RN(t,null,e,1,n??null,s,!1,o,i),e[es]=t.current,Fl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cf(t)};$n.render=function(e,t,n){if(!jf(t))throw Error(te(200));return kf(null,e,t,!1,n)};$n.unmountComponentAtNode=function(e){if(!jf(e))throw Error(te(40));return e._reactRootContainer?(Vo(function(){kf(null,null,e,!1,function(){e._reactRootContainer=null,e[es]=null})}),!0):!1};$n.unstable_batchedUpdates=yv;$n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jf(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return kf(e,t,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function MN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MN)}catch(e){console.error(e)}}MN(),M1.exports=$n;var cs=M1.exports;const kv=Rg(cs);var IN,R0=cs;IN=R0.createRoot,R0.hydrateRoot;const MI=1,II=1e6;let Jh=0;function $I(){return Jh=(Jh+1)%Number.MAX_SAFE_INTEGER,Jh.toString()}const Zh=new Map,A0=e=>{if(Zh.has(e))return;const t=setTimeout(()=>{Zh.delete(e),Nl({type:"REMOVE_TOAST",toastId:e})},II);Zh.set(e,t)},OI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,MI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?A0(n):e.toasts.forEach(r=>{A0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Zu=[];let ed={toasts:[]};function Nl(e){ed=OI(ed,e),Zu.forEach(t=>{t(ed)})}function DI({...e}){const t=$I(),n=s=>Nl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Nl({type:"DISMISS_TOAST",toastId:t});return Nl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Sn(){const[e,t]=p.useState(ed);return p.useEffect(()=>(Zu.push(t),()=>{const n=Zu.indexOf(t);n>-1&&Zu.splice(n,1)}),[e]),{...e,toast:DI,dismiss:n=>Nl({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function LI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function _f(...e){return t=>e.forEach(n=>LI(n,t))}function Ee(...e){return p.useCallback(_f(...e),e)}function FI(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:d,children:m,...y}=h,g=(d==null?void 0:d[e][c])||l,b=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:b,children:m})}function f(h,d){const m=(d==null?void 0:d[e][c])||l,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,zI(s,...t)]}function zI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Zs=p.forwardRef((e,t)=>{const{children:n,...r}=e,s=p.Children.toArray(n),o=s.find(UI);if(o){const i=o.props.children,l=s.map(c=>c===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return a.jsx(Tm,{...r,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return a.jsx(Tm,{...r,ref:t,children:n})});Zs.displayName="Slot";var Tm=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const s=HI(n);return p.cloneElement(n,{...BI(r,n.props),ref:t?_f(t,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Tm.displayName="SlotClone";var $N=({children:e})=>a.jsx(a.Fragment,{children:e});function UI(e){return p.isValidElement(e)&&e.type===$N}function BI(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{o(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function HI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sc(e){const t=e+"CollectionProvider",[n,r]=FI(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:g}=m,b=ie.useRef(null),v=ie.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:v,collectionRef:b,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=ie.forwardRef((m,y)=>{const{scope:g,children:b}=m,v=o(l,g),w=Ee(y,v.collectionRef);return a.jsx(Zs,{ref:w,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=ie.forwardRef((m,y)=>{const{scope:g,children:b,...v}=m,w=ie.useRef(null),x=Ee(y,w),S=o(u,g);return ie.useEffect(()=>(S.itemMap.set(w,{ref:w,...v}),()=>void S.itemMap.delete(w))),a.jsx(Zs,{[f]:"",ref:x,children:b})});h.displayName=u;function d(m){const y=o(e+"CollectionConsumer",m);return ie.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,C)=>v.indexOf(S.ref.current)-v.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},d,r]}function WI(e,t){const n=p.createContext(t),r=o=>{const{children:i,...l}=o,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Gn(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];const u=h=>{var v;const{scope:d,children:m,...y}=h,g=((v=d==null?void 0:d[e])==null?void 0:v[c])||l,b=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:b,children:m})};u.displayName=o+"Provider";function f(h,d){var g;const m=((g=d==null?void 0:d[e])==null?void 0:g[c])||l,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,VI(s,...t)]}function VI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var qI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=qI.reduce((e,t)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...i}=r,l=o?Zs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _v(e,t){e&&cs.flushSync(()=>e.dispatchEvent(t))}function Qe(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function GI(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var KI="DismissableLayer",Pm="dismissableLayer.update",YI="dismissableLayer.pointerDownOutside",XI="dismissableLayer.focusOutside",M0,ON=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ta=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(ON),[f,h]=p.useState(null),d=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Ee(t,j=>h(j)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),w=f?g.indexOf(f):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=v,C=JI(j=>{const T=j.target,_=[...u.branches].some(P=>P.contains(T));!S||_||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},d),N=ZI(j=>{const T=j.target;[...u.branches].some(P=>P.contains(T))||(o==null||o(j),i==null||i(j),j.defaultPrevented||l==null||l())},d);return GI(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},d),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M0=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),I0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=M0)}},[f,d,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),I0())},[f,u]),p.useEffect(()=>{const j=()=>m({});return document.addEventListener(Pm,j),()=>document.removeEventListener(Pm,j)},[]),a.jsx(ye.div,{...c,ref:y,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,C.onPointerDownCapture)})});Ta.displayName=KI;var QI="DismissableLayerBranch",DN=p.forwardRef((e,t)=>{const n=p.useContext(ON),r=p.useRef(null),s=Ee(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ye.div,{...e,ref:s})});DN.displayName=QI;function JI(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){LN(YI,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ZI(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&LN(XI,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I0(){const e=new CustomEvent(Pm);document.dispatchEvent(e)}function LN(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?_v(s,o):s.dispatchEvent(o)}var e$=Ta,t$=DN,Pt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},n$="Portal",Nc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);Pt(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?kv.createPortal(a.jsx(ye.div,{...r,ref:t}),i):null});Nc.displayName=n$;function r$(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var ln=e=>{const{present:t,children:n}=e,r=s$(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Ee(r.ref,o$(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};ln.displayName="Presence";function s$(e){const[t,n]=p.useState(),r=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=r$(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=du(r.current);o.current=l==="mounted"?u:"none"},[l]),Pt(()=>{const u=r.current,f=s.current;if(f!==e){const d=o.current,m=du(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&d!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Pt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=m=>{const g=du(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},d=m=>{m.target===t&&(o.current=du(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function du(e){return(e==null?void 0:e.animationName)||"none"}function o$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=i$({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=Qe(n),c=p.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[o,e,s,l]);return[i,c]}function i$({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,s=p.useRef(r),o=Qe(t);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var a$="VisuallyHidden",Cc=p.forwardRef((e,t)=>a.jsx(ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Cc.displayName=a$;var l$=Cc,Ev="ToastProvider",[Tv,c$,u$]=Sc("Toast"),[FN,TY]=Gn("Toast",[u$]),[d$,Ef]=FN(Ev),zN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=p.useState(null),[u,f]=p.useState(0),h=p.useRef(!1),d=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ev}\`. Expected non-empty \`string\`.`),a.jsx(Tv.Provider,{scope:t,children:a.jsx(d$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>f(m=>m+1),[]),onToastRemove:p.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:i})})};zN.displayName=Ev;var UN="ToastViewport",f$=["F8"],Rm="toast.viewportPause",Am="toast.viewportResume",BN=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=f$,label:s="Notifications ({hotkey})",...o}=e,i=Ef(UN,n),l=c$(n),c=p.useRef(null),u=p.useRef(null),f=p.useRef(null),h=p.useRef(null),d=Ee(t,h,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;p.useEffect(()=>{const b=v=>{var x;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=c.current,v=h.current;if(y&&b&&v){const w=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Rm);v.dispatchEvent(N),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Am);v.dispatchEvent(N),i.isClosePausedRef.current=!1}},S=N=>{!b.contains(N.relatedTarget)&&x()},C=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",S),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[y,i.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:b})=>{const w=l().map(x=>{const S=x.ref.current,C=[S,...j$(S)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const b=h.current;if(b){const v=w=>{var C,N,j;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const T=document.activeElement,_=w.shiftKey;if(w.target===b&&_){(C=u.current)==null||C.focus();return}const M=g({tabbingDirection:_?"backwards":"forwards"}),O=M.findIndex(k=>k===T);ep(M.slice(O+1))?w.preventDefault():_?(N=u.current)==null||N.focus():(j=f.current)==null||j.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,g]),a.jsxs(t$,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(Mm,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});ep(b)}}),a.jsx(Tv.Slot,{scope:n,children:a.jsx(ye.ol,{tabIndex:-1,...o,ref:d})}),y&&a.jsx(Mm,{ref:f,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});ep(b)}})]})});BN.displayName=UN;var HN="ToastFocusProxy",Mm=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Ef(HN,n);return a.jsx(Cc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Mm.displayName=HN;var Tf="Toast",h$="toast.swipeStart",p$="toast.swipeMove",m$="toast.swipeCancel",g$="toast.swipeEnd",WN=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=rs({prop:r,defaultProp:s,onChange:o});return a.jsx(ln,{present:n||l,children:a.jsx(x$,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Qe(e.onPause),onResume:Qe(e.onResume),onSwipeStart:Z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});WN.displayName=Tf;var[v$,y$]=FN(Tf,{onClose(){}}),x$=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:m,...y}=e,g=Ef(Tf,n),[b,v]=p.useState(null),w=Ee(t,k=>v(k)),x=p.useRef(null),S=p.useRef(null),C=s||g.duration,N=p.useRef(0),j=p.useRef(C),T=p.useRef(0),{onToastAdd:_,onToastRemove:P}=g,E=Qe(()=>{var D;(b==null?void 0:b.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),i()}),M=p.useCallback(k=>{!k||k===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(E,k))},[E]);p.useEffect(()=>{const k=g.viewport;if(k){const D=()=>{M(j.current),u==null||u()},I=()=>{const $=new Date().getTime()-N.current;j.current=j.current-$,window.clearTimeout(T.current),c==null||c()};return k.addEventListener(Rm,I),k.addEventListener(Am,D),()=>{k.removeEventListener(Rm,I),k.removeEventListener(Am,D)}}},[g.viewport,C,c,u,M]),p.useEffect(()=>{o&&!g.isClosePausedRef.current&&M(C)},[o,C,g.isClosePausedRef,M]),p.useEffect(()=>(_(),()=>P()),[_,P]);const O=p.useMemo(()=>b?QN(b):null,[b]);return g.viewport?a.jsxs(a.Fragment,{children:[O&&a.jsx(w$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),a.jsx(v$,{scope:n,onClose:E,children:cs.createPortal(a.jsx(Tv.ItemSlot,{scope:n,children:a.jsx(e$,{asChild:!0,onEscapeKeyDown:Z(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||E(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Z(e.onPointerDown,k=>{k.button===0&&(x.current={x:k.clientX,y:k.clientY})}),onPointerMove:Z(e.onPointerMove,k=>{if(!x.current)return;const D=k.clientX-x.current.x,I=k.clientY-x.current.y,$=!!S.current,A=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=A?R(0,D):0,L=A?0:R(0,I),U=k.pointerType==="touch"?10:2,B={x:z,y:L},H={originalEvent:k,delta:B};$?(S.current=B,fu(p$,h,H,{discrete:!1})):$0(B,g.swipeDirection,U)?(S.current=B,fu(h$,f,H,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(D)>U||Math.abs(I)>U)&&(x.current=null)}),onPointerUp:Z(e.onPointerUp,k=>{const D=S.current,I=k.target;if(I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),S.current=null,x.current=null,D){const $=k.currentTarget,A={originalEvent:k,delta:D};$0(D,g.swipeDirection,g.swipeThreshold)?fu(g$,m,A,{discrete:!0}):fu(m$,d,A,{discrete:!0}),$.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),w$=e=>{const{__scopeToast:t,children:n,...r}=e,s=Ef(Tf,t),[o,i]=p.useState(!1),[l,c]=p.useState(!1);return N$(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Nc,{asChild:!0,children:a.jsx(Cc,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},b$="ToastTitle",VN=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ye.div,{...r,ref:t})});VN.displayName=b$;var S$="ToastDescription",qN=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ye.div,{...r,ref:t})});qN.displayName=S$;var GN="ToastAction",KN=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(XN,{altText:n,asChild:!0,children:a.jsx(Pv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${GN}\`. Expected non-empty \`string\`.`),null)});KN.displayName=GN;var YN="ToastClose",Pv=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=y$(YN,n);return a.jsx(XN,{asChild:!0,children:a.jsx(ye.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,s.onClose)})})});Pv.displayName=YN;var XN=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function QN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),C$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...QN(r))}}),t}function fu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?_v(s,o):s.dispatchEvent(o)}var $0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function N$(e=()=>{}){const t=Qe(e);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function C$(e){return e.nodeType===e.ELEMENT_NODE}function j$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ep(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var k$=zN,JN=BN,ZN=WN,eC=VN,tC=qN,nC=KN,rC=Pv;function sC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=sC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function oC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=sC(e))&&(r&&(r+=" "),r+=t);return r}const O0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,D0=oC,jc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return D0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=o==null?void 0:o[u];if(f===null)return null;const d=O0(f)||O0(h);return s[u][d]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,d]=f;return d===void 0||(u[h]=d),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:d,...m}=f;return Object.entries(m).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...o,...l}[g]):{...o,...l}[g]===b})?[...u,h,d]:u},[]);return D0(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...E$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iC("lucide",s),...l},[...i.map(([u,f])=>p.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(T$,{ref:o,iconNode:t,className:iC(`lucide-${_$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=he("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=he("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=he("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=he("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=he("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=he("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=he("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=he("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=he("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=he("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=he("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=he("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=he("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=he("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=he("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Fv="-",rO=e=>{const t=oO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Fv);return l[0]===""&&l.length!==1&&l.shift(),gC(l,t)||sO(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},gC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?gC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Fv);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},V0=/^\[(.+)\]$/,sO=e=>{if(V0.test(e)){const t=V0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},oO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return aO(Object.entries(e.classGroups),n).forEach(([o,i])=>{Dm(i,r,o,t)}),r},Dm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:q0(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(iO(s)){Dm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Dm(i,q0(t,o),n,r)})})},q0=(e,t)=>{let n=e;return t.split(Fv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iO=e=>e.isThemeGetter,aO=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,lO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},vC="!",cO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,f=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(r||l.slice(b,b+o)===t)){c.push(l.slice(f,b)),f=b+o;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const d=c.length===0?l:l.substring(f),m=d.startsWith(vC),y=m?d.substring(1):d,g=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},uO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dO=e=>({cache:lO(e.cacheSize),parseClassName:cO(e),...rO(e)}),fO=/\s+/,hO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(fO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?d.substring(0,m):d);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(d),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=uO(f).join(":"),v=h?b+vC:b,w=v+g;if(o.includes(w))continue;o.push(w);const x=s(g,y);for(let S=0;S<x.length;++S){const C=x[S];o.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function pO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=yC(t))&&(r&&(r+=" "),r+=n);return r}const yC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=yC(e[r]))&&(n&&(n+=" "),n+=t);return n};function mO(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((f,h)=>h(f),e());return n=dO(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=hO(c,n);return s(c,f),f}return function(){return o(pO.apply(null,arguments))}}const Ye=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xC=/^\[(?:([a-z-]+):)?(.+)\]$/i,gO=/^\d+\/\d+$/,vO=new Set(["px","full","screen"]),yO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fr=e=>Wi(e)||vO.has(e)||gO.test(e),vs=e=>Ra(e,"length",PO),Wi=e=>!!e&&!Number.isNaN(Number(e)),tp=e=>Ra(e,"number",Wi),Ja=e=>!!e&&Number.isInteger(Number(e)),NO=e=>e.endsWith("%")&&Wi(e.slice(0,-1)),Pe=e=>xC.test(e),ys=e=>yO.test(e),CO=new Set(["length","size","percentage"]),jO=e=>Ra(e,CO,wC),kO=e=>Ra(e,"position",wC),_O=new Set(["image","url"]),EO=e=>Ra(e,_O,AO),TO=e=>Ra(e,"",RO),Za=()=>!0,Ra=(e,t,n)=>{const r=xC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},PO=e=>xO.test(e)&&!wO.test(e),wC=()=>!1,RO=e=>bO.test(e),AO=e=>SO.test(e),MO=()=>{const e=Ye("colors"),t=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),s=Ye("borderColor"),o=Ye("borderRadius"),i=Ye("borderSpacing"),l=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),f=Ye("hueRotate"),h=Ye("invert"),d=Ye("gap"),m=Ye("gradientColorStops"),y=Ye("gradientColorStopPositions"),g=Ye("inset"),b=Ye("margin"),v=Ye("opacity"),w=Ye("padding"),x=Ye("saturate"),S=Ye("scale"),C=Ye("sepia"),N=Ye("skew"),j=Ye("space"),T=Ye("translate"),_=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Pe,t],M=()=>[Pe,t],O=()=>["",Fr,vs],k=()=>["auto",Wi,Pe],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Pe],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Wi,Pe];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Fr,vs],blur:["none","",ys,Pe],brightness:L(),borderColor:[e],borderRadius:["none","","full",ys,Pe],borderSpacing:M(),borderWidth:O(),contrast:L(),grayscale:R(),hueRotate:L(),invert:R(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[NO,vs],inset:E(),margin:E(),opacity:L(),padding:M(),saturate:L(),scale:L(),sepia:R(),skew:L(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,Pe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ja,Pe]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,Pe]},Pe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,Pe]},Pe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tp]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Wi,tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fr,vs]}],"underline-offset":[{"underline-offset":["auto",Fr,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),kO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Fr,Pe]}],"outline-w":[{outline:[Fr,vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Fr,vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,TO]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ys,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ja,Pe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Fr,vs,tp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IO=mO(MO);function ge(...e){return IO(oC(e))}const $O=k$,bC=p.forwardRef(({className:e,...t},n)=>a.jsx(JN,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bC.displayName=JN.displayName;const OO=jc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SC=p.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(ZN,{ref:r,className:ge(OO({variant:t}),e),...n}));SC.displayName=ZN.displayName;const DO=p.forwardRef(({className:e,...t},n)=>a.jsx(nC,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));DO.displayName=nC.displayName;const NC=p.forwardRef(({className:e,...t},n)=>a.jsx(rC,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(ss,{className:"h-4 w-4"})}));NC.displayName=rC.displayName;const CC=p.forwardRef(({className:e,...t},n)=>a.jsx(eC,{ref:n,className:ge("text-sm font-semibold",e),...t}));CC.displayName=eC.displayName;const jC=p.forwardRef(({className:e,...t},n)=>a.jsx(tC,{ref:n,className:ge("text-sm opacity-90",e),...t}));jC.displayName=tC.displayName;function LO(){const{toasts:e}=Sn();return a.jsxs($O,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return a.jsxs(SC,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(CC,{children:n}),r&&a.jsx(jC,{children:r})]}),s,a.jsx(NC,{})]},t)}),a.jsx(bC,{})]})}var G0=["light","dark"],FO="(prefers-color-scheme: dark)",zO=p.createContext(void 0),UO={setTheme:e=>{},themes:[]},BO=()=>{var e;return(e=p.useContext(zO))!=null?e:UO};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?G0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(y,g=!1,b=!0)=>{let v=i?i[y]:y,w=g?y+"|| ''":`'${v}'`,x="";return s&&b&&!g&&G0.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?g||v?x+=`c.add(${w})`:x+="null":v&&(x+=`d[s](n,${w})`),x},m=e?`!function(){${f}${d(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${FO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}${u?"":"else{"+d(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var HO=e=>{switch(e){case"success":return qO;case"info":return KO;case"warning":return GO;case"error":return YO;default:return null}},WO=Array(12).fill(0),VO=({visible:e})=>ie.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ie.createElement("div",{className:"sonner-spinner"},WO.map((t,n)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),qO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XO=()=>{let[e,t]=ie.useState(document.hidden);return ie.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Lm=1,QO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lm++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(ZO(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Lm++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},jn=new QO,JO=(e,t)=>{let n=(t==null?void 0:t.id)||Lm++;return jn.addToast({title:e,...t,id:n}),n},ZO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",eD=JO,tD=()=>jn.toasts;Object.assign(eD,{success:jn.success,info:jn.info,warning:jn.warning,error:jn.error,custom:jn.custom,message:jn.message,promise:jn.promise,dismiss:jn.dismiss,loading:jn.loading},{getHistory:tD});function nD(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}nD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pu(e){return e.label!==void 0}var rD=3,sD="32px",oD=4e3,iD=356,aD=14,lD=20,cD=200;function uD(...e){return e.filter(Boolean).join(" ")}var dD=e=>{var t,n,r,s,o,i,l,c,u,f;let{invert:h,toast:d,unstyled:m,interacting:y,setHeights:g,visibleToasts:b,heights:v,index:w,toasts:x,expanded:S,removeToast:C,defaultRichColors:N,closeButton:j,style:T,cancelButtonStyle:_,actionButtonStyle:P,className:E="",descriptionClassName:M="",duration:O,position:k,gap:D,loadingIcon:I,expandByDefault:$,classNames:A,icons:R,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:L,cn:U}=e,[B,H]=ie.useState(!1),[ee,G]=ie.useState(!1),[W,Q]=ie.useState(!1),[se,de]=ie.useState(!1),[fe,ae]=ie.useState(0),[pe,ve]=ie.useState(0),Me=ie.useRef(null),_e=ie.useRef(null),st=w===0,Se=w+1<=b,Ce=d.type,Be=d.dismissible!==!1,gt=d.className||"",dt=d.descriptionClassName||"",Ze=ie.useMemo(()=>v.findIndex(je=>je.toastId===d.id)||0,[v,d.id]),St=ie.useMemo(()=>{var je;return(je=d.closeButton)!=null?je:j},[d.closeButton,j]),ft=ie.useMemo(()=>d.duration||O||oD,[d.duration,O]),et=ie.useRef(0),We=ie.useRef(0),Rt=ie.useRef(0),wr=ie.useRef(null),[fs,Ua]=k.split("-"),ai=ie.useMemo(()=>v.reduce((je,Le,Fe)=>Fe>=Ze?je:je+Le.height,0),[v,Ze]),li=XO(),Ba=d.invert||h,yo=Ce==="loading";We.current=ie.useMemo(()=>Ze*D+ai,[Ze,ai]),ie.useEffect(()=>{H(!0)},[]),ie.useLayoutEffect(()=>{if(!B)return;let je=_e.current,Le=je.style.height;je.style.height="auto";let Fe=je.getBoundingClientRect().height;je.style.height=Le,ve(Fe),g(dn=>dn.find(fn=>fn.toastId===d.id)?dn.map(fn=>fn.toastId===d.id?{...fn,height:Fe}:fn):[{toastId:d.id,height:Fe,position:d.position},...dn])},[B,d.title,d.description,g,d.id]);let Nn=ie.useCallback(()=>{G(!0),ae(We.current),g(je=>je.filter(Le=>Le.toastId!==d.id)),setTimeout(()=>{C(d)},cD)},[d,C,g,We]);ie.useEffect(()=>{if(d.promise&&Ce==="loading"||d.duration===1/0||d.type==="loading")return;let je,Le=ft;return S||y||L&&li?(()=>{if(Rt.current<et.current){let Fe=new Date().getTime()-et.current;Le=Le-Fe}Rt.current=new Date().getTime()})():Le!==1/0&&(et.current=new Date().getTime(),je=setTimeout(()=>{var Fe;(Fe=d.onAutoClose)==null||Fe.call(d,d),Nn()},Le)),()=>clearTimeout(je)},[S,y,$,d,ft,Nn,d.promise,Ce,L,li]),ie.useEffect(()=>{let je=_e.current;if(je){let Le=je.getBoundingClientRect().height;return ve(Le),g(Fe=>[{toastId:d.id,height:Le,position:d.position},...Fe]),()=>g(Fe=>Fe.filter(dn=>dn.toastId!==d.id))}},[g,d.id]),ie.useEffect(()=>{d.delete&&Nn()},[Nn,d.delete]);function Ha(){return R!=null&&R.loading?ie.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},R.loading):I?ie.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},I):ie.createElement(VO,{visible:Ce==="loading"})}return ie.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:_e,className:U(E,gt,A==null?void 0:A.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[Ce],(n=d==null?void 0:d.classNames)==null?void 0:n[Ce]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:N,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":B,"data-promise":!!d.promise,"data-removed":ee,"data-visible":Se,"data-y-position":fs,"data-x-position":Ua,"data-index":w,"data-front":st,"data-swiping":W,"data-dismissible":Be,"data-type":Ce,"data-invert":Ba,"data-swipe-out":se,"data-expanded":!!(S||$&&B),style:{"--index":w,"--toasts-before":w,"--z-index":x.length-w,"--offset":`${ee?fe:We.current}px`,"--initial-height":$?"auto":`${pe}px`,...T,...d.style},onPointerDown:je=>{yo||!Be||(Me.current=new Date,ae(We.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(Q(!0),wr.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,Le,Fe,dn;if(se||!Be)return;wr.current=null;let fn=Number(((je=_e.current)==null?void 0:je.style.getPropertyValue("--swipe-amount").replace("px",""))||0),hs=new Date().getTime()-((Le=Me.current)==null?void 0:Le.getTime()),ci=Math.abs(fn)/hs;if(Math.abs(fn)>=lD||ci>.11){ae(We.current),(Fe=d.onDismiss)==null||Fe.call(d,d),Nn(),de(!0);return}(dn=_e.current)==null||dn.style.setProperty("--swipe-amount","0px"),Q(!1)},onPointerMove:je=>{var Le;if(!wr.current||!Be)return;let Fe=je.clientY-wr.current.y,dn=je.clientX-wr.current.x,fn=(fs==="top"?Math.min:Math.max)(0,Fe),hs=je.pointerType==="touch"?10:2;Math.abs(fn)>hs?(Le=_e.current)==null||Le.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(dn)>hs&&(wr.current=null)}},St&&!d.jsx?ie.createElement("button",{"aria-label":z,"data-disabled":yo,"data-close-button":!0,onClick:yo||!Be?()=>{}:()=>{var je;Nn(),(je=d.onDismiss)==null||je.call(d,d)},className:U(A==null?void 0:A.closeButton,(s=d==null?void 0:d.classNames)==null?void 0:s.closeButton)},ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||ie.isValidElement(d.title)?d.jsx||d.title:ie.createElement(ie.Fragment,null,Ce||d.icon||d.promise?ie.createElement("div",{"data-icon":"",className:U(A==null?void 0:A.icon,(o=d==null?void 0:d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Ha():null,d.type!=="loading"?d.icon||(R==null?void 0:R[Ce])||HO(Ce):null):null,ie.createElement("div",{"data-content":"",className:U(A==null?void 0:A.content,(i=d==null?void 0:d.classNames)==null?void 0:i.content)},ie.createElement("div",{"data-title":"",className:U(A==null?void 0:A.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},d.title),d.description?ie.createElement("div",{"data-description":"",className:U(M,dt,A==null?void 0:A.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},d.description):null),ie.isValidElement(d.cancel)?d.cancel:d.cancel&&pu(d.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||_,onClick:je=>{var Le,Fe;pu(d.cancel)&&Be&&((Fe=(Le=d.cancel).onClick)==null||Fe.call(Le,je),Nn())},className:U(A==null?void 0:A.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,ie.isValidElement(d.action)?d.action:d.action&&pu(d.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||P,onClick:je=>{var Le,Fe;pu(d.action)&&(je.defaultPrevented||((Fe=(Le=d.action).onClick)==null||Fe.call(Le,je),Nn()))},className:U(A==null?void 0:A.actionButton,(f=d==null?void 0:d.classNames)==null?void 0:f.actionButton)},d.action.label):null))};function K0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var fD=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:f,style:h,visibleToasts:d=rD,toastOptions:m,dir:y=K0(),gap:g=aD,loadingIcon:b,icons:v,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:x,cn:S=uD}=e,[C,N]=ie.useState([]),j=ie.useMemo(()=>Array.from(new Set([n].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,n]),[T,_]=ie.useState([]),[P,E]=ie.useState(!1),[M,O]=ie.useState(!1),[k,D]=ie.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=ie.useRef(null),$=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=ie.useRef(null),R=ie.useRef(!1),z=ie.useCallback(L=>{var U;(U=C.find(B=>B.id===L.id))!=null&&U.delete||jn.dismiss(L.id),N(B=>B.filter(({id:H})=>H!==L.id))},[C]);return ie.useEffect(()=>jn.subscribe(L=>{if(L.dismiss){N(U=>U.map(B=>B.id===L.id?{...B,delete:!0}:B));return}setTimeout(()=>{kv.flushSync(()=>{N(U=>{let B=U.findIndex(H=>H.id===L.id);return B!==-1?[...U.slice(0,B),{...U[B],...L},...U.slice(B+1)]:[L,...U]})})})}),[]),ie.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{D(L?"dark":"light")})},[c]),ie.useEffect(()=>{C.length<=1&&E(!1)},[C]),ie.useEffect(()=>{let L=U=>{var B,H;r.every(ee=>U[ee]||U.code===ee)&&(E(!0),(B=I.current)==null||B.focus()),U.code==="Escape"&&(document.activeElement===I.current||(H=I.current)!=null&&H.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),ie.useEffect(()=>{if(I.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,R.current=!1)}},[I.current]),C.length?ie.createElement("section",{"aria-label":`${w} ${$}`,tabIndex:-1},j.map((L,U)=>{var B;let[H,ee]=L.split("-");return ie.createElement("ol",{key:L,dir:y==="auto"?K0():y,tabIndex:-1,ref:I,className:i,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":H,"data-x-position":ee,style:{"--front-toast-height":`${((B=T[0])==null?void 0:B.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||sD,"--width":`${iD}px`,"--gap":`${g}px`,...h},onBlur:G=>{R.current&&!G.currentTarget.contains(G.relatedTarget)&&(R.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||R.current||(R.current=!0,A.current=G.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{M||E(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},C.filter(G=>!G.position&&U===0||G.position===L).map((G,W)=>{var Q,se;return ie.createElement(dD,{key:G.id,icons:v,index:W,toast:G,defaultRichColors:u,duration:(Q=m==null?void 0:m.duration)!=null?Q:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:d,closeButton:(se=m==null?void 0:m.closeButton)!=null?se:o,interacting:M,position:L,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:z,toasts:C.filter(de=>de.position==G.position),heights:T.filter(de=>de.position==G.position),setHeights:_,expandByDefault:s,gap:g,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:x,cn:S})}))})):null};const hD=({...e})=>{const{theme:t="system"}=BO();return a.jsx(fD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var pD=df.useId||(()=>{}),mD=0;function Ar(e){const[t,n]=p.useState(pD());return Pt(()=>{e||n(r=>r??String(mD++))},[e]),e||(t?`radix-${t}`:"")}const gD=["top","right","bottom","left"],no=Math.min,_n=Math.max,Dd=Math.round,mu=Math.floor,ro=e=>({x:e,y:e}),vD={left:"right",right:"left",bottom:"top",top:"bottom"},yD={start:"end",end:"start"};function Fm(e,t,n){return _n(e,no(t,n))}function os(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function Aa(e){return e.split("-")[1]}function zv(e){return e==="x"?"y":"x"}function Uv(e){return e==="y"?"height":"width"}function so(e){return["top","bottom"].includes(is(e))?"y":"x"}function Bv(e){return zv(so(e))}function xD(e,t,n){n===void 0&&(n=!1);const r=Aa(e),s=Bv(e),o=Uv(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ld(i)),[i,Ld(i)]}function wD(e){const t=Ld(e);return[zm(e),t,zm(t)]}function zm(e){return e.replace(/start|end/g,t=>yD[t])}function bD(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function SD(e,t,n,r){const s=Aa(e);let o=bD(is(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(zm)))),o}function Ld(e){return e.replace(/left|right|bottom|top/g,t=>vD[t])}function ND(e){return{top:0,right:0,bottom:0,left:0,...e}}function kC(e){return typeof e!="number"?ND(e):{top:e,right:e,bottom:e,left:e}}function Fd(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Y0(e,t,n){let{reference:r,floating:s}=e;const o=so(t),i=Bv(t),l=Uv(i),c=is(t),u=o==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,d=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:f,y:r.y-s.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Aa(t)){case"start":m[i]-=d*(n&&u?-1:1);break;case"end":m[i]+=d*(n&&u?-1:1);break}return m}const CD=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=Y0(u,r,c),d=r,m={},y=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x:w,y:x,data:S,reset:C}=await v({x:f,y:h,initialPlacement:r,placement:d,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});f=w??f,h=x??h,m={...m,[b]:{...m[b],...S}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:f,y:h}=Y0(u,d,c)),g=-1)}return{x:f,y:h,placement:d,strategy:s,middlewareData:m}};async function Yl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:d=!1,padding:m=0}=os(t,e),y=kC(m),b=l[d?h==="floating"?"reference":"floating":h],v=Fd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},C=Fd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:x,strategy:c}):w);return{top:(v.top-C.top+y.top)/S.y,bottom:(C.bottom-v.bottom+y.bottom)/S.y,left:(v.left-C.left+y.left)/S.x,right:(C.right-v.right+y.right)/S.x}}const jD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=os(e,t)||{};if(u==null)return{};const h=kC(f),d={x:n,y:r},m=Bv(s),y=Uv(m),g=await i.getDimensions(u),b=m==="y",v=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[m]-d[m]-o.floating[y],C=d[m]-o.reference[m],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=N?N[x]:0;(!j||!await(i.isElement==null?void 0:i.isElement(N)))&&(j=l.floating[x]||o.floating[y]);const T=S/2-C/2,_=j/2-g[y]/2-1,P=no(h[v],_),E=no(h[w],_),M=P,O=j-g[y]-E,k=j/2-g[y]/2+T,D=Fm(M,k,O),I=!c.arrow&&Aa(s)!=null&&k!==D&&o.reference[y]/2-(k<M?P:E)-g[y]/2<0,$=I?k<M?k-M:k-O:0;return{[m]:d[m]+$,data:{[m]:D,centerOffset:k-D-$,...I&&{alignmentOffset:$}},reset:I}}}),kD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=os(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=is(s),w=so(l),x=is(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=d||(x||!g?[Ld(l)]:wD(l)),N=y!=="none";!d&&N&&C.push(...SD(l,g,y,S));const j=[l,...C],T=await Yl(t,b),_=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&_.push(T[v]),h){const k=xD(s,i,S);_.push(T[k[0]],T[k[1]])}if(P=[...P,{placement:s,overflows:_}],!_.every(k=>k<=0)){var E,M;const k=(((E=o.flip)==null?void 0:E.index)||0)+1,D=j[k];if(D)return{data:{index:k,overflows:P},reset:{placement:D}};let I=(M=P.filter($=>$.overflows[0]<=0).sort(($,A)=>$.overflows[1]-A.overflows[1])[0])==null?void 0:M.placement;if(!I)switch(m){case"bestFit":{var O;const $=(O=P.filter(A=>{if(N){const R=so(A.placement);return R===w||R==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((A,R)=>A[1]-R[1])[0])==null?void 0:O[0];$&&(I=$);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function X0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q0(e){return gD.some(t=>e[t]>=0)}const _D=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=os(e,t);switch(r){case"referenceHidden":{const o=await Yl(t,{...s,elementContext:"reference"}),i=X0(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Q0(i)}}}case"escaped":{const o=await Yl(t,{...s,altBoundary:!0}),i=X0(o,n.floating);return{data:{escapedOffsets:i,escaped:Q0(i)}}}default:return{}}}}};async function ED(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=is(n),l=Aa(n),c=so(n)==="y",u=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,h=os(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const TD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await ED(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},PD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...c}=os(e,t),u={x:n,y:r},f=await Yl(t,c),h=so(is(s)),d=zv(h);let m=u[d],y=u[h];if(o){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=m+f[b],x=m-f[v];m=Fm(w,m,x)}if(i){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=y+f[b],x=y-f[v];y=Fm(w,y,x)}const g=l.fn({...t,[d]:m,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:o,[h]:i}}}}}},RD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=os(e,t),f={x:n,y:r},h=so(s),d=zv(h);let m=f[d],y=f[h];const g=os(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=d==="y"?"height":"width",S=o.reference[d]-o.floating[x]+b.mainAxis,C=o.reference[d]+o.reference[x]-b.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var v,w;const x=d==="y"?"width":"height",S=["top","left"].includes(is(s)),C=o.reference[h]-o.floating[x]+(S&&((v=i.offset)==null?void 0:v[h])||0)+(S?0:b.crossAxis),N=o.reference[h]+o.reference[x]+(S?0:((w=i.offset)==null?void 0:w[h])||0)-(S?b.crossAxis:0);y<C?y=C:y>N&&(y=N)}return{[d]:m,[h]:y}}}},AD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=os(e,t),f=await Yl(t,u),h=is(s),d=Aa(s),m=so(s)==="y",{width:y,height:g}=o.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=d===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=d==="end"?"top":"bottom");const w=g-f.top-f.bottom,x=y-f.left-f.right,S=no(g-f[b],w),C=no(y-f[v],x),N=!t.middlewareData.shift;let j=S,T=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),N&&!d){const P=_n(f.left,0),E=_n(f.right,0),M=_n(f.top,0),O=_n(f.bottom,0);m?T=y-2*(P!==0||E!==0?P+E:_n(f.left,f.right)):j=g-2*(M!==0||O!==0?M+O:_n(f.top,f.bottom))}await c({...t,availableWidth:T,availableHeight:j});const _=await i.getDimensions(l.floating);return y!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Pf(){return typeof window<"u"}function Ma(e){return _C(e)?(e.nodeName||"").toLowerCase():"#document"}function Rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Or(e){var t;return(t=(_C(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _C(e){return Pf()?e instanceof Node||e instanceof Rn(e).Node:!1}function pr(e){return Pf()?e instanceof Element||e instanceof Rn(e).Element:!1}function Ir(e){return Pf()?e instanceof HTMLElement||e instanceof Rn(e).HTMLElement:!1}function J0(e){return!Pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rn(e).ShadowRoot}function _c(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function MD(e){return["table","td","th"].includes(Ma(e))}function Rf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Hv(e){const t=Wv(),n=pr(e)?mr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ID(e){let t=oo(e);for(;Ir(t)&&!fa(t);){if(Hv(t))return t;if(Rf(t))return null;t=oo(t)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fa(e){return["html","body","#document"].includes(Ma(e))}function mr(e){return Rn(e).getComputedStyle(e)}function Af(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oo(e){if(Ma(e)==="html")return e;const t=e.assignedSlot||e.parentNode||J0(e)&&e.host||Or(e);return J0(t)?t.host:t}function EC(e){const t=oo(e);return fa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&_c(t)?t:EC(t)}function Xl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=EC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Rn(s);if(o){const l=Um(i);return t.concat(i,i.visualViewport||[],_c(s)?s:[],l&&n?Xl(l):[])}return t.concat(s,Xl(s,[],n))}function Um(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TC(e){const t=mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ir(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Dd(n)!==o||Dd(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Vv(e){return pr(e)?e:e.contextElement}function Vi(e){const t=Vv(e);if(!Ir(t))return ro(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=TC(t);let i=(o?Dd(n.width):n.width)/r,l=(o?Dd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const $D=ro(0);function PC(e){const t=Rn(e);return!Wv()||!t.visualViewport?$D:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Rn(e)?!1:t}function qo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Vv(e);let i=ro(1);t&&(r?pr(r)&&(i=Vi(r)):i=Vi(e));const l=OD(o,n,r)?PC(o):ro(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const d=Rn(o),m=r&&pr(r)?Rn(r):r;let y=d,g=Um(y);for(;g&&r&&m!==y;){const b=Vi(g),v=g.getBoundingClientRect(),w=mr(g),x=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*b.x,S=v.top+(g.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=x,u+=S,y=Rn(g),g=Um(y)}}return Fd({width:f,height:h,x:c,y:u})}function DD(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Or(r),l=t?Rf(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ro(1);const f=ro(0),h=Ir(r);if((h||!h&&!o)&&((Ma(r)!=="body"||_c(i))&&(c=Af(r)),Ir(r))){const d=qo(r);u=Vi(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function LD(e){return Array.from(e.getClientRects())}function Bm(e,t){const n=Af(e).scrollLeft;return t?t.left+n:qo(Or(e)).left+n}function FD(e){const t=Or(e),n=Af(e),r=e.ownerDocument.body,s=_n(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=_n(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Bm(e);const l=-n.scrollTop;return mr(r).direction==="rtl"&&(i+=_n(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function zD(e,t){const n=Rn(e),r=Or(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Wv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function UD(e,t){const n=qo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ir(e)?Vi(e):ro(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Z0(e,t,n){let r;if(t==="viewport")r=zD(e,n);else if(t==="document")r=FD(Or(e));else if(pr(t))r=UD(t,n);else{const s=PC(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Fd(r)}function RC(e,t){const n=oo(e);return n===t||!pr(n)||fa(n)?!1:mr(n).position==="fixed"||RC(n,t)}function BD(e,t){const n=t.get(e);if(n)return n;let r=Xl(e,[],!1).filter(l=>pr(l)&&Ma(l)!=="body"),s=null;const o=mr(e).position==="fixed";let i=o?oo(e):e;for(;pr(i)&&!fa(i);){const l=mr(i),c=Hv(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_c(i)&&!c&&RC(e,i))?r=r.filter(f=>f!==i):s=l,i=oo(i)}return t.set(e,r),r}function HD(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Rf(t)?[]:BD(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,f)=>{const h=Z0(t,f,s);return u.top=_n(h.top,u.top),u.right=no(h.right,u.right),u.bottom=no(h.bottom,u.bottom),u.left=_n(h.left,u.left),u},Z0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WD(e){const{width:t,height:n}=TC(e);return{width:t,height:n}}function VD(e,t,n){const r=Ir(t),s=Or(t),o=n==="fixed",i=qo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ro(0);if(r||!r&&!o)if((Ma(t)!=="body"||_c(s))&&(l=Af(t)),r){const m=qo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=Bm(s));let u=0,f=0;if(s&&!r&&!o){const m=s.getBoundingClientRect();f=m.top+l.scrollTop,u=m.left+l.scrollLeft-Bm(s,m)}const h=i.left+l.scrollLeft-c.x-u,d=i.top+l.scrollTop-c.y-f;return{x:h,y:d,width:i.width,height:i.height}}function np(e){return mr(e).position==="static"}function ew(e,t){if(!Ir(e)||mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Or(e)===n&&(n=n.ownerDocument.body),n}function AC(e,t){const n=Rn(e);if(Rf(e))return n;if(!Ir(e)){let s=oo(e);for(;s&&!fa(s);){if(pr(s)&&!np(s))return s;s=oo(s)}return n}let r=ew(e,t);for(;r&&MD(r)&&np(r);)r=ew(r,t);return r&&fa(r)&&np(r)&&!Hv(r)?n:r||ID(e)||n}const qD=async function(e){const t=this.getOffsetParent||AC,n=this.getDimensions,r=await n(e.floating);return{reference:VD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GD(e){return mr(e).direction==="rtl"}const KD={convertOffsetParentRelativeRectToViewportRelativeRect:DD,getDocumentElement:Or,getClippingRect:HD,getOffsetParent:AC,getElementRects:qD,getClientRects:LD,getDimensions:WD,getScale:Vi,isElement:pr,isRTL:GD};function YD(e,t){let n=null,r;const s=Or(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:h,height:d}=e.getBoundingClientRect();if(l||t(),!h||!d)return;const m=mu(f),y=mu(s.clientWidth-(u+h)),g=mu(s.clientHeight-(f+d)),b=mu(u),w={rootMargin:-m+"px "+-y+"px "+-g+"px "+-b+"px",threshold:_n(0,no(1,c))||1};let x=!0;function S(C){const N=C[0].intersectionRatio;if(N!==c){if(!x)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return i(!0),o}function MC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Vv(e),f=s||o?[...u?Xl(u):[],...Xl(t)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&l?YD(u,n):null;let d=-1,m=null;i&&(m=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?qo(e):null;c&&b();function b(){const v=qo(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,y=requestAnimationFrame(b)}return n(),()=>{var v;f.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const XD=TD,QD=PD,JD=kD,ZD=AD,e4=_D,tw=jD,t4=RD,n4=(e,t,n)=>{const r=new Map,s={platform:KD,...n},o={...s.platform,_c:r};return CD(e,t,{...s,platform:o})};var nd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function zd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!zd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function IC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(e,t){const n=IC(e);return Math.round(t*n)/n}function rp(e){const t=p.useRef(e);return nd(()=>{t.current=e}),t}function $C(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,m]=p.useState(r);zd(d,r)||m(r);const[y,g]=p.useState(null),[b,v]=p.useState(null),w=p.useCallback(A=>{A!==N.current&&(N.current=A,g(A))},[]),x=p.useCallback(A=>{A!==j.current&&(j.current=A,v(A))},[]),S=o||y,C=i||b,N=p.useRef(null),j=p.useRef(null),T=p.useRef(f),_=c!=null,P=rp(c),E=rp(s),M=rp(u),O=p.useCallback(()=>{if(!N.current||!j.current)return;const A={placement:t,strategy:n,middleware:d};E.current&&(A.platform=E.current),n4(N.current,j.current,A).then(R=>{const z={...R,isPositioned:M.current!==!1};k.current&&!zd(T.current,z)&&(T.current=z,cs.flushSync(()=>{h(z)}))})},[d,t,n,E,M]);nd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[u]);const k=p.useRef(!1);nd(()=>(k.current=!0,()=>{k.current=!1}),[]),nd(()=>{if(S&&(N.current=S),C&&(j.current=C),S&&C){if(P.current)return P.current(S,C,O);O()}},[S,C,O,P,_]);const D=p.useMemo(()=>({reference:N,floating:j,setReference:w,setFloating:x}),[w,x]),I=p.useMemo(()=>({reference:S,floating:C}),[S,C]),$=p.useMemo(()=>{const A={position:n,left:0,top:0};if(!I.floating)return A;const R=nw(I.floating,f.x),z=nw(I.floating,f.y);return l?{...A,transform:"translate("+R+"px, "+z+"px)",...IC(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:z}},[n,l,I.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:O,refs:D,elements:I,floatingStyles:$}),[f,O,D,I,$])}const r4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tw({element:r.current,padding:s}).fn(n):{}:r?tw({element:r,padding:s}).fn(n):{}}}},OC=(e,t)=>({...XD(e),options:[e,t]}),DC=(e,t)=>({...QD(e),options:[e,t]}),LC=(e,t)=>({...t4(e),options:[e,t]}),FC=(e,t)=>({...JD(e),options:[e,t]}),zC=(e,t)=>({...ZD(e),options:[e,t]}),UC=(e,t)=>({...e4(e),options:[e,t]}),BC=(e,t)=>({...r4(e),options:[e,t]});var s4="Arrow",HC=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(ye.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});HC.displayName=s4;var o4=HC;function i4(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:d,children:m,...y}=h,g=(d==null?void 0:d[e][c])||l,b=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:b,children:m})}function f(h,d){const m=(d==null?void 0:d[e][c])||l,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,a4(s,...t)]}function a4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function qv(e){const[t,n]=p.useState(void 0);return Pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gv="Popper",[WC,Ia]=i4(Gv),[l4,VC]=WC(Gv),qC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return a.jsx(l4,{scope:t,anchor:r,onAnchorChange:s,children:n})};qC.displayName=Gv;var GC="PopperAnchor",KC=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=VC(GC,n),i=p.useRef(null),l=Ee(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ye.div,{...s,ref:l})});KC.displayName=GC;var Kv="PopperContent",[c4,u4]=WC(Kv),YC=p.forwardRef((e,t)=>{var W,Q,se,de,fe,ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,b=VC(Kv,n),[v,w]=p.useState(null),x=Ee(t,pe=>w(pe)),[S,C]=p.useState(null),N=qv(S),j=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,_=r+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(u)?u:[u],M=E.length>0,O={padding:P,boundary:E.filter(f4),altBoundary:M},{refs:k,floatingStyles:D,placement:I,isPositioned:$,middlewareData:A}=$C({strategy:"fixed",placement:_,whileElementsMounted:(...pe)=>MC(...pe,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[OC({mainAxis:s+T,alignmentAxis:i}),c&&DC({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?LC():void 0,...O}),c&&FC({...O}),zC({...O,apply:({elements:pe,rects:ve,availableWidth:Me,availableHeight:_e})=>{const{width:st,height:Se}=ve.reference,Ce=pe.floating.style;Ce.setProperty("--radix-popper-available-width",`${Me}px`),Ce.setProperty("--radix-popper-available-height",`${_e}px`),Ce.setProperty("--radix-popper-anchor-width",`${st}px`),Ce.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),S&&BC({element:S,padding:l}),h4({arrowWidth:j,arrowHeight:T}),d&&UC({strategy:"referenceHidden",...O})]}),[R,z]=JC(I),L=Qe(y);Pt(()=>{$&&(L==null||L())},[$,L]);const U=(W=A.arrow)==null?void 0:W.x,B=(Q=A.arrow)==null?void 0:Q.y,H=((se=A.arrow)==null?void 0:se.centerOffset)!==0,[ee,G]=p.useState();return Pt(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:$?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(de=A.transformOrigin)==null?void 0:de.x,(fe=A.transformOrigin)==null?void 0:fe.y].join(" "),...((ae=A.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(c4,{scope:n,placedSide:R,onArrowChange:C,arrowX:U,arrowY:B,shouldHideArrow:H,children:a.jsx(ye.div,{"data-side":R,"data-align":z,...g,ref:x,style:{...g.style,animation:$?void 0:"none"}})})})});YC.displayName=Kv;var XC="PopperArrow",d4={top:"bottom",right:"left",bottom:"top",left:"right"},QC=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=u4(XC,r),i=d4[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(o4,{...s,ref:n,style:{...s.style,display:"block"}})})});QC.displayName=XC;function f4(e){return e!==null}var h4=e=>({name:"transformOrigin",options:e,fn(t){var b,v,w;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=JC(n),h={start:"0%",center:"50%",end:"100%"}[f],d=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?h:`${d}px`,g=`${-c}px`):u==="top"?(y=i?h:`${d}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?h:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=i?h:`${m}px`),{data:{x:y,y:g}}}});function JC(e){const[t,n="center"]=e.split("-");return[t,n]}var ZC=qC,Yv=KC,Xv=YC,Qv=QC,[Mf,PY]=Gn("Tooltip",[Ia]),Jv=Ia(),ej="TooltipProvider",p4=700,rw="tooltip.open",[m4,tj]=Mf(ej),nj=e=>{const{__scopeTooltip:t,delayDuration:n=p4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(m4,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};nj.displayName=ej;var rj="Tooltip",[RY,If]=Mf(rj),Hm="TooltipTrigger",g4=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=If(Hm,n),o=tj(Hm,n),i=Jv(n),l=p.useRef(null),c=Ee(t,l,s.onTriggerChange),u=p.useRef(!1),f=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(Yv,{asChild:!0,...i,children:a.jsx(ye.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Z(e.onPointerMove,d=>{d.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});g4.displayName=Hm;var v4="TooltipPortal",[AY,y4]=Mf(v4,{forceMount:void 0}),ha="TooltipContent",sj=p.forwardRef((e,t)=>{const n=y4(ha,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=If(ha,e.__scopeTooltip);return a.jsx(ln,{present:r||i.open,children:i.disableHoverableContent?a.jsx(oj,{side:s,...o,ref:t}):a.jsx(x4,{side:s,...o,ref:t})})}),x4=p.forwardRef((e,t)=>{const n=If(ha,e.__scopeTooltip),r=tj(ha,e.__scopeTooltip),s=p.useRef(null),o=Ee(t,s),[i,l]=p.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,d=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((y,g)=>{const b=y.currentTarget,v={x:y.clientX,y:y.clientY},w=N4(v,b.getBoundingClientRect()),x=C4(v,w),S=j4(g.getBoundingClientRect()),C=_4([...x,...S]);l(C),h(!0)},[h]);return p.useEffect(()=>()=>d(),[d]),p.useEffect(()=>{if(c&&f){const y=b=>m(b,f),g=b=>m(b,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",g)}}},[c,f,m,d]),p.useEffect(()=>{if(i){const y=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),x=!k4(v,i);w?d():x&&(d(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,d]),a.jsx(oj,{...e,ref:o})}),[w4,b4]=Mf(rj,{isInside:!1}),oj=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=If(ha,n),u=Jv(n),{onClose:f}=c;return p.useEffect(()=>(document.addEventListener(rw,f),()=>document.removeEventListener(rw,f)),[f]),p.useEffect(()=>{if(c.trigger){const h=d=>{const m=d.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),a.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:a.jsxs(Xv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx($N,{children:r}),a.jsx(w4,{scope:n,isInside:!0,children:a.jsx(l$,{id:c.contentId,role:"tooltip",children:s||r})})]})})});sj.displayName=ha;var ij="TooltipArrow",S4=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Jv(n);return b4(ij,n).isInside?null:a.jsx(Qv,{...s,...r,ref:t})});S4.displayName=ij;function N4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function C4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function j4(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function k4(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function _4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),E4(t)}function E4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var T4=nj,aj=sj;const P4=T4,R4=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(aj,{ref:r,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));R4.displayName=aj.displayName;var $f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Of=typeof window>"u"||"Deno"in globalThis;function er(){}function A4(e,t){return typeof e=="function"?e(t):e}function M4(e){return typeof e=="number"&&e>=0&&e!==1/0}function I4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sw(e,t){return typeof e=="function"?e(t):e}function $4(e,t){return typeof e=="function"?e(t):e}function ow(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==Zv(i,t.options))return!1}else if(!Jl(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function iw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ql(t.options.mutationKey)!==Ql(o))return!1}else if(!Jl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ql)(e)}function Ql(e){return JSON.stringify(e,(t,n)=>Wm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Jl(e[n],t[n])):!1}function lj(e,t){if(e===t)return e;const n=aw(e)&&aw(t);if(n||Wm(e)&&Wm(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const f=n?u:o[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=lj(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function aw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wm(e){if(!lw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lw(e){return Object.prototype.toString.call(e)==="[object Object]"}function O4(e){return new Promise(t=>{setTimeout(t,e)})}function D4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lj(e,t):t}function L4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function F4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ey=Symbol();function cj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ey?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ao,As,Yi,p1,z4=(p1=class extends $f{constructor(){super();ze(this,Ao);ze(this,As);ze(this,Yi);Re(this,Yi,t=>{if(!Of&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,As)||this.setEventListener(K(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,As))==null||t.call(this),Re(this,As,void 0))}setEventListener(t){var n;Re(this,Yi,t),(n=K(this,As))==null||n.call(this),Re(this,As,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){K(this,Ao)!==t&&(Re(this,Ao,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof K(this,Ao)=="boolean"?K(this,Ao):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ao=new WeakMap,As=new WeakMap,Yi=new WeakMap,p1),uj=new z4,Xi,Ms,Qi,m1,U4=(m1=class extends $f{constructor(){super();ze(this,Xi,!0);ze(this,Ms);ze(this,Qi);Re(this,Qi,t=>{if(!Of&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Ms)||this.setEventListener(K(this,Qi))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Ms))==null||t.call(this),Re(this,Ms,void 0))}setEventListener(t){var n;Re(this,Qi,t),(n=K(this,Ms))==null||n.call(this),Re(this,Ms,t(this.setOnline.bind(this)))}setOnline(t){K(this,Xi)!==t&&(Re(this,Xi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return K(this,Xi)}},Xi=new WeakMap,Ms=new WeakMap,Qi=new WeakMap,m1),Ud=new U4;function B4(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function H4(e){return Math.min(1e3*2**e,3e4)}function dj(e){return(e??"online")==="online"?Ud.isOnline():!0}var fj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sp(e){return e instanceof fj}function hj(e){let t=!1,n=0,r=!1,s;const o=B4(),i=g=>{var b;r||(d(new fj(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>uj.isFocused()&&(e.networkMode==="always"||Ud.isOnline())&&e.canRun(),f=()=>dj(e.networkMode)&&e.canRun(),h=g=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),o.resolve(g))},d=g=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),o.reject(g))},m=()=>new Promise(g=>{var b;s=v=>{(r||u())&&g(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var N;if(r)return;const w=e.retry??(Of?0:3),x=e.retryDelay??H4,S=typeof x=="function"?x(n,v):x,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(t||!C){d(v);return}n++,(N=e.onFail)==null||N.call(e,n,v),O4(S).then(()=>u()?void 0:m()).then(()=>{t?d(v):y()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?y():m().then(y),o)}}function W4(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var rn=W4(),Mo,g1,pj=(g1=class{constructor(){ze(this,Mo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M4(this.gcTime)&&Re(this,Mo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Of?1/0:5*60*1e3))}clearGcTimeout(){K(this,Mo)&&(clearTimeout(K(this,Mo)),Re(this,Mo,void 0))}},Mo=new WeakMap,g1),Ji,Zi,Ln,Gt,mc,Io,tr,Ur,v1,V4=(v1=class extends pj{constructor(t){super();ze(this,tr);ze(this,Ji);ze(this,Zi);ze(this,Ln);ze(this,Gt);ze(this,mc);ze(this,Io);Re(this,Io,!1),Re(this,mc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Ln,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Ji,G4(this.options)),this.state=t.state??K(this,Ji),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,Gt))==null?void 0:t.promise}setOptions(t){this.options={...K(this,mc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Ln).remove(this)}setData(t,n){const r=D4(this.state.data,t,this.options);return Ht(this,tr,Ur).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ht(this,tr,Ur).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=K(this,Gt))==null?void 0:r.promise;return(s=K(this,Gt))==null||s.cancel(t),n?n.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Ji))}isActive(){return this.observers.some(t=>$4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ey||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!I4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,Ln).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(K(this,Gt)&&(K(this,Io)?K(this,Gt).cancel({revert:!0}):K(this,Gt).cancelRetry()),this.scheduleGc()),K(this,Ln).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,tr,Ur).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,Gt))return K(this,Gt).continueRetry(),K(this,Gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(d=>d.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Re(this,Io,!0),r.signal)})},o=()=>{const h=cj(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return s(d),Re(this,Io,!1),this.options.persister?this.options.persister(h,d,this):h(d)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),Re(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Ht(this,tr,Ur).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const l=h=>{var d,m,y,g;sp(h)&&h.silent||Ht(this,tr,Ur).call(this,{type:"error",error:h}),sp(h)||((m=(d=K(this,Ln).config).onError)==null||m.call(d,h,this),(g=(y=K(this,Ln).config).onSettled)==null||g.call(y,this.state.data,h,this)),this.scheduleGc()};return Re(this,Gt,hj({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var d,m,y,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(m=(d=K(this,Ln).config).onSuccess)==null||m.call(d,h,this),(g=(y=K(this,Ln).config).onSettled)==null||g.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,d)=>{Ht(this,tr,Ur).call(this,{type:"failed",failureCount:h,error:d})},onPause:()=>{Ht(this,tr,Ur).call(this,{type:"pause"})},onContinue:()=>{Ht(this,tr,Ur).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),K(this,Gt).start()}},Ji=new WeakMap,Zi=new WeakMap,Ln=new WeakMap,Gt=new WeakMap,mc=new WeakMap,Io=new WeakMap,tr=new WeakSet,Ur=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...q4(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return sp(s)&&s.revert&&K(this,Zi)?{...K(this,Zi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),K(this,Ln).notify({query:this,type:"updated",action:t})})},v1);function q4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,y1,K4=(y1=class extends $f{constructor(t={}){super();ze(this,Cr);this.config=t,Re(this,Cr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Zv(s,n);let i=this.get(o);return i||(i=new V4({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){K(this,Cr).has(t.queryHash)||(K(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=K(this,Cr).get(t.queryHash);n&&(t.destroy(),n===t&&K(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Cr).get(t)}getAll(){return[...K(this,Cr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ow(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ow(t,r)):n}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,y1),jr,tn,$o,kr,Ss,x1,Y4=(x1=class extends pj{constructor(t){super();ze(this,kr);ze(this,jr);ze(this,tn);ze(this,$o);this.mutationId=t.mutationId,Re(this,tn,t.mutationCache),Re(this,jr,[]),this.state=t.state||X4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,jr).includes(t)||(K(this,jr).push(t),this.clearGcTimeout(),K(this,tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,jr,K(this,jr).filter(n=>n!==t)),this.scheduleGc(),K(this,tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,jr).length||(this.state.status==="pending"?this.scheduleGc():K(this,tn).remove(this))}continue(){var t;return((t=K(this,$o))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,f,h,d,m,y,g,b,v,w,x,S,C,N,j;Re(this,$o,hj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,_)=>{Ht(this,kr,Ss).call(this,{type:"failed",failureCount:T,error:_})},onPause:()=>{Ht(this,kr,Ss).call(this,{type:"pause"})},onContinue:()=>{Ht(this,kr,Ss).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,tn).canRun(this)}));const n=this.state.status==="pending",r=!K(this,$o).canStart();try{if(!n){Ht(this,kr,Ss).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=K(this,tn).config).onMutate)==null?void 0:o.call(s,t,this));const _=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));_!==this.state.context&&Ht(this,kr,Ss).call(this,{type:"pending",context:_,variables:t,isPaused:r})}const T=await K(this,$o).start();return await((u=(c=K(this,tn).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,T,t,this.state.context)),await((m=(d=K(this,tn).config).onSettled)==null?void 0:m.call(d,T,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,T,null,t,this.state.context)),Ht(this,kr,Ss).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(b=K(this,tn).config).onError)==null?void 0:v.call(b,T,t,this.state.context,this)),await((x=(w=this.options).onError)==null?void 0:x.call(w,T,t,this.state.context)),await((C=(S=K(this,tn).config).onSettled)==null?void 0:C.call(S,void 0,T,this.state.variables,this.state.context,this)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,T,t,this.state.context)),T}finally{Ht(this,kr,Ss).call(this,{type:"error",error:T})}}finally{K(this,tn).runNext(this)}}},jr=new WeakMap,tn=new WeakMap,$o=new WeakMap,kr=new WeakSet,Ss=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{K(this,jr).forEach(r=>{r.onMutationUpdate(t)}),K(this,tn).notify({mutation:this,type:"updated",action:t})})},x1);function X4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn,gc,w1,Q4=(w1=class extends $f{constructor(t={}){super();ze(this,Cn);ze(this,gc);this.config=t,Re(this,Cn,new Map),Re(this,gc,Date.now())}build(t,n,r){const s=new Y4({mutationCache:this,mutationId:++Gc(this,gc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=gu(t),r=K(this,Cn).get(n)??[];r.push(t),K(this,Cn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=gu(t);if(K(this,Cn).has(n)){const s=(r=K(this,Cn).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?K(this,Cn).delete(n):K(this,Cn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=K(this,Cn).get(gu(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=K(this,Cn).get(gu(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...K(this,Cn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iw(n,r))}findAll(t={}){return this.getAll().filter(n=>iw(t,n))}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(t.map(n=>n.continue().catch(er))))}},Cn=new WeakMap,gc=new WeakMap,w1);function gu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function cw(e){return{onFetch:(t,n)=>{var f,h,d,m,y;const r=t.options,s=(d=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=cj(t.options,t.fetchOptions),w=async(x,S,C)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const N={queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};b(N);const j=await v(N),{maxPages:T}=t.options,_=C?F4:L4;return{pages:_(x.pages,j,T),pageParams:_(x.pageParams,S,T)}};if(s&&o.length){const x=s==="backward",S=x?J4:uw,C={pages:o,pageParams:i},N=S(r,C);l=await w(C,N,x)}else{const x=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:uw(r,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function uw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function J4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ct,Is,$s,ea,ta,Os,na,ra,b1,Z4=(b1=class{constructor(e={}){ze(this,ct);ze(this,Is);ze(this,$s);ze(this,ea);ze(this,ta);ze(this,Os);ze(this,na);ze(this,ra);Re(this,ct,e.queryCache||new K4),Re(this,Is,e.mutationCache||new Q4),Re(this,$s,e.defaultOptions||{}),Re(this,ea,new Map),Re(this,ta,new Map),Re(this,Os,0)}mount(){Gc(this,Os)._++,K(this,Os)===1&&(Re(this,na,uj.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,ct).onFocus())})),Re(this,ra,Ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,ct).onOnline())})))}unmount(){var e,t;Gc(this,Os)._--,K(this,Os)===0&&((e=K(this,na))==null||e.call(this),Re(this,na,void 0),(t=K(this,ra))==null||t.call(this),Re(this,ra,void 0))}isFetching(e){return K(this,ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,Is).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,ct).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=K(this,ct).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(sw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return K(this,ct).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=K(this,ct).get(r.queryHash),o=s==null?void 0:s.state.data,i=A4(t,o);if(i!==void 0)return K(this,ct).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return rn.batch(()=>K(this,ct).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,ct).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=K(this,ct);rn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=K(this,ct),r={type:"active",...e};return rn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=rn.batch(()=>K(this,ct).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(e={},t={}){return rn.batch(()=>{if(K(this,ct).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=rn.batch(()=>K(this,ct).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=K(this,ct).build(this,t);return n.isStaleByTime(sw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(er).catch(er)}fetchInfiniteQuery(e){return e.behavior=cw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(er).catch(er)}ensureInfiniteQueryData(e){return e.behavior=cw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ud.isOnline()?K(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,ct)}getMutationCache(){return K(this,Is)}getDefaultOptions(){return K(this,$s)}setDefaultOptions(e){Re(this,$s,e)}setQueryDefaults(e,t){K(this,ea).set(Ql(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,ea).values()];let n={};return t.forEach(r=>{Jl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){K(this,ta).set(Ql(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,ta).values()];let n={};return t.forEach(r=>{Jl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,$s).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ey&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,$s).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,ct).clear(),K(this,Is).clear()}},ct=new WeakMap,Is=new WeakMap,$s=new WeakMap,ea=new WeakMap,ta=new WeakMap,Os=new WeakMap,na=new WeakMap,ra=new WeakMap,b1),e3=p.createContext(void 0),t3=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(e3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const dw="popstate";function n3(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Vm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gj(s)}return s3(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r3(){return Math.random().toString(36).substr(2,8)}function fw(e,t){return{usr:e.state,key:e.key,idx:t}}function Vm(e,t,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$a(t):t,{state:n,key:t&&t.key||r||r3()})}function gj(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $a(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s3(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Fs.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Zl({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function h(){l=Fs.Pop;let b=f(),v=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:v})}function d(b,v){l=Fs.Push;let w=Vm(g.location,b,v);u=f()+1;let x=fw(w,u),S=g.createHref(w);try{i.pushState(x,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}o&&c&&c({action:l,location:g.location,delta:1})}function m(b,v){l=Fs.Replace;let w=Vm(g.location,b,v);u=f();let x=fw(w,u),S=g.createHref(w);i.replaceState(x,"",S),o&&c&&c({action:l,location:g.location,delta:0})}function y(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:gj(b);return w=w.replace(/ $/,"%20"),wt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(dw,h),c=b,()=>{s.removeEventListener(dw,h),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:m,go(b){return i.go(b)}};return g}var hw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hw||(hw={}));function o3(e,t,n){return n===void 0&&(n="/"),i3(e,t,n,!1)}function i3(e,t,n,r){let s=typeof t=="string"?$a(t):t,o=xj(s.pathname||"/",n);if(o==null)return null;let i=vj(e);a3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=y3(o);l=g3(i[c],u,r)}return l}function vj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Lo([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vj(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:p3(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of yj(o.path))s(o,i,c)}),t}function yj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=yj(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function a3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:m3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l3=/^:[\w-]+$/,c3=3,u3=2,d3=1,f3=10,h3=-2,pw=e=>e==="*";function p3(e,t){let n=e.split("/"),r=n.length;return n.some(pw)&&(r+=h3),t&&(r+=u3),n.filter(s=>!pw(s)).reduce((s,o)=>s+(l3.test(o)?c3:o===""?d3:f3),r)}function m3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function g3(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=mw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),d=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=mw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Lo([o,h.pathname]),pathnameBase:S3(Lo([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=Lo([o,h.pathnameBase]))}return i}function mw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=v3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:d,isOptional:m}=f;if(d==="*"){let g=l[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[h];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function v3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function y3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function x3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?$a(e):e;return{pathname:n?n.startsWith("/")?n:w3(n,t):t,search:N3(r),hash:C3(s)}}function w3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function op(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wj(e,t){let n=b3(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bj(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=$a(e):(s=Zl({},e),wt(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}l=h>=0?t[h]:"/"}let c=x3(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Lo=e=>e.join("/").replace(/\/\/+/g,"/"),S3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sj=["post","put","patch","delete"];new Set(Sj);const k3=["get",...Sj];new Set(k3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}const ty=p.createContext(null),_3=p.createContext(null),Ec=p.createContext(null),Df=p.createContext(null),ei=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Nj=p.createContext(null);function Tc(){return p.useContext(Df)!=null}function Lf(){return Tc()||wt(!1),p.useContext(Df).location}function Cj(e){p.useContext(Ec).static||p.useLayoutEffect(e)}function ny(){let{isDataRoute:e}=p.useContext(ei);return e?z3():E3()}function E3(){Tc()||wt(!1);let e=p.useContext(ty),{basename:t,future:n,navigator:r}=p.useContext(Ec),{matches:s}=p.useContext(ei),{pathname:o}=Lf(),i=JSON.stringify(wj(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Cj(()=>{l.current=!0}),p.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=bj(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lo([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,o,e])}function T3(e,t){return P3(e,t)}function P3(e,t,n,r){Tc()||wt(!1);let{navigator:s}=p.useContext(Ec),{matches:o}=p.useContext(ei),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Lf(),f;if(t){var h;let b=typeof t=="string"?$a(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||wt(!1),f=b}else f=u;let d=f.pathname||"/",m=d;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=o3(e,{pathname:m}),g=$3(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Lo([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Lo([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&g?p.createElement(Df.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Fs.Pop}},g):g}function R3(){let e=F3(),t=j3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const A3=p.createElement(R3,null);class M3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ei.Provider,{value:this.props.routeContext},p.createElement(Nj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I3(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(ty);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ei.Provider,{value:t},r)}function $3(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||wt(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:d,errors:m}=n,y=h.route.loader&&d[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,d)=>{let m,y=!1,g=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||A3,c&&(u<0&&d===0?(y=!0,b=null):u===d&&(y=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,d+1)),w=()=>{let x;return m?x=g:y?x=b:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=f,p.createElement(I3,{match:h,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?p.createElement(M3,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var jj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jj||{}),Bd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bd||{});function O3(e){let t=p.useContext(ty);return t||wt(!1),t}function D3(e){let t=p.useContext(_3);return t||wt(!1),t}function L3(e){let t=p.useContext(ei);return t||wt(!1),t}function kj(e){let t=L3(),n=t.matches[t.matches.length-1];return n.route.id||wt(!1),n.route.id}function F3(){var e;let t=p.useContext(Nj),n=D3(Bd.UseRouteError),r=kj(Bd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function z3(){let{router:e}=O3(jj.UseNavigateStable),t=kj(Bd.UseNavigateStable),n=p.useRef(!1);return Cj(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ec({fromRouteId:t},o)))},[e,t])}function U3(e){let{to:t,replace:n,state:r,relative:s}=e;Tc()||wt(!1);let{future:o,static:i}=p.useContext(Ec),{matches:l}=p.useContext(ei),{pathname:c}=Lf(),u=ny(),f=bj(t,wj(l,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function rd(e){wt(!1)}function B3(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Fs.Pop,navigator:o,static:i=!1,future:l}=e;Tc()&&wt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:ec({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=$a(r));let{pathname:f="/",search:h="",hash:d="",state:m=null,key:y="default"}=r,g=p.useMemo(()=>{let b=xj(f,c);return b==null?null:{location:{pathname:b,search:h,hash:d,state:m,key:y},navigationType:s}},[c,f,h,d,m,y,s]);return g==null?null:p.createElement(Ec.Provider,{value:u},p.createElement(Df.Provider,{children:n,value:g}))}function H3(e){let{children:t,location:n}=e;return T3(qm(t),n)}new Promise(()=>{});function qm(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,qm(r.props.children,o));return}r.type!==rd&&wt(!1),!r.props.index||!r.props.children||wt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=qm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const W3="6";try{window.__reactRouterVersion=W3}catch{}const V3="startTransition",gw=df[V3];function q3(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=n3({window:s,v5Compat:!0}));let i=o.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=p.useCallback(h=>{u&&gw?gw(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>i.listen(f),[i,f]),p.createElement(B3,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var vw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var yw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));const G3={theme:"system",setTheme:()=>null},_j=p.createContext(G3);function K3({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,o]=p.useState(()=>localStorage.getItem(n)||t);p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const i={theme:s,setTheme:l=>{localStorage.setItem(n,l),o(l)}};return a.jsx(_j.Provider,{...r,value:i,children:e})}const Y3=()=>{const e=p.useContext(_j);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},X3=jc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Zs:"button";return a.jsx(i,{className:ge(X3({variant:t,size:n,className:e})),ref:o,...s})});Y.displayName="Button";var Q3=p.createContext(void 0);function Oa(e){const t=p.useContext(Q3);return e||t||"ltr"}var ip=0;function ry(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xw()),document.body.insertAdjacentElement("beforeend",e[1]??xw()),ip++,()=>{ip===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ip--}},[])}function xw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ap="focusScope.autoFocusOnMount",lp="focusScope.autoFocusOnUnmount",ww={bubbles:!1,cancelable:!0},J3="FocusScope",Ff=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=p.useState(null),u=Qe(s),f=Qe(o),h=p.useRef(null),d=Ee(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(x){if(m.paused||!l)return;const S=x.target;l.contains(S)?h.current=S:Ns(h.current,{select:!0})},b=function(x){if(m.paused||!l)return;const S=x.relatedTarget;S!==null&&(l.contains(S)||Ns(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&Ns(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),w.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){Sw.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(ap,ww);l.addEventListener(ap,u),l.dispatchEvent(v),v.defaultPrevented||(Z3(sL(Ej(l)),{select:!0}),document.activeElement===g&&Ns(l))}return()=>{l.removeEventListener(ap,u),setTimeout(()=>{const v=new CustomEvent(lp,ww);l.addEventListener(lp,f),l.dispatchEvent(v),v.defaultPrevented||Ns(g??document.body,{select:!0}),l.removeEventListener(lp,f),Sw.remove(m)},0)}}},[l,u,f,m]);const y=p.useCallback(g=>{if(!n&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const w=g.currentTarget,[x,S]=eL(w);x&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&Ns(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&Ns(S,{select:!0})):v===w&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(ye.div,{tabIndex:-1,...i,ref:d,onKeyDown:y})});Ff.displayName=J3;function Z3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function eL(e){const t=Ej(e),n=bw(t,e),r=bw(t.reverse(),e);return[n,r]}function Ej(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bw(e,t){for(const n of e)if(!tL(n,{upTo:t}))return n}function tL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nL(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nL(e)&&t&&e.select()}}var Sw=rL();function rL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Nw(e,t),e.unshift(t)},remove(t){var n;e=Nw(e,t),(n=e[0])==null||n.resume()}}}function Nw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sL(e){return e.filter(t=>t.tagName!=="A")}function oL(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:d,children:m,...y}=h,g=(d==null?void 0:d[e][c])||l,b=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:b,children:m})}function f(h,d){const m=(d==null?void 0:d[e][c])||l,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,iL(s,...t)]}function iL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var cp="rovingFocusGroup.onEntryFocus",aL={bubbles:!1,cancelable:!0},zf="RovingFocusGroup",[Gm,Tj,lL]=Sc(zf),[cL,Uf]=oL(zf,[lL]),[uL,dL]=cL(zf),Pj=p.forwardRef((e,t)=>a.jsx(Gm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Gm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(fL,{...e,ref:t})})}));Pj.displayName=zf;var fL=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,d=p.useRef(null),m=Ee(t,d),y=Oa(o),[g=null,b]=rs({prop:i,defaultProp:l,onChange:c}),[v,w]=p.useState(!1),x=Qe(u),S=Tj(n),C=p.useRef(!1),[N,j]=p.useState(0);return p.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(cp,x),()=>T.removeEventListener(cp,x)},[x]),a.jsx(uL,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(T=>b(T),[b]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>j(T=>T-1),[]),children:a.jsx(ye.div,{tabIndex:v||N===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{C.current=!0}),onFocus:Z(e.onFocus,T=>{const _=!C.current;if(T.target===T.currentTarget&&_&&!v){const P=new CustomEvent(cp,aL);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const E=S().filter(I=>I.focusable),M=E.find(I=>I.active),O=E.find(I=>I.id===g),D=[M,O,...E].filter(Boolean).map(I=>I.ref.current);Mj(D,f)}}C.current=!1}),onBlur:Z(e.onBlur,()=>w(!1))})})}),Rj="RovingFocusGroupItem",Aj=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,l=Ar(),c=o||l,u=dL(Rj,n),f=u.currentTabStopId===c,h=Tj(n),{onFocusableItemAdd:d,onFocusableItemRemove:m}=u;return p.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),a.jsx(Gm.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:a.jsx(ye.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Z(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=mL(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=h().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const w=v.indexOf(y.currentTarget);v=u.loop?gL(v,w+1):v.slice(w+1)}setTimeout(()=>Mj(v))}})})})});Aj.displayName=Rj;var hL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mL(e,t,n){const r=pL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hL[r]}function Mj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function gL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ij=Pj,$j=Aj,vL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},di=new WeakMap,vu=new WeakMap,yu={},up=0,Oj=function(e){return e&&(e.host||Oj(e.parentNode))},yL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Oj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xL=function(e,t,n,r){var s=yL(t,Array.isArray(e)?e:[e]);yu[n]||(yu[n]=new WeakMap);var o=yu[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(d){if(l.has(d))f(d);else try{var m=d.getAttribute(r),y=m!==null&&m!=="false",g=(di.get(d)||0)+1,b=(o.get(d)||0)+1;di.set(d,g),o.set(d,b),i.push(d),g===1&&y&&vu.set(d,!0),b===1&&d.setAttribute(n,"true"),y||d.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return f(t),l.clear(),up++,function(){i.forEach(function(h){var d=di.get(h)-1,m=o.get(h)-1;di.set(h,d),o.set(h,m),d||(vu.has(h)||h.removeAttribute(r),vu.delete(h)),m||h.removeAttribute(n)}),up--,up||(di=new WeakMap,di=new WeakMap,vu=new WeakMap,yu={})}},Bf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=vL(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),xL(r,s,n,"aria-hidden")):function(){return null}},Xt=function(){return Xt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Xt.apply(this,arguments)};function sy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Dj(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Cl="right-scroll-bar-position",jl="width-before-scroll-bar",wL="with-scroll-bars-hidden",bL="--removed-body-scroll-bar-size";function dp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function SL(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var NL=typeof window<"u"?p.useLayoutEffect:p.useEffect,Cw=new WeakMap;function Lj(e,t){var n=SL(null,function(r){return e.forEach(function(s){return dp(s,r)})});return NL(function(){var r=Cw.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||dp(l,null)}),o.forEach(function(l){s.has(l)||dp(l,i)})}Cw.set(n,e)},[e]),n}function CL(e){return e}function jL(e,t){t===void 0&&(t=CL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return s}function Fj(e){e===void 0&&(e={});var t=jL(null);return t.options=Xt({async:!0,ssr:!1},e),t}var zj=function(e){var t=e.sideCar,n=sy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Xt({},n))};zj.isSideCarExport=!0;function Uj(e,t){return e.useMedium(t),zj}var Bj=Fj(),fp=function(){},Hf=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:fp,onWheelCapture:fp,onTouchMoveCapture:fp}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,d=e.sideCar,m=e.noIsolation,y=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,x=sy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,C=Lj([n,t]),N=Xt(Xt({},x),s);return p.createElement(p.Fragment,null,f&&p.createElement(S,{sideCar:Bj,removeScrollBar:u,shards:h,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),i?p.cloneElement(p.Children.only(l),Xt(Xt({},N),{ref:C})):p.createElement(v,Xt({},N,{className:c,ref:C}),l))});Hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hf.classNames={fullWidth:jl,zeroRight:Cl};var kL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _L(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kL();return t&&e.setAttribute("nonce",t),e}function EL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_L())&&(EL(t,n),TL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RL=function(){var e=PL();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},oy=function(){var e=RL(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},AL={left:0,top:0,right:0,gap:0},hp=function(e){return parseInt(e||"",10)||0},ML=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hp(n),hp(r),hp(s)]},IL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AL;var t=ML(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$L=oy(),qi="data-scroll-locked",OL=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cl," .").concat(Cl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qi,`] {
    `).concat(bL,": ").concat(l,`px;
  }
`)},jw=function(){var e=parseInt(document.body.getAttribute(qi)||"0",10);return isFinite(e)?e:0},DL=function(){p.useEffect(function(){return document.body.setAttribute(qi,(jw()+1).toString()),function(){var e=jw()-1;e<=0?document.body.removeAttribute(qi):document.body.setAttribute(qi,e.toString())}},[])},Hj=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;DL();var o=p.useMemo(function(){return IL(s)},[s]);return p.createElement($L,{styles:OL(o,!t,s,n?"":"!important")})},Km=!1;if(typeof window<"u")try{var xu=Object.defineProperty({},"passive",{get:function(){return Km=!0,!0}});window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Km=!1}var fi=Km?{passive:!1}:!1,LL=function(e){return e.tagName==="TEXTAREA"},Wj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LL(e)&&n[t]==="visible")},FL=function(e){return Wj(e,"overflowY")},zL=function(e){return Wj(e,"overflowX")},kw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Vj(e,r);if(s){var o=qj(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Vj=function(e,t){return e==="v"?FL(t):zL(t)},qj=function(e,t){return e==="v"?UL(t):BL(t)},HL=function(e,t){return e==="h"&&t==="rtl"?-1:1},WL=function(e,t,n,r,s){var o=HL(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,f=i>0,h=0,d=0;do{var m=qj(e,l),y=m[0],g=m[1],b=m[2],v=g-b-o*y;(y||v)&&Vj(e,l)&&(h+=v,d+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(d)<1||!s))&&(u=!0),u},wu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_w=function(e){return[e.deltaX,e.deltaY]},Ew=function(e){return e&&"current"in e?e.current:e},VL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GL=0,hi=[];function KL(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(GL++)[0],o=p.useState(oy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Dj([e.lockRef.current],(e.shards||[]).map(Ew),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=wu(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-v[0],S="deltaY"in g?g.deltaY:w[1]-v[1],C,N=g.target,j=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&j==="h"&&N.type==="range")return!1;var T=kw(j,N);if(!T)return!0;if(T?C=j:(C=j==="v"?"h":"v",T=kw(j,N)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=C),!C)return!0;var _=r.current||C;return WL(_,b,g,_==="h"?x:S,!0)},[]),c=p.useCallback(function(g){var b=g;if(!(!hi.length||hi[hi.length-1]!==o)){var v="deltaY"in b?_w(b):wu(b),w=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&VL(C.delta,v)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var x=(i.current.shards||[]).map(Ew).filter(Boolean).filter(function(C){return C.contains(b.target)}),S=x.length>0?l(b,x[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(g,b,v,w){var x={name:g,delta:b,target:v,should:w,shadowParent:YL(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),f=p.useCallback(function(g){n.current=wu(g),r.current=void 0},[]),h=p.useCallback(function(g){u(g.type,_w(g),g.target,l(g,e.lockRef.current))},[]),d=p.useCallback(function(g){u(g.type,wu(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return hi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",c,fi),document.addEventListener("touchmove",c,fi),document.addEventListener("touchstart",f,fi),function(){hi=hi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,fi),document.removeEventListener("touchmove",c,fi),document.removeEventListener("touchstart",f,fi)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:qL(s)}):null,m?p.createElement(Hj,{gapMode:e.gapMode}):null)}function YL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XL=Uj(Bj,KL);var Wf=p.forwardRef(function(e,t){return p.createElement(Hf,Xt({},e,{ref:t,sideCar:XL}))});Wf.classNames=Hf.classNames;var Ym=["Enter"," "],QL=["ArrowDown","PageUp","Home"],Gj=["ArrowUp","PageDown","End"],JL=[...QL,...Gj],ZL={ltr:[...Ym,"ArrowRight"],rtl:[...Ym,"ArrowLeft"]},e5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pc="Menu",[tc,t5,n5]=Sc(Pc),[ti,Vf]=Gn(Pc,[n5,Ia,Uf]),qf=Ia(),Kj=Uf(),[r5,ni]=ti(Pc),[s5,Rc]=ti(Pc),Yj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=qf(t),[c,u]=p.useState(null),f=p.useRef(!1),h=Qe(o),d=Oa(s);return p.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(ZC,{...l,children:a.jsx(r5,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(s5,{scope:t,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:d,modal:i,children:r})})})};Yj.displayName=Pc;var o5="MenuAnchor",iy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=qf(n);return a.jsx(Yv,{...s,...r,ref:t})});iy.displayName=o5;var ay="MenuPortal",[i5,Xj]=ti(ay,{forceMount:void 0}),Qj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ni(ay,t);return a.jsx(i5,{scope:t,forceMount:n,children:a.jsx(ln,{present:n||o.open,children:a.jsx(Nc,{asChild:!0,container:s,children:r})})})};Qj.displayName=ay;var Hn="MenuContent",[a5,ly]=ti(Hn),Jj=p.forwardRef((e,t)=>{const n=Xj(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ni(Hn,e.__scopeMenu),i=Rc(Hn,e.__scopeMenu);return a.jsx(tc.Provider,{scope:e.__scopeMenu,children:a.jsx(ln,{present:r||o.open,children:a.jsx(tc.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(l5,{...s,ref:t}):a.jsx(c5,{...s,ref:t})})})})}),l5=p.forwardRef((e,t)=>{const n=ni(Hn,e.__scopeMenu),r=p.useRef(null),s=Ee(t,r);return p.useEffect(()=>{const o=r.current;if(o)return Bf(o)},[]),a.jsx(cy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),c5=p.forwardRef((e,t)=>{const n=ni(Hn,e.__scopeMenu);return a.jsx(cy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cy=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:d,onDismiss:m,disableOutsideScroll:y,...g}=e,b=ni(Hn,n),v=Rc(Hn,n),w=qf(n),x=Kj(n),S=t5(n),[C,N]=p.useState(null),j=p.useRef(null),T=Ee(t,j,b.onContentChange),_=p.useRef(0),P=p.useRef(""),E=p.useRef(0),M=p.useRef(null),O=p.useRef("right"),k=p.useRef(0),D=y?Wf:p.Fragment,I=y?{as:Zs,allowPinchZoom:!0}:void 0,$=R=>{var W,Q;const z=P.current+R,L=S().filter(se=>!se.disabled),U=document.activeElement,B=(W=L.find(se=>se.ref.current===U))==null?void 0:W.textValue,H=L.map(se=>se.textValue),ee=b5(H,z,B),G=(Q=L.find(se=>se.textValue===ee))==null?void 0:Q.ref.current;(function se(de){P.current=de,window.clearTimeout(_.current),de!==""&&(_.current=window.setTimeout(()=>se(""),1e3))})(z),G&&setTimeout(()=>G.focus())};p.useEffect(()=>()=>window.clearTimeout(_.current),[]),ry();const A=p.useCallback(R=>{var L,U;return O.current===((L=M.current)==null?void 0:L.side)&&N5(R,(U=M.current)==null?void 0:U.area)},[]);return a.jsx(a5,{scope:n,searchRef:P,onItemEnter:p.useCallback(R=>{A(R)&&R.preventDefault()},[A]),onItemLeave:p.useCallback(R=>{var z;A(R)||((z=j.current)==null||z.focus(),N(null))},[A]),onTriggerLeave:p.useCallback(R=>{A(R)&&R.preventDefault()},[A]),pointerGraceTimerRef:E,onPointerGraceIntentChange:p.useCallback(R=>{M.current=R},[]),children:a.jsx(D,{...I,children:a.jsx(Ff,{asChild:!0,trapped:s,onMountAutoFocus:Z(o,R=>{var z;R.preventDefault(),(z=j.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:d,onDismiss:m,children:a.jsx(Ij,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:N,onEntryFocus:Z(c,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Xv,{role:"menu","aria-orientation":"vertical","data-state":pk(b.open),"data-radix-menu-content":"",dir:v.dir,...w,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,R=>{const L=R.target.closest("[data-radix-menu-content]")===R.currentTarget,U=R.ctrlKey||R.altKey||R.metaKey,B=R.key.length===1;L&&(R.key==="Tab"&&R.preventDefault(),!U&&B&&$(R.key));const H=j.current;if(R.target!==H||!JL.includes(R.key))return;R.preventDefault();const G=S().filter(W=>!W.disabled).map(W=>W.ref.current);Gj.includes(R.key)&&G.reverse(),x5(G)}),onBlur:Z(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(_.current),P.current="")}),onPointerMove:Z(e.onPointerMove,nc(R=>{const z=R.target,L=k.current!==R.clientX;if(R.currentTarget.contains(z)&&L){const U=R.clientX>k.current?"right":"left";O.current=U,k.current=R.clientX}}))})})})})})})});Jj.displayName=Hn;var u5="MenuGroup",uy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ye.div,{role:"group",...r,ref:t})});uy.displayName=u5;var d5="MenuLabel",Zj=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ye.div,{...r,ref:t})});Zj.displayName=d5;var Hd="MenuItem",Tw="menu.itemSelect",Gf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=p.useRef(null),i=Rc(Hd,e.__scopeMenu),l=ly(Hd,e.__scopeMenu),c=Ee(t,o),u=p.useRef(!1),f=()=>{const h=o.current;if(!n&&h){const d=new CustomEvent(Tw,{bubbles:!0,cancelable:!0});h.addEventListener(Tw,m=>r==null?void 0:r(m),{once:!0}),_v(h,d),d.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(ek,{...s,ref:c,disabled:n,onClick:Z(e.onClick,f),onPointerDown:h=>{var d;(d=e.onPointerDown)==null||d.call(e,h),u.current=!0},onPointerUp:Z(e.onPointerUp,h=>{var d;u.current||(d=h.currentTarget)==null||d.click()}),onKeyDown:Z(e.onKeyDown,h=>{const d=l.searchRef.current!=="";n||d&&h.key===" "||Ym.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Gf.displayName=Hd;var ek=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=ly(Hd,n),l=Kj(n),c=p.useRef(null),u=Ee(t,c),[f,h]=p.useState(!1),[d,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[o.children]),a.jsx(tc.ItemSlot,{scope:n,disabled:r,textValue:s??d,children:a.jsx($j,{asChild:!0,...l,focusable:!r,children:a.jsx(ye.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:Z(e.onPointerMove,nc(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,nc(y=>i.onItemLeave(y))),onFocus:Z(e.onFocus,()=>h(!0)),onBlur:Z(e.onBlur,()=>h(!1))})})})}),f5="MenuCheckboxItem",tk=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(ik,{scope:e.__scopeMenu,checked:n,children:a.jsx(Gf,{role:"menuitemcheckbox","aria-checked":Wd(n)?"mixed":n,...s,ref:t,"data-state":fy(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Wd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tk.displayName=f5;var nk="MenuRadioGroup",[h5,p5]=ti(nk,{value:void 0,onValueChange:()=>{}}),rk=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=Qe(r);return a.jsx(h5,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(uy,{...s,ref:t})})});rk.displayName=nk;var sk="MenuRadioItem",ok=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p5(sk,e.__scopeMenu),o=n===s.value;return a.jsx(ik,{scope:e.__scopeMenu,checked:o,children:a.jsx(Gf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":fy(o),onSelect:Z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ok.displayName=sk;var dy="MenuItemIndicator",[ik,m5]=ti(dy,{checked:!1}),ak=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=m5(dy,n);return a.jsx(ln,{present:r||Wd(o.checked)||o.checked===!0,children:a.jsx(ye.span,{...s,ref:t,"data-state":fy(o.checked)})})});ak.displayName=dy;var g5="MenuSeparator",lk=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});lk.displayName=g5;var v5="MenuArrow",ck=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=qf(n);return a.jsx(Qv,{...s,...r,ref:t})});ck.displayName=v5;var y5="MenuSub",[MY,uk]=ti(y5),cl="MenuSubTrigger",dk=p.forwardRef((e,t)=>{const n=ni(cl,e.__scopeMenu),r=Rc(cl,e.__scopeMenu),s=uk(cl,e.__scopeMenu),o=ly(cl,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(iy,{asChild:!0,...u,children:a.jsx(ek,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":pk(n.open),...e,ref:_f(t,s.onTriggerChange),onClick:h=>{var d;(d=e.onClick)==null||d.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,nc(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Z(e.onPointerLeave,nc(h=>{var m,y;f();const d=(m=n.content)==null?void 0:m.getBoundingClientRect();if(d){const g=(y=n.content)==null?void 0:y.dataset.side,b=g==="right",v=b?-5:5,w=d[b?"left":"right"],x=d[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:w,y:d.top},{x,y:d.top},{x,y:d.bottom},{x:w,y:d.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,h=>{var m;const d=o.searchRef.current!=="";e.disabled||d&&h.key===" "||ZL[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});dk.displayName=cl;var fk="MenuSubContent",hk=p.forwardRef((e,t)=>{const n=Xj(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ni(Hn,e.__scopeMenu),i=Rc(Hn,e.__scopeMenu),l=uk(fk,e.__scopeMenu),c=p.useRef(null),u=Ee(t,c);return a.jsx(tc.Provider,{scope:e.__scopeMenu,children:a.jsx(ln,{present:r||o.open,children:a.jsx(tc.Slot,{scope:e.__scopeMenu,children:a.jsx(cy,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Z(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Z(e.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),d=e5[i.dir].includes(f.key);h&&d&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),f.preventDefault())})})})})})});hk.displayName=fk;function pk(e){return e?"open":"closed"}function Wd(e){return e==="indeterminate"}function fy(e){return Wd(e)?"indeterminate":e?"checked":"unchecked"}function x5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function b5(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=w5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function S5(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function N5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return S5(n,t)}function nc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mk=Yj,gk=iy,vk=Qj,yk=Jj,xk=uy,wk=Zj,bk=Gf,Sk=tk,Nk=rk,Ck=ok,jk=ak,kk=lk,_k=ck,Ek=dk,Tk=hk,hy="DropdownMenu",[C5,IY]=Gn(hy,[Vf]),cn=Vf(),[j5,Pk]=C5(hy),Rk=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=cn(t),u=p.useRef(null),[f=!1,h]=rs({prop:s,defaultProp:o,onChange:i});return a.jsx(j5,{scope:t,triggerId:Ar(),triggerRef:u,contentId:Ar(),open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(d=>!d),[h]),modal:l,children:a.jsx(mk,{...c,open:f,onOpenChange:h,dir:r,modal:l,children:n})})};Rk.displayName=hy;var Ak="DropdownMenuTrigger",Mk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=Pk(Ak,n),i=cn(n);return a.jsx(gk,{asChild:!0,...i,children:a.jsx(ye.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:_f(t,o.triggerRef),onPointerDown:Z(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Z(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Mk.displayName=Ak;var k5="DropdownMenuPortal",Ik=e=>{const{__scopeDropdownMenu:t,...n}=e,r=cn(t);return a.jsx(vk,{...r,...n})};Ik.displayName=k5;var $k="DropdownMenuContent",Ok=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Pk($k,n),o=cn(n),i=p.useRef(!1);return a.jsx(yk,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ok.displayName=$k;var _5="DropdownMenuGroup",E5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(xk,{...s,...r,ref:t})});E5.displayName=_5;var T5="DropdownMenuLabel",Dk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(wk,{...s,...r,ref:t})});Dk.displayName=T5;var P5="DropdownMenuItem",Lk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(bk,{...s,...r,ref:t})});Lk.displayName=P5;var R5="DropdownMenuCheckboxItem",Fk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(Sk,{...s,...r,ref:t})});Fk.displayName=R5;var A5="DropdownMenuRadioGroup",M5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(Nk,{...s,...r,ref:t})});M5.displayName=A5;var I5="DropdownMenuRadioItem",zk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(Ck,{...s,...r,ref:t})});zk.displayName=I5;var $5="DropdownMenuItemIndicator",Uk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(jk,{...s,...r,ref:t})});Uk.displayName=$5;var O5="DropdownMenuSeparator",Bk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(kk,{...s,...r,ref:t})});Bk.displayName=O5;var D5="DropdownMenuArrow",L5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(_k,{...s,...r,ref:t})});L5.displayName=D5;var F5="DropdownMenuSubTrigger",Hk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(Ek,{...s,...r,ref:t})});Hk.displayName=F5;var z5="DropdownMenuSubContent",Wk=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=cn(n);return a.jsx(Tk,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wk.displayName=z5;var U5=Rk,B5=Mk,H5=Ik,Vk=Ok,qk=Dk,Gk=Lk,Kk=Fk,Yk=zk,Xk=Uk,Qk=Bk,Jk=Hk,Zk=Wk;const W5=U5,V5=B5,q5=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(Jk,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(eo,{className:"ml-auto h-4 w-4"})]}));q5.displayName=Jk.displayName;const G5=p.forwardRef(({className:e,...t},n)=>a.jsx(Zk,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G5.displayName=Zk.displayName;const e_=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(H5,{children:a.jsx(Vk,{ref:r,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));e_.displayName=Vk.displayName;const sd=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(Gk,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));sd.displayName=Gk.displayName;const K5=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(Kk,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xk,{children:a.jsx(Rv,{className:"h-4 w-4"})})}),t]}));K5.displayName=Kk.displayName;const Y5=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Yk,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xk,{children:a.jsx(aC,{className:"h-2 w-2 fill-current"})})}),t]}));Y5.displayName=Yk.displayName;const X5=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(qk,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));X5.displayName=qk.displayName;const Q5=p.forwardRef(({className:e,...t},n)=>a.jsx(Qk,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));Q5.displayName=Qk.displayName;function Pw(){const{setTheme:e}=Y3();return a.jsxs(W5,{children:[a.jsx(V5,{asChild:!0,children:a.jsxs(Y,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(Z$,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(q$,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(e_,{align:"end",children:[a.jsx(sd,{onClick:()=>e("light"),children:"Light"}),a.jsx(sd,{onClick:()=>e("dark"),children:"Dark"}),a.jsx(sd,{onClick:()=>e("system"),children:"System"})]})]})}const J5=({activeTab:e,onTabChange:t})=>{const[n,r]=p.useState(!0),s=[{id:"dashboard",name:"Dashboard",icon:B$,description:"Overview & Analytics"},{id:"workflows",name:"Workflows",icon:Ov,description:"Create & Execute Workflows"},{id:"templates",name:"Templates",icon:ir,description:"Pre-built Workflows"},{id:"analytics",name:"Analytics",icon:M$,description:"Performance Insights"},{id:"settings",name:"Settings",icon:gr,description:"Configuration"}];return a.jsxs("div",{className:ge("bg-gradient-secondary border-r border-border flex flex-col transition-all duration-300",n?"w-16":"w-64"),children:[a.jsx("div",{className:ge("border-b border-border",n?"p-4":"p-6"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:a.jsx(Mn,{className:"h-5 w-5 text-primary-foreground"})}),!n&&a.jsxs("div",{children:[a.jsx("h1",{className:"font-bold text-lg",children:"BatchFlow"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automation Platform"})]})]})}),a.jsx("div",{className:"p-2",children:a.jsx(Y,{onClick:()=>r(!n),variant:"ghost",size:"sm",className:"w-full",children:n?a.jsx(eo,{className:"h-4 w-4"}):a.jsx(I$,{className:"h-4 w-4"})})}),a.jsx("nav",{className:"flex-1 p-4 space-y-2",children:s.map(o=>a.jsxs(Y,{variant:e===o.id?"default":"ghost",className:ge("w-full transition-all duration-200",n?"justify-center h-10 p-2":"justify-start gap-3 h-auto p-3",e===o.id?"bg-gradient-primary text-primary-foreground shadow-elegant":"hover:bg-accent text-foreground"),onClick:()=>t(o.id),title:n?o.name:void 0,children:[a.jsx(o.icon,{className:"h-5 w-5 flex-shrink-0"}),!n&&a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:o.name}),a.jsx("div",{className:"text-xs opacity-70",children:o.description})]})]},o.id))}),a.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[!n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Theme"}),a.jsx(Pw,{})]}),a.jsxs("div",{className:"bg-accent rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"System Status"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All services operational"})]})]}),n&&a.jsx("div",{className:"flex justify-center",children:a.jsx(Pw,{})})]})]})},mt=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));mt.displayName="Card";const zt=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));zt.displayName="CardHeader";const io=p.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));io.displayName="CardTitle";const t_=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));t_.displayName="CardDescription";const Tt=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...t}));Tt.displayName="CardContent";const Z5=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...t}));Z5.displayName="CardFooter";const eF=jc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...n}){return a.jsx("div",{className:ge(eF({variant:t}),e),...n})}const Rw=()=>{const e=[{title:"Total Batches",value:"1,247",change:"+12.5%",icon:L0,color:"text-primary"},{title:"Success Rate",value:"94.2%",change:"+2.1%",icon:to,color:"text-success"},{title:"Avg. Execution Time",value:"2.4s",change:"-15%",icon:dr,color:"text-warning"},{title:"Tasks/Minute",value:"156",change:"+8.3%",icon:Mn,color:"text-primary-glow"}],t=[{id:"batch_001",status:"success",tasks:12,duration:"2.1s",timestamp:"2 minutes ago",type:"Article Generation"},{id:"batch_002",status:"failed",tasks:8,duration:"1.8s",timestamp:"5 minutes ago",type:"Image Processing"},{id:"batch_003",status:"success",tasks:15,duration:"3.2s",timestamp:"8 minutes ago",type:"Content Analysis"},{id:"batch_004",status:"success",tasks:6,duration:"1.2s",timestamp:"12 minutes ago",type:"SEO Optimization"}],n=s=>{switch(s){case"success":return a.jsx(to,{className:"h-4 w-4 text-success"});case"failed":return a.jsx(Av,{className:"h-4 w-4 text-destructive"});default:return a.jsx(O$,{className:"h-4 w-4 text-warning"})}},r=s=>{switch(s){case"success":return a.jsx(He,{className:"bg-success text-success-foreground",children:"Success"});case"failed":return a.jsx(He,{variant:"destructive",children:"Failed"});default:return a.jsx(He,{variant:"secondary",children:"Pending"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor your batch automation performance"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((s,o)=>a.jsx(mt,{className:"bg-gradient-accent border-border shadow-card hover:shadow-elegant transition-all duration-300",children:a.jsx(Tt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.title}),a.jsx("p",{className:"text-2xl font-bold",children:s.value}),a.jsxs("p",{className:"text-xs text-success",children:[s.change," from last week"]})]}),a.jsx("div",{className:`p-3 bg-primary/10 rounded-lg ${s.color}`,children:a.jsx(s.icon,{className:"h-6 w-6"})})]})})},o))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(mt,{className:"bg-gradient-secondary border-border shadow-card",children:[a.jsx(zt,{children:a.jsxs(io,{className:"flex items-center gap-2",children:[a.jsx(L0,{className:"h-5 w-5"}),"Recent Batches"]})}),a.jsx(Tt,{children:a.jsx("div",{className:"space-y-4",children:t.map((s,o)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[n(s.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:s.id}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.tasks," tasks  ",s.duration]})]})]}),a.jsxs("div",{className:"text-right",children:[r(s.status),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.timestamp})]})]},s.id))})})]}),a.jsxs(mt,{className:"bg-gradient-secondary border-border shadow-card",children:[a.jsx(zt,{children:a.jsxs(io,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-5 w-5"}),"Performance Metrics"]})}),a.jsx(Tt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"API Response Time"}),a.jsx("span",{className:"text-sm text-success",children:"Excellent"})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"94%"}})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"94% faster than average"})]}),a.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Error Rate"}),a.jsx("span",{className:"text-sm text-warning",children:"Good"})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"6%"}})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"5.8% of requests failed"})]}),a.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Throughput"}),a.jsx("span",{className:"text-sm text-primary-glow",children:"High"})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"87%"}})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"156 tasks per minute"})]})]})})]})]})]})},tF=()=>{const{toast:e}=Sn(),t=[{id:"article-automation",name:"Article Automation",description:"Complete article generation workflow with SEO optimization, image processing, and content analysis.",tasks:[{type:"gpt",description:"Generate article outline"},{type:"gpt",description:"Write article content"},{type:"gpt",description:"Create SEO meta description"},{type:"image",description:"Generate featured image"},{type:"http",description:"Publish to CMS"}],category:"Content Creation",popularity:95,estimatedTime:"45-60s",rating:4.8,uses:1247},{id:"social-media-batch",name:"Social Media Batch",description:"Generate social media posts across multiple platforms with hashtag optimization and image creation.",tasks:[{type:"gpt",description:"Create Twitter post"},{type:"gpt",description:"Create LinkedIn post"},{type:"gpt",description:"Generate hashtags"},{type:"image",description:"Create social media graphics"},{type:"http",description:"Schedule posts"}],category:"Marketing",popularity:87,estimatedTime:"30-45s",rating:4.6,uses:892},{id:"product-analysis",name:"Product Analysis",description:"Comprehensive product research including competitor analysis, market trends, and feature extraction.",tasks:[{type:"http",description:"Fetch product data"},{type:"gpt",description:"Analyze competitors"},{type:"gpt",description:"Extract key features"},{type:"gpt",description:"Generate market report"},{type:"image",description:"Create analysis charts"}],category:"Research",popularity:78,estimatedTime:"60-90s",rating:4.7,uses:654},{id:"email-campaign",name:"Email Campaign",description:"Automated email sequence generation with personalization, A/B testing variants, and performance tracking.",tasks:[{type:"gpt",description:"Generate email subject lines"},{type:"gpt",description:"Create email content"},{type:"gpt",description:"Personalization variants"},{type:"image",description:"Email banner design"},{type:"http",description:"Send to email service"}],category:"Marketing",popularity:82,estimatedTime:"40-55s",rating:4.5,uses:743},{id:"data-processing",name:"Data Processing Pipeline",description:"Clean, analyze, and visualize data from multiple sources with automated reporting and insights.",tasks:[{type:"http",description:"Fetch raw data"},{type:"gpt",description:"Clean and normalize"},{type:"gpt",description:"Generate insights"},{type:"image",description:"Create visualizations"},{type:"http",description:"Save to database"}],category:"Analytics",popularity:71,estimatedTime:"75-120s",rating:4.9,uses:456},{id:"content-optimization",name:"Content Optimization",description:"Optimize existing content for SEO, readability, and engagement with automated improvements.",tasks:[{type:"gpt",description:"Analyze content quality"},{type:"gpt",description:"Improve readability"},{type:"gpt",description:"Optimize for SEO"},{type:"image",description:"Update images"},{type:"http",description:"Update CMS"}],category:"Content Creation",popularity:79,estimatedTime:"35-50s",rating:4.4,uses:598}],n=["All","Content Creation","Marketing","Research","Analytics"],[r,s]=p.useState("All"),o=r==="All"?t:t.filter(c=>c.category===r),i=c=>{e({title:"Template loaded",description:`${c.name} has been loaded into the batch builder.`})},l=c=>{switch(c){case"gpt":return"bg-primary/20 text-primary border-primary/30";case"image":return"bg-success/20 text-success border-success/30";case"http":return"bg-warning/20 text-warning border-warning/30";default:return"bg-muted text-muted-foreground border-border"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Workflow Templates"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Pre-built batch workflows for common automation tasks"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(c=>a.jsx(Y,{variant:r===c?"default":"outline",onClick:()=>s(c),className:r===c?"bg-gradient-primary":"",children:c},c))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(c=>a.jsxs(mt,{className:"bg-gradient-accent border-border shadow-card hover:shadow-elegant transition-all duration-300 group",children:[a.jsxs(zt,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(io,{className:"text-lg mb-2",children:c.name}),a.jsx(He,{variant:"secondary",className:"mb-3",children:c.category})]}),a.jsxs("div",{className:"flex items-center gap-1 text-warning",children:[a.jsx(J$,{className:"h-4 w-4 fill-current"}),a.jsx("span",{className:"text-sm font-medium",children:c.rating})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:c.description})]}),a.jsxs(Tt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Tasks (",c.tasks.length,")"]}),a.jsxs("div",{className:"space-y-2",children:[c.tasks.slice(0,3).map((u,f)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(He,{className:`px-2 py-1 text-xs border ${l(u.type)}`,children:u.type.toUpperCase()}),a.jsx("span",{className:"text-muted-foreground truncate",children:u.description})]},f)),c.tasks.length>3&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",c.tasks.length-3," more tasks"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(dr,{className:"h-3 w-3"}),c.estimatedTime]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nO,{className:"h-3 w-3"}),c.uses," uses"]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs(Y,{onClick:()=>i(c),className:"flex-1 gap-2 bg-gradient-primary hover:opacity-90",children:[a.jsx(Dv,{className:"h-4 w-4"}),"Use Template"]}),a.jsxs(Y,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(pn,{className:"h-4 w-4"}),"Clone"]})]})]})]},c.id))})]})};function bt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=bt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var nF={value:()=>{}};function Kf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new od(n)}function od(e){this._=e}function rF(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}od.prototype=Kf.prototype={constructor:od,on:function(e,t){var n=this._,r=rF(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=sF(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=Aw(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Aw(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new od(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function sF(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Aw(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=nF,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Xm="http://www.w3.org/1999/xhtml";const Mw={svg:"http://www.w3.org/2000/svg",xhtml:Xm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Mw.hasOwnProperty(t)?{space:Mw[t],local:e}:e}function oF(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xm&&t.documentElement.namespaceURI===Xm?t.createElement(e):t.createElementNS(n,e)}}function iF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function n_(e){var t=Yf(e);return(t.local?iF:oF)(t)}function aF(){}function py(e){return e==null?aF:function(){return this.querySelector(e)}}function lF(e){typeof e!="function"&&(e=py(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,l=r[s]=new Array(i),c,u,f=0;f<i;++f)(c=o[f])&&(u=e.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new In(r,this._parents)}function cF(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uF(){return[]}function r_(e){return e==null?uF:function(){return this.querySelectorAll(e)}}function dF(e){return function(){return cF(e.apply(this,arguments))}}function fF(e){typeof e=="function"?e=dF(e):e=r_(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(r.push(e.call(c,c.__data__,u,i)),s.push(c));return new In(r,s)}function s_(e){return function(){return this.matches(e)}}function o_(e){return function(t){return t.matches(e)}}var hF=Array.prototype.find;function pF(e){return function(){return hF.call(this.children,e)}}function mF(){return this.firstElementChild}function gF(e){return this.select(e==null?mF:pF(typeof e=="function"?e:o_(e)))}var vF=Array.prototype.filter;function yF(){return Array.from(this.children)}function xF(e){return function(){return vF.call(this.children,e)}}function wF(e){return this.selectAll(e==null?yF:xF(typeof e=="function"?e:o_(e)))}function bF(e){typeof e!="function"&&(e=s_(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,l=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&l.push(c);return new In(r,this._parents)}function i_(e){return new Array(e.length)}function SF(){return new In(this._enter||this._groups.map(i_),this._parents)}function Vd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vd.prototype={constructor:Vd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function NF(e){return function(){return e}}function CF(e,t,n,r,s,o){for(var i=0,l,c=t.length,u=o.length;i<u;++i)(l=t[i])?(l.__data__=o[i],r[i]=l):n[i]=new Vd(e,o[i]);for(;i<c;++i)(l=t[i])&&(s[i]=l)}function jF(e,t,n,r,s,o,i){var l,c,u=new Map,f=t.length,h=o.length,d=new Array(f),m;for(l=0;l<f;++l)(c=t[l])&&(d[l]=m=i.call(c,c.__data__,l,t)+"",u.has(m)?s[l]=c:u.set(m,c));for(l=0;l<h;++l)m=i.call(e,o[l],l,o)+"",(c=u.get(m))?(r[l]=c,c.__data__=o[l],u.delete(m)):n[l]=new Vd(e,o[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(d[l])===c&&(s[l]=c)}function kF(e){return e.__data__}function _F(e,t){if(!arguments.length)return Array.from(this,kF);var n=t?jF:CF,r=this._parents,s=this._groups;typeof e!="function"&&(e=NF(e));for(var o=s.length,i=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var f=r[u],h=s[u],d=h.length,m=EF(e.call(f,f&&f.__data__,u,r)),y=m.length,g=l[u]=new Array(y),b=i[u]=new Array(y),v=c[u]=new Array(d);n(f,h,g,b,v,m,t);for(var w=0,x=0,S,C;w<y;++w)if(S=g[w]){for(w>=x&&(x=w+1);!(C=b[x])&&++x<y;);S._next=C||null}}return i=new In(i,r),i._enter=l,i._exit=c,i}function EF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TF(){return new In(this._exit||this._groups.map(i_),this._parents)}function PF(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function RF(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),l=new Array(s),c=0;c<i;++c)for(var u=n[c],f=r[c],h=u.length,d=l[c]=new Array(h),m,y=0;y<h;++y)(m=u[y]||f[y])&&(d[y]=m);for(;c<s;++c)l[c]=n[c];return new In(l,this._parents)}function AF(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function MF(e){e||(e=IF);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],l=i.length,c=s[o]=new Array(l),u,f=0;f<l;++f)(u=i[f])&&(c[f]=u);c.sort(t)}return new In(s,this._parents).order()}function IF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $F(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function OF(){return Array.from(this)}function DF(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function LF(){let e=0;for(const t of this)++e;return e}function FF(){return!this.node()}function zF(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,l;o<i;++o)(l=s[o])&&e.call(l,l.__data__,o,s);return this}function UF(e){return function(){this.removeAttribute(e)}}function BF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HF(e,t){return function(){this.setAttribute(e,t)}}function WF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VF(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function qF(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GF(e,t){var n=Yf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?BF:UF:typeof t=="function"?n.local?qF:VF:n.local?WF:HF)(n,t))}function a_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function KF(e){return function(){this.style.removeProperty(e)}}function YF(e,t,n){return function(){this.style.setProperty(e,t,n)}}function XF(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function QF(e,t,n){return arguments.length>1?this.each((t==null?KF:typeof t=="function"?XF:YF)(e,t,n??"")):pa(this.node(),e)}function pa(e,t){return e.style.getPropertyValue(t)||a_(e).getComputedStyle(e,null).getPropertyValue(t)}function JF(e){return function(){delete this[e]}}function ZF(e,t){return function(){this[e]=t}}function e6(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function t6(e,t){return arguments.length>1?this.each((t==null?JF:typeof t=="function"?e6:ZF)(e,t)):this.node()[e]}function l_(e){return e.trim().split(/^|\s+/)}function my(e){return e.classList||new c_(e)}function c_(e){this._node=e,this._names=l_(e.getAttribute("class")||"")}c_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function u_(e,t){for(var n=my(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function d_(e,t){for(var n=my(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function n6(e){return function(){u_(this,e)}}function r6(e){return function(){d_(this,e)}}function s6(e,t){return function(){(t.apply(this,arguments)?u_:d_)(this,e)}}function o6(e,t){var n=l_(e+"");if(arguments.length<2){for(var r=my(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?s6:t?n6:r6)(n,t))}function i6(){this.textContent=""}function a6(e){return function(){this.textContent=e}}function l6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function c6(e){return arguments.length?this.each(e==null?i6:(typeof e=="function"?l6:a6)(e)):this.node().textContent}function u6(){this.innerHTML=""}function d6(e){return function(){this.innerHTML=e}}function f6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function h6(e){return arguments.length?this.each(e==null?u6:(typeof e=="function"?f6:d6)(e)):this.node().innerHTML}function p6(){this.nextSibling&&this.parentNode.appendChild(this)}function m6(){return this.each(p6)}function g6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v6(){return this.each(g6)}function y6(e){var t=typeof e=="function"?e:n_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function x6(){return null}function w6(e,t){var n=typeof e=="function"?e:n_(e),r=t==null?x6:typeof t=="function"?t:py(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function b6(){var e=this.parentNode;e&&e.removeChild(this)}function S6(){return this.each(b6)}function N6(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function C6(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j6(e){return this.select(e?C6:N6)}function k6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _6(e){return function(t){e.call(this,t,this.__data__)}}function E6(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function T6(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function P6(e,t,n){return function(){var r=this.__on,s,o=_6(t);if(r){for(var i=0,l=r.length;i<l;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function R6(e,t,n){var r=E6(e+""),s,o=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<o;++s)if((i=r[s]).type===f.type&&i.name===f.name)return f.value}return}for(l=t?P6:T6,s=0;s<o;++s)this.each(l(r[s],t,n));return this}function f_(e,t,n){var r=a_(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function A6(e,t){return function(){return f_(this,e,t)}}function M6(e,t){return function(){return f_(this,e,t.apply(this,arguments))}}function I6(e,t){return this.each((typeof t=="function"?M6:A6)(e,t))}function*$6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var h_=[null];function In(e,t){this._groups=e,this._parents=t}function Ac(){return new In([[document.documentElement]],h_)}function O6(){return this}In.prototype=Ac.prototype={constructor:In,select:lF,selectAll:fF,selectChild:gF,selectChildren:wF,filter:bF,data:_F,enter:SF,exit:TF,join:PF,merge:RF,selection:O6,order:AF,sort:MF,call:$F,nodes:OF,node:DF,size:LF,empty:FF,each:zF,attr:GF,style:QF,property:t6,classed:o6,text:c6,html:h6,raise:m6,lower:v6,append:y6,insert:w6,remove:S6,clone:j6,datum:k6,on:R6,dispatch:I6,[Symbol.iterator]:$6};function En(e){return typeof e=="string"?new In([[document.querySelector(e)]],[document.documentElement]):new In([[e]],h_)}function D6(e){let t;for(;t=e.sourceEvent;)e=t;return e}function rr(e,t){if(e=D6(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const L6={passive:!1},rc={capture:!0,passive:!1};function pp(e){e.stopImmediatePropagation()}function Gi(e){e.preventDefault(),e.stopImmediatePropagation()}function p_(e){var t=e.document.documentElement,n=En(e).on("dragstart.drag",Gi,rc);"onselectstart"in t?n.on("selectstart.drag",Gi,rc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function m_(e,t){var n=e.document.documentElement,r=En(e).on("dragstart.drag",null);t&&(r.on("click.drag",Gi,rc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bu=e=>()=>e;function Qm(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Qm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F6(e){return!e.ctrlKey&&!e.button}function z6(){return this.parentNode}function U6(e,t){return t??{x:e.x,y:e.y}}function B6(){return navigator.maxTouchPoints||"ontouchstart"in this}function g_(){var e=F6,t=z6,n=U6,r=B6,s={},o=Kf("start","drag","end"),i=0,l,c,u,f,h=0;function d(S){S.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",v,L6).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(S,C){if(!(f||!e.call(this,S,C))){var N=x(this,t.call(this,S,C),S,C,"mouse");N&&(En(S.view).on("mousemove.drag",y,rc).on("mouseup.drag",g,rc),p_(S.view),pp(S),u=!1,l=S.clientX,c=S.clientY,N("start",S))}}function y(S){if(Gi(S),!u){var C=S.clientX-l,N=S.clientY-c;u=C*C+N*N>h}s.mouse("drag",S)}function g(S){En(S.view).on("mousemove.drag mouseup.drag",null),m_(S.view,u),Gi(S),s.mouse("end",S)}function b(S,C){if(e.call(this,S,C)){var N=S.changedTouches,j=t.call(this,S,C),T=N.length,_,P;for(_=0;_<T;++_)(P=x(this,j,S,C,N[_].identifier,N[_]))&&(pp(S),P("start",S,N[_]))}}function v(S){var C=S.changedTouches,N=C.length,j,T;for(j=0;j<N;++j)(T=s[C[j].identifier])&&(Gi(S),T("drag",S,C[j]))}function w(S){var C=S.changedTouches,N=C.length,j,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),j=0;j<N;++j)(T=s[C[j].identifier])&&(pp(S),T("end",S,C[j]))}function x(S,C,N,j,T,_){var P=o.copy(),E=rr(_||N,C),M,O,k;if((k=n.call(S,new Qm("beforestart",{sourceEvent:N,target:d,identifier:T,active:i,x:E[0],y:E[1],dx:0,dy:0,dispatch:P}),j))!=null)return M=k.x-E[0]||0,O=k.y-E[1]||0,function D(I,$,A){var R=E,z;switch(I){case"start":s[T]=D,z=i++;break;case"end":delete s[T],--i;case"drag":E=rr(A||$,C),z=i;break}P.call(I,S,new Qm(I,{sourceEvent:$,subject:k,target:d,identifier:T,active:z,x:E[0]+M,y:E[1]+O,dx:E[0]-R[0],dy:E[1]-R[1],dispatch:P}),j)}}return d.filter=function(S){return arguments.length?(e=typeof S=="function"?S:bu(!!S),d):e},d.container=function(S){return arguments.length?(t=typeof S=="function"?S:bu(S),d):t},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:bu(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:bu(!!S),d):r},d.on=function(){var S=o.on.apply(o,arguments);return S===o?d:S},d.clickDistance=function(S){return arguments.length?(h=(S=+S)*S,d):Math.sqrt(h)},d}function gy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function v_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mc(){}var sc=.7,qd=1/sc,Ki="\\s*([+-]?\\d+)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H6=/^#([0-9a-f]{3,8})$/,W6=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),V6=new RegExp(`^rgb\\(${Mr},${Mr},${Mr}\\)$`),q6=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${oc}\\)$`),G6=new RegExp(`^rgba\\(${Mr},${Mr},${Mr},${oc}\\)$`),K6=new RegExp(`^hsl\\(${oc},${Mr},${Mr}\\)$`),Y6=new RegExp(`^hsla\\(${oc},${Mr},${Mr},${oc}\\)$`),Iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gy(Mc,Go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$w,formatHex:$w,formatHex8:X6,formatHsl:Q6,formatRgb:Ow,toString:Ow});function $w(){return this.rgb().formatHex()}function X6(){return this.rgb().formatHex8()}function Q6(){return y_(this).formatHsl()}function Ow(){return this.rgb().formatRgb()}function Go(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Dw(t):n===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Su(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Su(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=W6.exec(e))?new yn(t[1],t[2],t[3],1):(t=V6.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=q6.exec(e))?Su(t[1],t[2],t[3],t[4]):(t=G6.exec(e))?Su(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K6.exec(e))?zw(t[1],t[2]/100,t[3]/100,1):(t=Y6.exec(e))?zw(t[1],t[2]/100,t[3]/100,t[4]):Iw.hasOwnProperty(e)?Dw(Iw[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function Dw(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function Su(e,t,n,r){return r<=0&&(e=t=n=NaN),new yn(e,t,n,r)}function J6(e){return e instanceof Mc||(e=Go(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function Jm(e,t,n,r){return arguments.length===1?J6(e):new yn(e,t,n,r??1)}function yn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gy(yn,Jm,v_(Mc,{brighter(e){return e=e==null?qd:Math.pow(qd,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(Fo(this.r),Fo(this.g),Fo(this.b),Gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lw,formatHex:Lw,formatHex8:Z6,formatRgb:Fw,toString:Fw}));function Lw(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}`}function Z6(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}${Ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fw(){const e=Gd(this.opacity);return`${e===1?"rgb(":"rgba("}${Fo(this.r)}, ${Fo(this.g)}, ${Fo(this.b)}${e===1?")":`, ${e})`}`}function Gd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ro(e){return e=Fo(e),(e<16?"0":"")+e.toString(16)}function zw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ar(e,t,n,r)}function y_(e){if(e instanceof ar)return new ar(e.h,e.s,e.l,e.opacity);if(e instanceof Mc||(e=Go(e)),!e)return new ar;if(e instanceof ar)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,l=o-s,c=(o+s)/2;return l?(t===o?i=(n-r)/l+(n<r)*6:n===o?i=(r-t)/l+2:i=(t-n)/l+4,l/=c<.5?o+s:2-o-s,i*=60):l=c>0&&c<1?0:i,new ar(i,l,c,e.opacity)}function ez(e,t,n,r){return arguments.length===1?y_(e):new ar(e,t,n,r??1)}function ar(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gy(ar,ez,v_(Mc,{brighter(e){return e=e==null?qd:Math.pow(qd,e),new ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new yn(mp(e>=240?e-240:e+120,s,r),mp(e,s,r),mp(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ar(Uw(this.h),Nu(this.s),Nu(this.l),Gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gd(this.opacity);return`${e===1?"hsl(":"hsla("}${Uw(this.h)}, ${Nu(this.s)*100}%, ${Nu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Uw(e){return e=(e||0)%360,e<0?e+360:e}function Nu(e){return Math.max(0,Math.min(1,e||0))}function mp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vy=e=>()=>e;function tz(e,t){return function(n){return e+n*t}}function nz(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rz(e){return(e=+e)==1?x_:function(t,n){return n-t?nz(t,n,e):vy(isNaN(t)?n:t)}}function x_(e,t){var n=t-e;return n?tz(e,n):vy(isNaN(e)?t:e)}const Kd=function e(t){var n=rz(t);function r(s,o){var i=n((s=Jm(s)).r,(o=Jm(o)).r),l=n(s.g,o.g),c=n(s.b,o.b),u=x_(s.opacity,o.opacity);return function(f){return s.r=i(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return r.gamma=e,r}(1);function sz(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function oz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iz(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=kl(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(l){for(i=0;i<r;++i)o[i]=s[i](l);return o}}function az(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lz(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=kl(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var Zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gp=new RegExp(Zm.source,"g");function cz(e){return function(){return e}}function uz(e){return function(t){return e(t)+""}}function w_(e,t){var n=Zm.lastIndex=gp.lastIndex=0,r,s,o,i=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Zm.exec(e))&&(s=gp.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),l[i]?l[i]+=o:l[++i]=o),(r=r[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:_r(r,s)})),n=gp.lastIndex;return n<t.length&&(o=t.slice(n),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?uz(c[0].x):cz(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function kl(e,t){var n=typeof t,r;return t==null||n==="boolean"?vy(t):(n==="number"?_r:n==="string"?(r=Go(t))?(t=r,Kd):w_:t instanceof Go?Kd:t instanceof Date?az:oz(t)?sz:Array.isArray(t)?iz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lz:_r)(e,t)}var Bw=180/Math.PI,eg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function b_(e,t,n,r,s,o){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Bw,skewX:Math.atan(c)*Bw,scaleX:i,scaleY:l}}var Cu;function dz(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eg:b_(t.a,t.b,t.c,t.d,t.e,t.f)}function fz(e){return e==null||(Cu||(Cu=document.createElementNS("http://www.w3.org/2000/svg","g")),Cu.setAttribute("transform",e),!(e=Cu.transform.baseVal.consolidate()))?eg:(e=e.matrix,b_(e.a,e.b,e.c,e.d,e.e,e.f))}function S_(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,f,h,d,m,y){if(u!==h||f!==d){var g=m.push("translate(",null,t,null,n);y.push({i:g-4,x:_r(u,h)},{i:g-2,x:_r(f,d)})}else(h||d)&&m.push("translate("+h+t+d+n)}function i(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(s(h)+"rotate(",null,r)-2,x:_r(u,f)})):f&&h.push(s(h)+"rotate("+f+r)}function l(u,f,h,d){u!==f?d.push({i:h.push(s(h)+"skewX(",null,r)-2,x:_r(u,f)}):f&&h.push(s(h)+"skewX("+f+r)}function c(u,f,h,d,m,y){if(u!==h||f!==d){var g=m.push(s(m)+"scale(",null,",",null,")");y.push({i:g-4,x:_r(u,h)},{i:g-2,x:_r(f,d)})}else(h!==1||d!==1)&&m.push(s(m)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,d),i(u.rotate,f.rotate,h,d),l(u.skewX,f.skewX,h,d),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(m){for(var y=-1,g=d.length,b;++y<g;)h[(b=d[y]).i]=b.x(m);return h.join("")}}}var hz=S_(dz,"px, ","px)","deg)"),pz=S_(fz,", ",")",")"),mz=1e-12;function Hw(e){return((e=Math.exp(e))+1/e)/2}function gz(e){return((e=Math.exp(e))-1/e)/2}function vz(e){return((e=Math.exp(2*e))-1)/(e+1)}const id=function e(t,n,r){function s(o,i){var l=o[0],c=o[1],u=o[2],f=i[0],h=i[1],d=i[2],m=f-l,y=h-c,g=m*m+y*y,b,v;if(g<mz)v=Math.log(d/u)/t,b=function(j){return[l+j*m,c+j*y,u*Math.exp(t*j*v)]};else{var w=Math.sqrt(g),x=(d*d-u*u+r*g)/(2*u*n*w),S=(d*d-u*u-r*g)/(2*d*n*w),C=Math.log(Math.sqrt(x*x+1)-x),N=Math.log(Math.sqrt(S*S+1)-S);v=(N-C)/t,b=function(j){var T=j*v,_=Hw(C),P=u/(n*w)*(_*vz(t*T+C)-gz(C));return[l+P*m,c+P*y,u*_/Hw(t*T+C)]}}return b.duration=v*1e3*t/Math.SQRT2,b}return s.rho=function(o){var i=Math.max(.001,+o),l=i*i,c=l*l;return e(i,l,c)},s}(Math.SQRT2,2,4);var ma=0,ul=0,el=0,N_=1e3,Yd,dl,Xd=0,Ko=0,Xf=0,ic=typeof performance=="object"&&performance.now?performance:Date,C_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yy(){return Ko||(C_(yz),Ko=ic.now()+Xf)}function yz(){Ko=0}function Qd(){this._call=this._time=this._next=null}Qd.prototype=j_.prototype={constructor:Qd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yy():+n)+(t==null?0:+t),!this._next&&dl!==this&&(dl?dl._next=this:Yd=this,dl=this),this._call=e,this._time=n,tg()},stop:function(){this._call&&(this._call=null,this._time=1/0,tg())}};function j_(e,t,n){var r=new Qd;return r.restart(e,t,n),r}function xz(){yy(),++ma;for(var e=Yd,t;e;)(t=Ko-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ma}function Ww(){Ko=(Xd=ic.now())+Xf,ma=ul=0;try{xz()}finally{ma=0,bz(),Ko=0}}function wz(){var e=ic.now(),t=e-Xd;t>N_&&(Xf-=t,Xd=e)}function bz(){for(var e,t=Yd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yd=n);dl=e,tg(r)}function tg(e){if(!ma){ul&&(ul=clearTimeout(ul));var t=e-Ko;t>24?(e<1/0&&(ul=setTimeout(Ww,e-ic.now()-Xf)),el&&(el=clearInterval(el))):(el||(Xd=ic.now(),el=setInterval(wz,N_)),ma=1,C_(Ww))}}function Vw(e,t,n){var r=new Qd;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Sz=Kf("start","end","cancel","interrupt"),Nz=[],k_=0,qw=1,ng=2,ad=3,Gw=4,rg=5,ld=6;function Qf(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Cz(e,n,{name:t,index:r,group:s,on:Sz,tween:Nz,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:k_})}function xy(e,t){var n=vr(e,t);if(n.state>k_)throw new Error("too late; already scheduled");return n}function Dr(e,t){var n=vr(e,t);if(n.state>ad)throw new Error("too late; already running");return n}function vr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Cz(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=j_(o,0,n.time);function o(u){n.state=qw,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var f,h,d,m;if(n.state!==qw)return c();for(f in r)if(m=r[f],m.name===n.name){if(m.state===ad)return Vw(i);m.state===Gw?(m.state=ld,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=ld,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(Vw(function(){n.state===ad&&(n.state=Gw,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=ng,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ng){for(n.state=ad,s=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=m);s.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=rg,1),h=-1,d=s.length;++h<d;)s[h].call(e,f);n.state===rg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=ld,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function cd(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>ng&&r.state<rg,r.state=ld,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function jz(e){return this.each(function(){cd(this,e)})}function kz(e,t){var n,r;return function(){var s=Dr(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function _z(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Dr(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}o.tween=s}}function Ez(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=vr(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?kz:_z)(n,e,t))}function wy(e,t,n){var r=e._id;return e.each(function(){var s=Dr(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return vr(s,r).value[t]}}function __(e,t){var n;return(typeof t=="number"?_r:t instanceof Go?Kd:(n=Go(t))?(t=n,Kd):w_)(e,t)}function Tz(e){return function(){this.removeAttribute(e)}}function Pz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rz(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function Az(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function Mz(e,t,n){var r,s,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,l)))}}function Iz(e,t,n){var r,s,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,l)))}}function $z(e,t){var n=Yf(e),r=n==="transform"?pz:__;return this.attrTween(e,typeof t=="function"?(n.local?Iz:Mz)(n,r,wy(this,"attr."+e,t)):t==null?(n.local?Pz:Tz)(n):(n.local?Az:Rz)(n,r,t))}function Oz(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Dz(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Lz(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Dz(e,o)),n}return s._value=t,s}function Fz(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Oz(e,o)),n}return s._value=t,s}function zz(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yf(e);return this.tween(n,(r.local?Lz:Fz)(r,t))}function Uz(e,t){return function(){xy(this,e).delay=+t.apply(this,arguments)}}function Bz(e,t){return t=+t,function(){xy(this,e).delay=t}}function Hz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uz:Bz)(t,e)):vr(this.node(),t).delay}function Wz(e,t){return function(){Dr(this,e).duration=+t.apply(this,arguments)}}function Vz(e,t){return t=+t,function(){Dr(this,e).duration=t}}function qz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wz:Vz)(t,e)):vr(this.node(),t).duration}function Gz(e,t){if(typeof t!="function")throw new Error;return function(){Dr(this,e).ease=t}}function Kz(e){var t=this._id;return arguments.length?this.each(Gz(t,e)):vr(this.node(),t).ease}function Yz(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Dr(this,e).ease=n}}function Xz(e){if(typeof e!="function")throw new Error;return this.each(Yz(this._id,e))}function Qz(e){typeof e!="function"&&(e=s_(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,l=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&l.push(c);return new as(r,this._parents,this._name,this._id)}function Jz(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),l=0;l<o;++l)for(var c=t[l],u=n[l],f=c.length,h=i[l]=new Array(f),d,m=0;m<f;++m)(d=c[m]||u[m])&&(h[m]=d);for(;l<r;++l)i[l]=t[l];return new as(i,this._parents,this._name,this._id)}function Zz(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function e8(e,t,n){var r,s,o=Zz(t)?xy:Dr;return function(){var i=o(this,e),l=i.on;l!==r&&(s=(r=l).copy()).on(t,n),i.on=s}}function t8(e,t){var n=this._id;return arguments.length<2?vr(this.node(),n).on.on(e):this.each(e8(n,e,t))}function n8(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function r8(){return this.on("end.remove",n8(this._id))}function s8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=py(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var l=r[i],c=l.length,u=o[i]=new Array(c),f,h,d=0;d<c;++d)(f=l[d])&&(h=e.call(f,f.__data__,d,l))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,Qf(u[d],t,n,d,u,vr(f,n)));return new as(o,this._parents,t,n)}function o8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=r_(e));for(var r=this._groups,s=r.length,o=[],i=[],l=0;l<s;++l)for(var c=r[l],u=c.length,f,h=0;h<u;++h)if(f=c[h]){for(var d=e.call(f,f.__data__,h,c),m,y=vr(f,n),g=0,b=d.length;g<b;++g)(m=d[g])&&Qf(m,t,n,g,d,y);o.push(d),i.push(f)}return new as(o,i,t,n)}var i8=Ac.prototype.constructor;function a8(){return new i8(this._groups,this._parents)}function l8(e,t){var n,r,s;return function(){var o=pa(this,e),i=(this.style.removeProperty(e),pa(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function E_(e){return function(){this.style.removeProperty(e)}}function c8(e,t,n){var r,s=n+"",o;return function(){var i=pa(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function u8(e,t,n){var r,s,o;return function(){var i=pa(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),pa(this,e))),i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,l))}}function d8(e,t){var n,r,s,o="style."+t,i="end."+o,l;return function(){var c=Dr(this,e),u=c.on,f=c.value[o]==null?l||(l=E_(t)):void 0;(u!==n||s!==f)&&(r=(n=u).copy()).on(i,s=f),c.on=r}}function f8(e,t,n){var r=(e+="")=="transform"?hz:__;return t==null?this.styleTween(e,l8(e,r)).on("end.style."+e,E_(e)):typeof t=="function"?this.styleTween(e,u8(e,r,wy(this,"style."+e,t))).each(d8(this._id,e)):this.styleTween(e,c8(e,r,t),n).on("end.style."+e,null)}function h8(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function p8(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&h8(e,i,n)),r}return o._value=t,o}function m8(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,p8(e,t,n??""))}function g8(e){return function(){this.textContent=e}}function v8(e){return function(){var t=e(this);this.textContent=t??""}}function y8(e){return this.tween("text",typeof e=="function"?v8(wy(this,"text",e)):g8(e==null?"":e+""))}function x8(e){return function(t){this.textContent=e.call(this,t)}}function w8(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&x8(s)),t}return r._value=e,r}function b8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,w8(e))}function S8(){for(var e=this._name,t=this._id,n=T_(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var f=vr(c,t);Qf(c,e,n,u,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new as(r,this._parents,e,n)}function N8(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var l={value:i},c={value:function(){--s===0&&o()}};n.each(function(){var u=Dr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&o()})}var C8=0;function as(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function T_(){return++C8}var zr=Ac.prototype;as.prototype={constructor:as,select:s8,selectAll:o8,selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:Qz,merge:Jz,selection:a8,transition:S8,call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:t8,attr:$z,attrTween:zz,style:f8,styleTween:m8,text:y8,textTween:b8,remove:r8,tween:Ez,delay:Hz,duration:qz,ease:Kz,easeVarying:Xz,end:N8,[Symbol.iterator]:zr[Symbol.iterator]};function j8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k8={time:null,delay:0,duration:250,ease:j8};function _8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function E8(e){var t,n;e instanceof as?(t=e._id,e=e._name):(t=T_(),(n=k8).time=yy(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],l=i.length,c,u=0;u<l;++u)(c=i[u])&&Qf(c,e,t,u,i,n||_8(c,t));return new as(r,this._parents,e,t)}Ac.prototype.interrupt=jz;Ac.prototype.transition=E8;const ju=e=>()=>e;function T8(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Kr(e,t,n){this.k=e,this.x=t,this.y=n}Kr.prototype={constructor:Kr,scale:function(e){return e===1?this:new Kr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Kr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jf=new Kr(1,0,0);P_.prototype=Kr.prototype;function P_(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Jf;return e.__zoom}function vp(e){e.stopImmediatePropagation()}function tl(e){e.preventDefault(),e.stopImmediatePropagation()}function P8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function R8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Kw(){return this.__zoom||Jf}function A8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function M8(){return navigator.maxTouchPoints||"ontouchstart"in this}function I8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function R_(){var e=P8,t=R8,n=I8,r=A8,s=M8,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=id,u=Kf("start","zoom","end"),f,h,d,m=500,y=150,g=0,b=10;function v(k){k.property("__zoom",Kw).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(k,D,I,$){var A=k.selection?k.selection():k;A.property("__zoom",Kw),k!==A?C(k,D,I,$):A.interrupt().each(function(){N(this,arguments).event($).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(k,D,I,$){v.scaleTo(k,function(){var A=this.__zoom.k,R=typeof D=="function"?D.apply(this,arguments):D;return A*R},I,$)},v.scaleTo=function(k,D,I,$){v.transform(k,function(){var A=t.apply(this,arguments),R=this.__zoom,z=I==null?S(A):typeof I=="function"?I.apply(this,arguments):I,L=R.invert(z),U=typeof D=="function"?D.apply(this,arguments):D;return n(x(w(R,U),z,L),A,i)},I,$)},v.translateBy=function(k,D,I,$){v.transform(k,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),i)},null,$)},v.translateTo=function(k,D,I,$,A){v.transform(k,function(){var R=t.apply(this,arguments),z=this.__zoom,L=$==null?S(R):typeof $=="function"?$.apply(this,arguments):$;return n(Jf.translate(L[0],L[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof I=="function"?-I.apply(this,arguments):-I),R,i)},$,A)};function w(k,D){return D=Math.max(o[0],Math.min(o[1],D)),D===k.k?k:new Kr(D,k.x,k.y)}function x(k,D,I){var $=D[0]-I[0]*k.k,A=D[1]-I[1]*k.k;return $===k.x&&A===k.y?k:new Kr(k.k,$,A)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function C(k,D,I,$){k.on("start.zoom",function(){N(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event($).end()}).tween("zoom",function(){var A=this,R=arguments,z=N(A,R).event($),L=t.apply(A,R),U=I==null?S(L):typeof I=="function"?I.apply(A,R):I,B=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),H=A.__zoom,ee=typeof D=="function"?D.apply(A,R):D,G=c(H.invert(U).concat(B/H.k),ee.invert(U).concat(B/ee.k));return function(W){if(W===1)W=ee;else{var Q=G(W),se=B/Q[2];W=new Kr(se,U[0]-Q[0]*se,U[1]-Q[1]*se)}z.zoom(null,W)}})}function N(k,D,I){return!I&&k.__zooming||new j(k,D)}function j(k,D){this.that=k,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,D),this.taps=0}j.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,D){return this.mouse&&k!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var D=En(this.that).datum();u.call(k,this.that,new T8(k,{sourceEvent:this.sourceEvent,target:v,type:k,transform:this.that.__zoom,dispatch:u}),D)}};function T(k,...D){if(!e.apply(this,arguments))return;var I=N(this,D).event(k),$=this.__zoom,A=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),R=rr(k);if(I.wheel)(I.mouse[0][0]!==R[0]||I.mouse[0][1]!==R[1])&&(I.mouse[1]=$.invert(I.mouse[0]=R)),clearTimeout(I.wheel);else{if($.k===A)return;I.mouse=[R,$.invert(R)],cd(this),I.start()}tl(k),I.wheel=setTimeout(z,y),I.zoom("mouse",n(x(w($,A),I.mouse[0],I.mouse[1]),I.extent,i));function z(){I.wheel=null,I.end()}}function _(k,...D){if(d||!e.apply(this,arguments))return;var I=k.currentTarget,$=N(this,D,!0).event(k),A=En(k.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",B,!0),R=rr(k,I),z=k.clientX,L=k.clientY;p_(k.view),vp(k),$.mouse=[R,this.__zoom.invert(R)],cd(this),$.start();function U(H){if(tl(H),!$.moved){var ee=H.clientX-z,G=H.clientY-L;$.moved=ee*ee+G*G>g}$.event(H).zoom("mouse",n(x($.that.__zoom,$.mouse[0]=rr(H,I),$.mouse[1]),$.extent,i))}function B(H){A.on("mousemove.zoom mouseup.zoom",null),m_(H.view,$.moved),tl(H),$.event(H).end()}}function P(k,...D){if(e.apply(this,arguments)){var I=this.__zoom,$=rr(k.changedTouches?k.changedTouches[0]:k,this),A=I.invert($),R=I.k*(k.shiftKey?.5:2),z=n(x(w(I,R),$,A),t.apply(this,D),i);tl(k),l>0?En(this).transition().duration(l).call(C,z,$,k):En(this).call(v.transform,z,$,k)}}function E(k,...D){if(e.apply(this,arguments)){var I=k.touches,$=I.length,A=N(this,D,k.changedTouches.length===$).event(k),R,z,L,U;for(vp(k),z=0;z<$;++z)L=I[z],U=rr(L,this),U=[U,this.__zoom.invert(U),L.identifier],A.touch0?!A.touch1&&A.touch0[2]!==U[2]&&(A.touch1=U,A.taps=0):(A.touch0=U,R=!0,A.taps=1+!!f);f&&(f=clearTimeout(f)),R&&(A.taps<2&&(h=U[0],f=setTimeout(function(){f=null},m)),cd(this),A.start())}}function M(k,...D){if(this.__zooming){var I=N(this,D).event(k),$=k.changedTouches,A=$.length,R,z,L,U;for(tl(k),R=0;R<A;++R)z=$[R],L=rr(z,this),I.touch0&&I.touch0[2]===z.identifier?I.touch0[0]=L:I.touch1&&I.touch1[2]===z.identifier&&(I.touch1[0]=L);if(z=I.that.__zoom,I.touch1){var B=I.touch0[0],H=I.touch0[1],ee=I.touch1[0],G=I.touch1[1],W=(W=ee[0]-B[0])*W+(W=ee[1]-B[1])*W,Q=(Q=G[0]-H[0])*Q+(Q=G[1]-H[1])*Q;z=w(z,Math.sqrt(W/Q)),L=[(B[0]+ee[0])/2,(B[1]+ee[1])/2],U=[(H[0]+G[0])/2,(H[1]+G[1])/2]}else if(I.touch0)L=I.touch0[0],U=I.touch0[1];else return;I.zoom("touch",n(x(z,L,U),I.extent,i))}}function O(k,...D){if(this.__zooming){var I=N(this,D).event(k),$=k.changedTouches,A=$.length,R,z;for(vp(k),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),R=0;R<A;++R)z=$[R],I.touch0&&I.touch0[2]===z.identifier?delete I.touch0:I.touch1&&I.touch1[2]===z.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(z=rr(z,this),Math.hypot(h[0]-z[0],h[1]-z[1])<b)){var L=En(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return v.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:ju(+k),v):r},v.filter=function(k){return arguments.length?(e=typeof k=="function"?k:ju(!!k),v):e},v.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:ju(!!k),v):s},v.extent=function(k){return arguments.length?(t=typeof k=="function"?k:ju([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),v):t},v.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],v):[o[0],o[1]]},v.translateExtent=function(k){return arguments.length?(i[0][0]=+k[0][0],i[1][0]=+k[1][0],i[0][1]=+k[0][1],i[1][1]=+k[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(k){return arguments.length?(n=k,v):n},v.duration=function(k){return arguments.length?(l=+k,v):l},v.interpolate=function(k){return arguments.length?(c=k,v):c},v.on=function(){var k=u.on.apply(u,arguments);return k===u?v:k},v.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,v):Math.sqrt(g)},v.tapDistance=function(k){return arguments.length?(b=+k,v):b},v}const $r={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ac=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],A_=["Enter"," ","Escape"],M_={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ga;(function(e){e.Strict="strict",e.Loose="loose"})(ga||(ga={}));var zo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(zo||(zo={}));var lc;(function(e){e.Partial="partial",e.Full="full"})(lc||(lc={}));const I_={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ps;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ps||(Ps={}));var Jd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Jd||(Jd={}));var ue;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ue||(ue={}));const Yw={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top};function $_(e){return e===null?null:e?"valid":"invalid"}const O_=e=>"id"in e&&"source"in e&&"target"in e,$8=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),by=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ic=(e,t=[0,0])=>{const{width:n,height:r}=us(e),s=e.origin??t,o=n*s[0],i=r*s[1];return{x:e.position.x-o,y:e.position.y-i}},O8=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const o=typeof s=="string";let i=!t.nodeLookup&&!o?s:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(s):by(s)?s:t.nodeLookup.get(s.id));const l=i?Zd(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Zf(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eh(n)},$c=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const s=Zd(r);n=Zf(n,s)}}),eh(n)},Sy=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1)=>{const l={...Oc(t,[n,r,s]),width:t.width/s,height:t.height/s},c=[];for(const u of e.values()){const{measured:f,selectable:h=!0,hidden:d=!1}=u;if(i&&!h||d)continue;const m=f.width??u.width??u.initialWidth??null,y=f.height??u.height??u.initialHeight??null,g=cc(l,ya(u)),b=(m??0)*(y??0),v=o&&g>0;(!u.internals.handleBounds||v||g>=b||u.dragging)&&c.push(u)}return c},D8=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function L8(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function F8({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=L8(e,i),c=$c(l),u=Ny(c,t,n,(i==null?void 0:i.minZoom)??s,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await r.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function D_({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:o}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=i.origin??r;let h=i.extent||s;if(i.extent==="parent"&&!i.expandParent)if(!l)o==null||o("005",$r.error005());else{const m=l.measured.width,y=l.measured.height;m&&y&&(h=[[c,u],[c+m,u+y]])}else l&&xa(i.extent)&&(h=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const d=xa(h)?Yo(t,h,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",$r.error015())),{position:{x:d.x-c+(i.measured.width??0)*f[0],y:d.y-u+(i.measured.height??0)*f[1]},positionAbsolute:d}}async function z8({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const o=new Set(e.map(d=>d.id)),i=[];for(const d of n){if(d.deletable===!1)continue;const m=o.has(d.id),y=!m&&d.parentId&&i.find(g=>g.id===d.parentId);(m||y)&&i.push(d)}const l=new Set(t.map(d=>d.id)),c=r.filter(d=>d.deletable!==!1),f=D8(i,c);for(const d of c)l.has(d.id)&&!f.find(y=>y.id===d.id)&&f.push(d);if(!s)return{edges:f,nodes:i};const h=await s({nodes:i,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:i}:{edges:[],nodes:[]}:h}const va=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yo=(e={x:0,y:0},t,n)=>({x:va(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:va(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function L_(e,t,n){const{width:r,height:s}=us(n),{x:o,y:i}=n.internals.positionAbsolute;return Yo(e,[[o,i],[o+r,i+s]],t)}const Xw=(e,t,n)=>e<t?va(Math.abs(e-t),1,t)/t:e>n?-va(Math.abs(e-n),1,t)/t:0,F_=(e,t,n=15,r=40)=>{const s=Xw(e.x,r,t.width-r)*n,o=Xw(e.y,r,t.height-r)*n;return[s,o]},Zf=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),sg=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),eh=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ya=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=by(e)?e.internals.positionAbsolute:Ic(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Zd=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=by(e)?e.internals.positionAbsolute:Ic(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},z_=(e,t)=>eh(Zf(sg(e),sg(t))),cc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Qw=e=>lr(e.width)&&lr(e.height)&&lr(e.x)&&lr(e.y),lr=e=>!isNaN(e)&&isFinite(e),U8=(e,t)=>{},th=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Oc=({x:e,y:t},[n,r,s],o=!1,i=[1,1])=>{const l={x:(e-n)/s,y:(t-r)/s};return o?th(l,i):l},ef=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function pi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function B8(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=pi(e,n),s=pi(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=pi(e.top??e.y??0,n),s=pi(e.bottom??e.y??0,n),o=pi(e.left??e.x??0,t),i=pi(e.right??e.x??0,t);return{top:r,right:i,bottom:s,left:o,x:o+i,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function H8(e,t,n,r,s,o){const{x:i,y:l}=ef(e,[t,n,r]),{x:c,y:u}=ef({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=s-c,h=o-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(h)}}const Ny=(e,t,n,r,s,o)=>{const i=B8(o,t,n),l=(t-i.x)/e.width,c=(n-i.y)/e.height,u=Math.min(l,c),f=va(u,r,s),h=e.x+e.width/2,d=e.y+e.height/2,m=t/2-h*f,y=n/2-d*f,g=H8(e,m,y,f,t,n),b={left:Math.min(g.left-i.left,0),top:Math.min(g.top-i.top,0),right:Math.min(g.right-i.right,0),bottom:Math.min(g.bottom-i.bottom,0)};return{x:m-b.left+b.right,y:y-b.top+b.bottom,zoom:f}},tf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xa(e){return e!==void 0&&e!=="parent"}function us(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function U_(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function B_(e,t={width:0,height:0},n,r,s){const o={...e},i=r.get(n);if(i){const l=i.origin||s;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function Jw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function W8(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function V8(e){return{...M_,...e||{}}}function _l(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:o,y:i}=Tr(e),l=Oc({x:o-((s==null?void 0:s.left)??0),y:i-((s==null?void 0:s.top)??0)},r),{x:c,y:u}=n?th(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const Cy=e=>({width:e.offsetWidth,height:e.offsetHeight}),H_=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},q8=["INPUT","SELECT","TEXTAREA"];function W_(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:q8.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const V_=e=>"clientX"in e,Tr=(e,t)=>{var o,i;const n=V_(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Zw=(e,t,n,r,s)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Cy(i)}})};function q_({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:l}){const c=e*.125+s*.375+i*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,f=Math.abs(c-e),h=Math.abs(u-t);return[c,u,f,h]}function ku(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function eb({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case ue.Left:return[t-ku(t-r,o),n];case ue.Right:return[t+ku(r-t,o),n];case ue.Top:return[t,n-ku(n-s,o)];case ue.Bottom:return[t,n+ku(s-n,o)]}}function jy({sourceX:e,sourceY:t,sourcePosition:n=ue.Bottom,targetX:r,targetY:s,targetPosition:o=ue.Top,curvature:i=.25}){const[l,c]=eb({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[u,f]=eb({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[h,d,m,y]=q_({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${c} ${u},${f} ${r},${s}`,h,d,m,y]}function G_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[o,l,s,i]}function G8({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:s=!1}){if(r!==void 0)return r;const o=s&&n?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function K8({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const o=Zf(Zd(e),Zd(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return cc(i,eh(o))>0}const Y8=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,X8=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),K_=(e,t)=>{if(!e.source||!e.target)return t;let n;return O_(e)?n={...e}:n={...e,id:Y8(e)},X8(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Y_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,l]=G_({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,l]}const tb={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}},Q8=({source:e,sourcePosition:t=ue.Bottom,target:n})=>t===ue.Left||t===ue.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function J8({source:e,sourcePosition:t=ue.Bottom,target:n,targetPosition:r=ue.Top,center:s,offset:o,stepPosition:i}){const l=tb[t],c=tb[r],u={x:e.x+l.x*o,y:e.y+l.y*o},f={x:n.x+c.x*o,y:n.y+c.y*o},h=Q8({source:u,sourcePosition:t,target:f}),d=h.x!==0?"x":"y",m=h[d];let y=[],g,b;const v={x:0,y:0},w={x:0,y:0},[,,x,S]=G_({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*c[d]===-1){d==="x"?(g=s.x??u.x+(f.x-u.x)*i,b=s.y??(u.y+f.y)/2):(g=s.x??(u.x+f.x)/2,b=s.y??u.y+(f.y-u.y)*i);const N=[{x:g,y:u.y},{x:g,y:f.y}],j=[{x:u.x,y:b},{x:f.x,y:b}];l[d]===m?y=d==="x"?N:j:y=d==="x"?j:N}else{const N=[{x:u.x,y:f.y}],j=[{x:f.x,y:u.y}];if(d==="x"?y=l.x===m?j:N:y=l.y===m?N:j,t===r){const M=Math.abs(e[d]-n[d]);if(M<=o){const O=Math.min(o-1,o-M);l[d]===m?v[d]=(u[d]>e[d]?-1:1)*O:w[d]=(f[d]>n[d]?-1:1)*O}}if(t!==r){const M=d==="x"?"y":"x",O=l[d]===c[M],k=u[M]>f[M],D=u[M]<f[M];(l[d]===1&&(!O&&k||O&&D)||l[d]!==1&&(!O&&D||O&&k))&&(y=d==="x"?N:j)}const T={x:u.x+v.x,y:u.y+v.y},_={x:f.x+w.x,y:f.y+w.y},P=Math.max(Math.abs(T.x-y[0].x),Math.abs(_.x-y[0].x)),E=Math.max(Math.abs(T.y-y[0].y),Math.abs(_.y-y[0].y));P>=E?(g=(T.x+_.x)/2,b=y[0].y):(g=y[0].x,b=(T.y+_.y)/2)}return[[e,{x:u.x+v.x,y:u.y+v.y},...y,{x:f.x+w.x,y:f.y+w.y},n],g,b,x,S]}function Z8(e,t,n,r){const s=Math.min(nb(e,t)/2,nb(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+s*u},${i}Q ${o},${i} ${o},${i+s*f}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${i+s*c}Q ${o},${i} ${o+s*l},${i}`}function og({sourceX:e,sourceY:t,sourcePosition:n=ue.Bottom,targetX:r,targetY:s,targetPosition:o=ue.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:f=.5}){const[h,d,m,y,g]=J8({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:l,y:c},offset:u,stepPosition:f});return[h.reduce((v,w,x)=>{let S="";return x>0&&x<h.length-1?S=Z8(h[x-1],w,h[x+1],i):S=`${x===0?"M":"L"}${w.x} ${w.y}`,v+=S,v},""),d,m,y,g]}function rb(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function eU(e){var h;const{sourceNode:t,targetNode:n}=e;if(!rb(t)||!rb(n))return null;const r=t.internals.handleBounds||sb(t.handles),s=n.internals.handleBounds||sb(n.handles),o=ob((r==null?void 0:r.source)??[],e.sourceHandle),i=ob(e.connectionMode===ga.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!o||!i)return(h=e.onError)==null||h.call(e,"008",$r.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(o==null?void 0:o.position)||ue.Bottom,c=(i==null?void 0:i.position)||ue.Top,u=uc(t,o,l),f=uc(n,i,c);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function sb(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function uc(e,t,n=ue.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??us(e);if(r)return{x:s+i/2,y:o+l/2};switch((t==null?void 0:t.position)??n){case ue.Top:return{x:s+i/2,y:o};case ue.Right:return{x:s+i,y:o+l/2};case ue.Bottom:return{x:s+i/2,y:o+l};case ue.Left:return{x:s,y:o+l/2}}}function ob(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ig(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function tU(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||s].forEach(c=>{if(c&&typeof c=="object"){const u=ig(c,t);o.has(u)||(i.push({id:u,color:c.color||n,...c}),o.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const ky={nodeOrigin:[0,0],nodeExtent:ac,elevateNodesOnSelect:!0,defaults:{}},nU={...ky,checkEquality:!0};function _y(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function rU(e,t,n){const r=_y(ky,n);for(const s of e.values())if(s.parentId)Ey(s,e,t,r);else{const o=Ic(s,r.nodeOrigin),i=xa(s.extent)?s.extent:r.nodeExtent,l=Yo(o,i,us(s));s.internals.positionAbsolute=l}}function ag(e,t,n,r){var c,u;const s=_y(nU,r);let o=e.length>0;const i=new Map(t),l=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let h=i.get(f.id);if(s.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const d=Ic(f,s.nodeOrigin),m=xa(f.extent)?f.extent:s.nodeExtent,y=Yo(d,m,us(f));h={...s.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(u=f.measured)==null?void 0:u.height},internals:{positionAbsolute:y,handleBounds:f.measured?h==null?void 0:h.internals.handleBounds:void 0,z:X_(f,l),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(o=!1),f.parentId&&Ey(h,t,n,r)}return o}function sU(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ey(e,t,n,r){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:i}=_y(ky,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}sU(e,n);const u=s?1e3:0,{x:f,y:h,z:d}=oU(e,c,o,i,u),{positionAbsolute:m}=e.internals,y=f!==m.x||h!==m.y;(y||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:h}:m,z:d}})}function X_(e,t){return(lr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function oU(e,t,n,r,s){const{x:o,y:i}=t.internals.positionAbsolute,l=us(e),c=Ic(e,n),u=xa(e.extent)?Yo(c,e.extent,l):c;let f=Yo({x:o+u.x,y:i+u.y},r,l);e.extent==="parent"&&(f=L_(f,l,t));const h=X_(e,s),d=t.internals.z??0;return{x:f.x,y:f.y,z:d>=h?d+1:h}}function Ty(e,t,n,r=[0,0]){var i;const s=[],o=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=o.get(l.parentId))==null?void 0:i.expandedRect)??ya(c),f=z_(u,l.rect);o.set(l.parentId,{expandedRect:f,parent:c})}return o.size>0&&o.forEach(({expandedRect:l,parent:c},u)=>{var x;const f=c.internals.positionAbsolute,h=us(c),d=c.origin??r,m=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,g=Math.max(h.width,Math.round(l.width)),b=Math.max(h.height,Math.round(l.height)),v=(g-h.width)*d[0],w=(b-h.height)*d[1];(m>0||y>0||v||w)&&(s.push({id:u,type:"position",position:{x:c.position.x-m+v,y:c.position.y-y+w}}),(x=n.get(u))==null||x.forEach(S=>{e.some(C=>C.id===S.id)||s.push({id:S.id,type:"position",position:{x:S.position.x+m,y:S.position.y+y}})})),(h.width<l.width||h.height<l.height||m||y)&&s.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(m?d[0]*m-v:0),height:b+(y?d[1]*y-w:0)}})}),s}function iU(e,t,n,r,s,o){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const c=[],u=window.getComputedStyle(i),{m22:f}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const d of e.values()){const m=t.get(d.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),l=!0;continue}const y=Cy(d.nodeElement),g=m.measured.width!==y.width||m.measured.height!==y.height;if(!!(y.width&&y.height&&(g||!m.internals.handleBounds||d.force))){const v=d.nodeElement.getBoundingClientRect(),w=xa(m.extent)?m.extent:o;let{positionAbsolute:x}=m.internals;m.parentId&&m.extent==="parent"?x=L_(x,y,t.get(m.parentId)):w&&(x=Yo(x,w,y));const S={...m,measured:y,internals:{...m.internals,positionAbsolute:x,handleBounds:{source:Zw("source",d.nodeElement,v,f,m.id),target:Zw("target",d.nodeElement,v,f,m.id)}}};t.set(m.id,S),m.parentId&&Ey(S,t,n,{nodeOrigin:s}),l=!0,g&&(c.push({id:m.id,type:"dimensions",dimensions:y}),m.expandParent&&m.parentId&&h.push({id:m.id,parentId:m.parentId,rect:ya(S,s)}))}}if(h.length>0){const d=Ty(h,t,n,s);c.push(...d)}return{changes:c,updatedInternals:l}}async function aU({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,o]],r),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function ib(e,t,n,r,s,o){let i=s;const l=r.get(i)||new Map;r.set(i,l.set(n,t)),i=`${s}-${e}`;const c=r.get(i)||new Map;if(r.set(i,c.set(n,t)),o){i=`${s}-${e}-${o}`;const u=r.get(i)||new Map;r.set(i,u.set(n,t))}}function Q_(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:o,sourceHandle:i=null,targetHandle:l=null}=r,c={edgeId:r.id,source:s,target:o,sourceHandle:i,targetHandle:l},u=`${s}-${i}--${o}-${l}`,f=`${o}-${l}--${s}-${i}`;ib("source",c,f,e,s,i),ib("target",c,u,e,o,l),t.set(r.id,r)}}function J_(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:J_(n,t):!1}function ab(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function lU(e,t,n,r){const s=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!J_(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&s.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function yp({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,l,c;const s=[];for(const[u,f]of t){const h=(i=n.get(u))==null?void 0:i.internals.userNode;h&&s.push({...h,position:f.position,dragging:r})}if(!e)return[s[0],s];const o=(l=n.get(e))==null?void 0:l.internals.userNode;return[o?{...o,position:((c=t.get(e))==null?void 0:c.position)||o.position,dragging:r}:s[0],s]}function cU({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let o={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},f=null,h=!1,d=null,m=!1,y=!1;function g({noDragClassName:v,handleSelector:w,domNode:x,isSelectable:S,nodeId:C,nodeClickDistance:N=0}){d=En(x);function j({x:E,y:M},O){const{nodeLookup:k,nodeExtent:D,snapGrid:I,snapToGrid:$,nodeOrigin:A,onNodeDrag:R,onSelectionDrag:z,onError:L,updateNodePositions:U}=t();o={x:E,y:M};let B=!1,H={x:0,y:0,x2:0,y2:0};if(l.size>1&&D){const ee=$c(l);H=sg(ee)}for(const[ee,G]of l){if(!k.has(ee))continue;let W={x:E-G.distance.x,y:M-G.distance.y};$&&(W=th(W,I));let Q=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];if(l.size>1&&D&&!G.extent){const{positionAbsolute:fe}=G.internals,ae=fe.x-H.x+D[0][0],pe=fe.x+G.measured.width-H.x2+D[1][0],ve=fe.y-H.y+D[0][1],Me=fe.y+G.measured.height-H.y2+D[1][1];Q=[[ae,ve],[pe,Me]]}const{position:se,positionAbsolute:de}=D_({nodeId:ee,nextPosition:W,nodeLookup:k,nodeExtent:Q,nodeOrigin:A,onError:L});B=B||G.position.x!==se.x||G.position.y!==se.y,G.position=se,G.internals.positionAbsolute=de}if(y=y||B,!!B&&(U(l,!0),O&&(r||R||!C&&z))){const[ee,G]=yp({nodeId:C,dragItems:l,nodeLookup:k});r==null||r(O,l,ee,G),R==null||R(O,ee,G),C||z==null||z(O,G)}}async function T(){if(!f)return;const{transform:E,panBy:M,autoPanSpeed:O,autoPanOnNodeDrag:k}=t();if(!k){c=!1,cancelAnimationFrame(i);return}const[D,I]=F_(u,f,O);(D!==0||I!==0)&&(o.x=(o.x??0)-D/E[2],o.y=(o.y??0)-I/E[2],await M({x:D,y:I})&&j(o,null)),i=requestAnimationFrame(T)}function _(E){var B;const{nodeLookup:M,multiSelectionActive:O,nodesDraggable:k,transform:D,snapGrid:I,snapToGrid:$,selectNodesOnDrag:A,onNodeDragStart:R,onSelectionDragStart:z,unselectNodesAndEdges:L}=t();h=!0,(!A||!S)&&!O&&C&&((B=M.get(C))!=null&&B.selected||L()),S&&A&&C&&(e==null||e(C));const U=_l(E.sourceEvent,{transform:D,snapGrid:I,snapToGrid:$,containerBounds:f});if(o=U,l=lU(M,k,U,C),l.size>0&&(n||R||!C&&z)){const[H,ee]=yp({nodeId:C,dragItems:l,nodeLookup:M});n==null||n(E.sourceEvent,l,H,ee),R==null||R(E.sourceEvent,H,ee),C||z==null||z(E.sourceEvent,ee)}}const P=g_().clickDistance(N).on("start",E=>{const{domNode:M,nodeDragThreshold:O,transform:k,snapGrid:D,snapToGrid:I}=t();f=(M==null?void 0:M.getBoundingClientRect())||null,m=!1,y=!1,O===0&&_(E),o=_l(E.sourceEvent,{transform:k,snapGrid:D,snapToGrid:I,containerBounds:f}),u=Tr(E.sourceEvent,f)}).on("drag",E=>{const{autoPanOnNodeDrag:M,transform:O,snapGrid:k,snapToGrid:D,nodeDragThreshold:I,nodeLookup:$}=t(),A=_l(E.sourceEvent,{transform:O,snapGrid:k,snapToGrid:D,containerBounds:f});if((E.sourceEvent.type==="touchmove"&&E.sourceEvent.touches.length>1||C&&!$.has(C))&&(m=!0),!m){if(!c&&M&&h&&(c=!0,T()),!h){const R=A.xSnapped-(o.x??0),z=A.ySnapped-(o.y??0);Math.sqrt(R*R+z*z)>I&&_(E)}(o.x!==A.xSnapped||o.y!==A.ySnapped)&&l&&h&&(u=Tr(E.sourceEvent,f),j(A,E.sourceEvent))}}).on("end",E=>{if(!(!h||m)&&(c=!1,h=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:M,updateNodePositions:O,onNodeDragStop:k,onSelectionDragStop:D}=t();if(y&&(O(l,!1),y=!1),s||k||!C&&D){const[I,$]=yp({nodeId:C,dragItems:l,nodeLookup:M,dragging:!1});s==null||s(E.sourceEvent,l,I,$),k==null||k(E.sourceEvent,I,$),C||D==null||D(E.sourceEvent,$)}}}).filter(E=>{const M=E.target;return!E.button&&(!v||!ab(M,`.${v}`,x))&&(!w||ab(M,w,x))});d.call(P)}function b(){d==null||d.on(".drag",null)}return{update:g,destroy:b}}function uU(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())cc(s,ya(o))>0&&r.push(o);return r}const dU=250;function fU(e,t,n,r){var l,c;let s=[],o=1/0;const i=uU(e,n,t+dU);for(const u of i){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of f){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:d,y:m}=uc(u,h,h.position,!0),y=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(m-e.y,2));y>t||(y<o?(s=[{...h,x:d,y:m}],o=y):y===o&&s.push({...h,x:d,y:m}))}}if(!s.length)return null;if(s.length>1){const u=r.type==="source"?"target":"source";return s.find(f=>f.type===u)??s[0]}return s[0]}function Z_(e,t,n,r,s,o=!1){var u,f,h;const i=r.get(e);if(!i)return null;const l=s==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((f=i.internals.handleBounds)==null?void 0:f.source)??[],...((h=i.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return c&&o?{...c,...uc(i,c,c.position,!0)}:c}function eE(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function hU(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const tE=()=>!0;function pU(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:f,flowId:h,panBy:d,cancelConnection:m,onConnectStart:y,onConnect:g,onConnectEnd:b,isValidConnection:v=tE,onReconnectEnd:w,updateConnection:x,getTransform:S,getFromHandle:C,autoPanSpeed:N,dragThreshold:j=1}){const T=H_(e.target);let _=0,P;const{x:E,y:M}=Tr(e),O=T==null?void 0:T.elementFromPoint(E,M),k=eE(o,O),D=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!D||!k)return;const $=Z_(s,k,r,c,t);if(!$)return;let A=Tr(e,D),R=!1,z=null,L=!1,U=null;function B(){if(!f||!D)return;const[fe,ae]=F_(A,D,N);d({x:fe,y:ae}),_=requestAnimationFrame(B)}const H={...$,nodeId:s,type:k,position:$.position},ee=c.get(s);let W={inProgress:!0,isValid:null,from:uc(ee,H,ue.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:ee,to:A,toHandle:null,toPosition:Yw[H.position],toNode:null};function Q(){I=!0,x(W),y==null||y(e,{nodeId:s,handleId:r,handleType:k})}j===0&&Q();function se(fe){if(!I){const{x:Me,y:_e}=Tr(fe),st=Me-E,Se=_e-M;if(!(st*st+Se*Se>j*j))return;Q()}if(!C()||!H){de(fe);return}const ae=S();A=Tr(fe,D),P=fU(Oc(A,ae,!1,[1,1]),n,c,H),R||(B(),R=!0);const pe=nE(fe,{handle:P,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:i?"target":"source",isValidConnection:v,doc:T,lib:u,flowId:h,nodeLookup:c});U=pe.handleDomNode,z=pe.connection,L=hU(!!P,pe.isValid);const ve={...W,isValid:L,to:pe.toHandle&&L?ef({x:pe.toHandle.x,y:pe.toHandle.y},ae):A,toHandle:pe.toHandle,toPosition:L&&pe.toHandle?pe.toHandle.position:Yw[H.position],toNode:pe.toHandle?c.get(pe.toHandle.nodeId):null};L&&P&&W.toHandle&&ve.toHandle&&W.toHandle.type===ve.toHandle.type&&W.toHandle.nodeId===ve.toHandle.nodeId&&W.toHandle.id===ve.toHandle.id&&W.to.x===ve.to.x&&W.to.y===ve.to.y||(x(ve),W=ve)}function de(fe){if(I){(P||U)&&z&&L&&(g==null||g(z));const{inProgress:ae,...pe}=W,ve={...pe,toPosition:W.toHandle?W.toPosition:null};b==null||b(fe,ve),o&&(w==null||w(fe,ve))}m(),cancelAnimationFrame(_),R=!1,L=!1,z=null,U=null,T.removeEventListener("mousemove",se),T.removeEventListener("mouseup",de),T.removeEventListener("touchmove",se),T.removeEventListener("touchend",de)}T.addEventListener("mousemove",se),T.addEventListener("mouseup",de),T.addEventListener("touchmove",se),T.addEventListener("touchend",de)}function nE(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:i,lib:l,flowId:c,isValidConnection:u=tE,nodeLookup:f}){const h=o==="target",d=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y}=Tr(e),g=i.elementFromPoint(m,y),b=g!=null&&g.classList.contains(`${l}-flow__handle`)?g:d,v={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const w=eE(void 0,b),x=b.getAttribute("data-nodeid"),S=b.getAttribute("data-handleid"),C=b.classList.contains("connectable"),N=b.classList.contains("connectableend");if(!x||!w)return v;const j={source:h?x:r,sourceHandle:h?S:s,target:h?r:x,targetHandle:h?s:S};v.connection=j;const _=C&&N&&(n===ga.Strict?h&&w==="source"||!h&&w==="target":x!==r||S!==s);v.isValid=_&&u(j),v.toHandle=Z_(x,w,S,f,n,!0)}return v}const lg={onPointerDown:pU,isValid:nE};function mU({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=En(e);function o({translateExtent:l,width:c,height:u,zoomStep:f=10,pannable:h=!0,zoomable:d=!0,inversePan:m=!1}){const y=x=>{const S=n();if(x.sourceEvent.type!=="wheel"||!t)return;const C=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*f,N=S[2]*Math.pow(2,C);t.scaleTo(N)};let g=[0,0];const b=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(g=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},v=x=>{const S=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const C=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],N=[C[0]-g[0],C[1]-g[1]];g=C;const j=r()*Math.max(S[2],Math.log(S[2]))*(m?-1:1),T={x:S[0]-N[0]*j,y:S[1]-N[1]*j},_=[[0,0],[c,u]];t.setViewportConstrained({x:T.x,y:T.y,zoom:S[2]},_,l)},w=R_().on("start",b).on("zoom",h?v:null).on("zoom.wheel",d?y:null);s.call(w,{})}function i(){s.on("zoom",null)}return{update:o,destroy:i,pointer:rr}}const gU=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,nh=e=>({x:e.x,y:e.y,zoom:e.k}),xp=({x:e,y:t,zoom:n})=>Jf.translate(e,t).scale(n),Oi=(e,t)=>e.target.closest(`.${t}`),rE=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),vU=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,wp=(e,t=0,n=vU,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},sE=e=>{const t=e.ctrlKey&&tf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function yU({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return f=>{if(Oi(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&i){const b=rr(f),v=sE(f),w=h*Math.pow(2,v);r.scaleTo(n,w,b,f);return}const d=f.deltaMode===1?20:1;let m=s===zo.Vertical?0:f.deltaX*d,y=s===zo.Horizontal?0:f.deltaY*d;!tf()&&f.shiftKey&&s!==zo.Vertical&&(m=f.deltaY*d,y=0),r.translateBy(n,-(m/h)*o,-(y/h)*o,{internal:!0});const g=nh(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(f,g)),e.isPanScrolling&&(c==null||c(f,g),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,g),e.isPanScrolling=!1},150))}}function xU({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,l=Oi(r,e);if(r.ctrlKey&&o&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),n.call(this,r,s)}}function wU({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,i,l;if((o=r.sourceEvent)!=null&&o.internal)return;const s=nh(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function bU({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return o=>{var i,l;e.usedRightMouseButton=!!(n&&rE(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||r([o.transform.x,o.transform.y,o.transform.k]),s&&!((l=o.sourceEvent)!=null&&l.internal)&&(s==null||s(o.sourceEvent,nh(o.transform)))}}function SU({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:o}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,o&&rE(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),s&&gU(e.prevViewport,i.transform))){const c=nh(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(i.sourceEvent,c)},n?150:0)}}}function NU({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u}){return f=>{var y;const h=e||t,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Oi(f,`${u}-flow__node`)||Oi(f,`${u}-flow__edge`)))return!0;if(!r&&!h&&!s&&!o&&!n||i||Oi(f,l)&&f.type==="wheel"||Oi(f,c)&&(f.type!=="wheel"||s&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((y=f.touches)==null?void 0:y.length)>1)return f.preventDefault(),!1;if(!h&&!s&&!d&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&m}}function CU({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:s,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),d=R_().clickDistance(!lr(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(s),m=En(e).call(d);x({x:o.x,y:o.y,zoom:va(o.zoom,t,n)},[[0,0],[h.width,h.height]],s);const y=m.on("wheel.zoom"),g=m.on("dblclick.zoom");d.wheelDelta(sE);function b(M,O){return m?new Promise(k=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?kl:id).transform(wp(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>k(!0)),M)}):Promise.resolve(!1)}function v({noWheelClassName:M,noPanClassName:O,onPaneContextMenu:k,userSelectionActive:D,panOnScroll:I,panOnDrag:$,panOnScrollMode:A,panOnScrollSpeed:R,preventScrolling:z,zoomOnPinch:L,zoomOnScroll:U,zoomOnDoubleClick:B,zoomActivationKeyPressed:H,lib:ee,onTransformChange:G}){D&&!f.isZoomingOrPanning&&w();const Q=I&&!H&&!D?yU({zoomPanValues:f,noWheelClassName:M,d3Selection:m,d3Zoom:d,panOnScrollMode:A,panOnScrollSpeed:R,zoomOnPinch:L,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):xU({noWheelClassName:M,preventScrolling:z,d3ZoomHandler:y});if(m.on("wheel.zoom",Q,{passive:!1}),!D){const de=wU({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",de);const fe=bU({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!k,onPanZoom:i,onTransformChange:G});d.on("zoom",fe);const ae=SU({zoomPanValues:f,panOnDrag:$,panOnScroll:I,onPaneContextMenu:k,onPanZoomEnd:c,onDraggingChange:u});d.on("end",ae)}const se=NU({zoomActivationKeyPressed:H,panOnDrag:$,zoomOnScroll:U,panOnScroll:I,zoomOnDoubleClick:B,zoomOnPinch:L,userSelectionActive:D,noPanClassName:O,noWheelClassName:M,lib:ee});d.filter(se),B?m.on("dblclick.zoom",g):m.on("dblclick.zoom",null)}function w(){d.on("zoom",null)}async function x(M,O,k){const D=xp(M),I=d==null?void 0:d.constrain()(D,O,k);return I&&await b(I),new Promise($=>$(I))}async function S(M,O){const k=xp(M);return await b(k,O),new Promise(D=>D(k))}function C(M){if(m){const O=xp(M),k=m.property("__zoom");(k.k!==M.zoom||k.x!==M.x||k.y!==M.y)&&(d==null||d.transform(m,O,null,{sync:!0}))}}function N(){const M=m?P_(m.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function j(M,O){return m?new Promise(k=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?kl:id).scaleTo(wp(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>k(!0)),M)}):Promise.resolve(!1)}function T(M,O){return m?new Promise(k=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?kl:id).scaleBy(wp(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>k(!0)),M)}):Promise.resolve(!1)}function _(M){d==null||d.scaleExtent(M)}function P(M){d==null||d.translateExtent(M)}function E(M){const O=!lr(M)||M<0?0:M;d==null||d.clickDistance(O)}return{update:v,destroy:w,setViewport:S,setViewportConstrained:x,getViewport:N,scaleTo:j,scaleBy:T,setScaleExtent:_,setTranslateExtent:P,syncViewport:C,setClickDistance:E}}var wa;(function(e){e.Line="line",e.Handle="handle"})(wa||(wa={}));function jU({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:o}){const i=e-t,l=n-r,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&s&&(c[0]=c[0]*-1),l&&o&&(c[1]=c[1]*-1),c}function kU(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function xs(e,t){return Math.max(0,t-e)}function ws(e,t){return Math.max(0,e-t)}function _u(e,t,n){return Math.max(0,t-e,e-n)}function lb(e,t){return e?!t:t}function _U(e,t,n,r,s,o,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:f,isVertical:h}=t,d=f&&h,{xSnapped:m,ySnapped:y}=n,{minWidth:g,maxWidth:b,minHeight:v,maxHeight:w}=r,{x,y:S,width:C,height:N,aspectRatio:j}=e;let T=Math.floor(f?m-e.pointerX:0),_=Math.floor(h?y-e.pointerY:0);const P=C+(c?-T:T),E=N+(u?-_:_),M=-o[0]*C,O=-o[1]*N;let k=_u(P,g,b),D=_u(E,v,w);if(i){let A=0,R=0;c&&T<0?A=xs(x+T+M,i[0][0]):!c&&T>0&&(A=ws(x+P+M,i[1][0])),u&&_<0?R=xs(S+_+O,i[0][1]):!u&&_>0&&(R=ws(S+E+O,i[1][1])),k=Math.max(k,A),D=Math.max(D,R)}if(l){let A=0,R=0;c&&T>0?A=ws(x+T,l[0][0]):!c&&T<0&&(A=xs(x+P,l[1][0])),u&&_>0?R=ws(S+_,l[0][1]):!u&&_<0&&(R=xs(S+E,l[1][1])),k=Math.max(k,A),D=Math.max(D,R)}if(s){if(f){const A=_u(P/j,v,w)*j;if(k=Math.max(k,A),i){let R=0;!c&&!u||c&&!u&&d?R=ws(S+O+P/j,i[1][1])*j:R=xs(S+O+(c?T:-T)/j,i[0][1])*j,k=Math.max(k,R)}if(l){let R=0;!c&&!u||c&&!u&&d?R=xs(S+P/j,l[1][1])*j:R=ws(S+(c?T:-T)/j,l[0][1])*j,k=Math.max(k,R)}}if(h){const A=_u(E*j,g,b)/j;if(D=Math.max(D,A),i){let R=0;!c&&!u||u&&!c&&d?R=ws(x+E*j+M,i[1][0])/j:R=xs(x+(u?_:-_)*j+M,i[0][0])/j,D=Math.max(D,R)}if(l){let R=0;!c&&!u||u&&!c&&d?R=xs(x+E*j,l[1][0])/j:R=ws(x+(u?_:-_)*j,l[0][0])/j,D=Math.max(D,R)}}}_=_+(_<0?D:-D),T=T+(T<0?k:-k),s&&(d?P>E*j?_=(lb(c,u)?-T:T)/j:T=(lb(c,u)?-_:_)*j:f?(_=T/j,u=c):(T=_*j,c=u));const I=c?x+T:x,$=u?S+_:S;return{width:C+(c?-T:T),height:N+(u?-_:_),x:o[0]*T*(c?-1:1)+I,y:o[1]*_*(u?-1:1)+$}}const oE={width:0,height:0,x:0,y:0},EU={...oE,pointerX:0,pointerY:0,aspectRatio:1};function TU(e){return[[0,0],[e.measured.width,e.measured.height]]}function PU(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=n[0]*o,c=n[1]*i;return[[r-l,s-c],[r+o-l,s+i-c]]}function RU({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const o=En(e);function i({controlPosition:c,boundaries:u,keepAspectRatio:f,resizeDirection:h,onResizeStart:d,onResize:m,onResizeEnd:y,shouldResize:g}){let b={...oE},v={...EU};const w=kU(c);let x,S=null,C=[],N,j,T;const _=g_().on("start",P=>{const{nodeLookup:E,transform:M,snapGrid:O,snapToGrid:k,nodeOrigin:D,paneDomNode:I}=n();if(x=E.get(t),!x)return;S=(I==null?void 0:I.getBoundingClientRect())??null;const{xSnapped:$,ySnapped:A}=_l(P.sourceEvent,{transform:M,snapGrid:O,snapToGrid:k,containerBounds:S});b={width:x.measured.width??0,height:x.measured.height??0,x:x.position.x??0,y:x.position.y??0},v={...b,pointerX:$,pointerY:A,aspectRatio:b.width/b.height},N=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(N=E.get(x.parentId),j=N&&x.extent==="parent"?TU(N):void 0),C=[],T=void 0;for(const[R,z]of E)if(z.parentId===t&&(C.push({id:R,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const L=PU(z,x,z.origin??D);T?T=[[Math.min(L[0][0],T[0][0]),Math.min(L[0][1],T[0][1])],[Math.max(L[1][0],T[1][0]),Math.max(L[1][1],T[1][1])]]:T=L}d==null||d(P,{...b})}).on("drag",P=>{const{transform:E,snapGrid:M,snapToGrid:O,nodeOrigin:k}=n(),D=_l(P.sourceEvent,{transform:E,snapGrid:M,snapToGrid:O,containerBounds:S}),I=[];if(!x)return;const{x:$,y:A,width:R,height:z}=b,L={},U=x.origin??k,{width:B,height:H,x:ee,y:G}=_U(v,w,D,u,f,U,j,T),W=B!==R,Q=H!==z,se=ee!==$&&W,de=G!==A&&Q;if(!se&&!de&&!W&&!Q)return;if((se||de||U[0]===1||U[1]===1)&&(L.x=se?ee:b.x,L.y=de?G:b.y,b.x=L.x,b.y=L.y,C.length>0)){const ve=ee-$,Me=G-A;for(const _e of C)_e.position={x:_e.position.x-ve+U[0]*(B-R),y:_e.position.y-Me+U[1]*(H-z)},I.push(_e)}if((W||Q)&&(L.width=W&&(!h||h==="horizontal")?B:b.width,L.height=Q&&(!h||h==="vertical")?H:b.height,b.width=L.width,b.height=L.height),N&&x.expandParent){const ve=U[0]*(L.width??0);L.x&&L.x<ve&&(b.x=ve,v.x=v.x-(L.x-ve));const Me=U[1]*(L.height??0);L.y&&L.y<Me&&(b.y=Me,v.y=v.y-(L.y-Me))}const fe=jU({width:b.width,prevWidth:R,height:b.height,prevHeight:z,affectsX:w.affectsX,affectsY:w.affectsY}),ae={...b,direction:fe};(g==null?void 0:g(P,ae))!==!1&&(m==null||m(P,ae),r(L,I))}).on("end",P=>{y==null||y(P,{...b}),s==null||s({...b})});o.call(_)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var iE={exports:{}},aE={},lE={exports:{}},cE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=p;function AU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MU=typeof Object.is=="function"?Object.is:AU,IU=ba.useState,$U=ba.useEffect,OU=ba.useLayoutEffect,DU=ba.useDebugValue;function LU(e,t){var n=t(),r=IU({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return OU(function(){s.value=n,s.getSnapshot=t,bp(s)&&o({inst:s})},[e,n,t]),$U(function(){return bp(s)&&o({inst:s}),e(function(){bp(s)&&o({inst:s})})},[e]),DU(n),n}function bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!MU(e,n)}catch{return!0}}function FU(e,t){return t()}var zU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FU:LU;cE.useSyncExternalStore=ba.useSyncExternalStore!==void 0?ba.useSyncExternalStore:zU;lE.exports=cE;var UU=lE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=p,BU=UU;function HU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WU=typeof Object.is=="function"?Object.is:HU,VU=BU.useSyncExternalStore,qU=rh.useRef,GU=rh.useEffect,KU=rh.useMemo,YU=rh.useDebugValue;aE.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=qU(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=KU(function(){function c(m){if(!u){if(u=!0,f=m,m=r(m),s!==void 0&&i.hasValue){var y=i.value;if(s(y,m))return h=y}return h=m}if(y=h,WU(f,m))return y;var g=r(m);return s!==void 0&&s(y,g)?(f=m,y):(f=m,h=g)}var u=!1,f,h,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,s]);var l=VU(e,o[0],o[1]);return GU(function(){i.hasValue=!0,i.value=l},[l]),YU(l),l};iE.exports=aE;var XU=iE.exports;const QU=Rg(XU),JU={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"rnforgldmgrpibdbknja",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuZm9yZ2xkbWdycGliZGJrbmphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDU2NjksImV4cCI6MjA2OTgyMTY2OX0.NAT1UpaepzJV14aEmr4X_1WS8t4EPJGYBht9-9_zaV0",VITE_SUPABASE_URL:"https://rnforgldmgrpibdbknja.supabase.co"},cb=e=>{let t;const n=new Set,r=(f,h)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const m=t;t=h??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(JU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},ZU=e=>e?cb(e):cb,{useDebugValue:eB}=ie,{useSyncExternalStoreWithSelector:tB}=QU,nB=e=>e;function uE(e,t=nB,n){const r=tB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return eB(r),r}const ub=(e,t)=>{const n=ZU(e),r=(s,o=t)=>uE(n,s,o);return Object.assign(r,n),r},rB=(e,t)=>e?ub(e,t):ub;function lt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const sh=p.createContext(null),sB=sh.Provider,dE=$r.error001();function Oe(e,t){const n=p.useContext(sh);if(n===null)throw new Error(dE);return uE(n,e,t)}function rt(){const e=p.useContext(sh);if(e===null)throw new Error(dE);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const db={display:"none"},oB={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fE="react-flow__node-desc",hE="react-flow__edge-desc",iB="react-flow__aria-live",aB=e=>e.ariaLiveMessage,lB=e=>e.ariaLabelConfig;function cB({rfId:e}){const t=Oe(aB);return a.jsx("div",{id:`${iB}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oB,children:t})}function uB({rfId:e,disableKeyboardA11y:t}){const n=Oe(lB);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${fE}-${e}`,style:db,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${hE}-${e}`,style:db,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(cB,{rfId:e})]})}const oh=p.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},o)=>{const i=`${e}`.split("-");return a.jsx("div",{className:bt(["react-flow__panel",n,...i]),style:r,ref:o,...s,children:t})});oh.displayName="Panel";function dB({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(oh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const fB=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Eu=e=>e.id;function hB(e,t){return lt(e.selectedNodes.map(Eu),t.selectedNodes.map(Eu))&&lt(e.selectedEdges.map(Eu),t.selectedEdges.map(Eu))}function pB({onSelectionChange:e}){const t=rt(),{selectedNodes:n,selectedEdges:r}=Oe(fB,hB);return p.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(o=>o(s))},[n,r,e]),null}const mB=e=>!!e.onSelectionChangeHandlers;function gB({onSelectionChange:e}){const t=Oe(mB);return e||t?a.jsx(pB,{onSelectionChange:e}):null}const pE=[0,0],vB={x:0,y:0,zoom:1},yB=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],fb=[...yB,"rfId"],xB=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),hb={translateExtent:ac,nodeOrigin:pE,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function wB(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=Oe(xB,lt),f=rt();p.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=hb,l()}),[]);const h=p.useRef(hb);return p.useEffect(()=>{for(const d of fb){const m=e[d],y=h.current[d];m!==y&&(typeof e[d]>"u"||(d==="nodes"?t(m):d==="edges"?n(m):d==="minZoom"?r(m):d==="maxZoom"?s(m):d==="translateExtent"?o(m):d==="nodeExtent"?i(m):d==="paneClickDistance"?u(m):d==="ariaLabelConfig"?f.setState({ariaLabelConfig:V8(m)}):d==="fitView"?f.setState({fitViewQueued:m}):d==="fitViewOptions"?f.setState({fitViewOptions:m}):f.setState({[d]:m})))}h.current=e},fb.map(d=>e[d])),null}function pb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function bB(e){var r;const[t,n]=p.useState(e==="system"?null:e);return p.useEffect(()=>{if(e!=="system"){n(e);return}const s=pb(),o=()=>n(s!=null&&s.matches?"dark":"light");return o(),s==null||s.addEventListener("change",o),()=>{s==null||s.removeEventListener("change",o)}},[e]),t!==null?t:(r=pb())!=null&&r.matches?"dark":"light"}const mb=typeof document<"u"?document:null;function dc(e=null,t={target:mb,actInsideInputWithModifier:!0}){const[n,r]=p.useState(!1),s=p.useRef(!1),o=p.useRef(new Set([])),[i,l]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((h,d)=>h.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return p.useEffect(()=>{const c=(t==null?void 0:t.target)??mb,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=m=>{var b,v;if(s.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!s.current||s.current&&!u)&&W_(m))return!1;const g=vb(m.code,l);if(o.current.add(m[g]),gb(i,o.current,!1)){const w=((v=(b=m.composedPath)==null?void 0:b.call(m))==null?void 0:v[0])||m.target,x=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(s.current||!x)&&m.preventDefault(),r(!0)}},h=m=>{const y=vb(m.code,l);gb(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[y]),m.key==="Meta"&&o.current.clear(),s.current=!1},d=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function gb(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function vb(e,t){return t.includes(e)?"code":"key"}const SB=()=>{const e=rt();return p.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),c=Ny(t,r,s,o,i,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},f=n.snapGrid??s,h=n.snapToGrid??o;return Oc(u,r,h,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:o}=r.getBoundingClientRect(),i=ef(t,n);return{x:i.x+s,y:i.y+o}}}),[])};function mE(e,t){const n=[],r=new Map,s=[];for(const o of e)if(o.type==="add"){s.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...o};for(const c of i)NB(c,l);n.push(l)}return s.length&&s.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function NB(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function gE(e,t){return mE(e,t)}function vE(e,t){return mE(e,t)}function jo(e,t){return{id:e,type:"select",selected:t}}function Di(e,t=new Set,n=!1){const r=[];for(const[s,o]of e){const i=t.has(s);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(jo(o.id,i)))}return r}function yb({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const l=t.get(i.id),c=((s=l==null?void 0:l.internals)==null?void 0:s.userNode)??l;c!==void 0&&c!==i&&n.push({id:i.id,item:i,type:"replace"}),c===void 0&&n.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function xb(e){return{id:e.id,type:"remove"}}const wb=e=>$8(e),CB=e=>O_(e);function yE(e){return p.forwardRef(e)}const jB=typeof window<"u"?p.useLayoutEffect:p.useEffect;function bb(e){const[t,n]=p.useState(BigInt(0)),[r]=p.useState(()=>kB(()=>n(s=>s+BigInt(1))));return jB(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function kB(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const xE=p.createContext(null);function _B({children:e}){const t=rt(),n=p.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:f,onNodesChange:h,nodeLookup:d,fitViewQueued:m}=t.getState();let y=c;for(const b of l)y=typeof b=="function"?b(y):b;const g=yb({items:y,lookup:d});f&&u(y),g.length>0?h==null||h(g):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:v,setNodes:w}=t.getState();b&&w(v)})},[]),r=bb(n),s=p.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:d}=t.getState();let m=c;for(const y of l)m=typeof y=="function"?y(m):y;f?u(m):h&&h(yb({items:m,lookup:d}))},[]),o=bb(s),i=p.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return a.jsx(xE.Provider,{value:i,children:e})}function EB(){const e=p.useContext(xE);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const TB=e=>!!e.panZoom;function ri(){const e=SB(),t=rt(),n=EB(),r=Oe(TB),s=p.useMemo(()=>{const o=h=>t.getState().nodeLookup.get(h),i=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{var v,w;const{nodeLookup:d,nodeOrigin:m}=t.getState(),y=wb(h)?h:d.get(h.id),g=y.parentId?B_(y.position,y.measured,y.parentId,d,m):y.position,b={...y,position:g,width:((v=y.measured)==null?void 0:v.width)??y.width,height:((w=y.measured)==null?void 0:w.height)??y.height};return ya(b)},u=(h,d,m={replace:!1})=>{i(y=>y.map(g=>{if(g.id===h){const b=typeof d=="function"?d(g):d;return m.replace&&wb(b)?b:{...g,...b}}return g}))},f=(h,d,m={replace:!1})=>{l(y=>y.map(g=>{if(g.id===h){const b=typeof d=="function"?d(g):d;return m.replace&&CB(b)?b:{...g,...b}}return g}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var d;return(d=o(h))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(d=>({...d}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:i,setEdges:l,addNodes:h=>{const d=Array.isArray(h)?h:[h];n.nodeQueue.push(m=>[...m,...d])},addEdges:h=>{const d=Array.isArray(h)?h:[h];n.edgeQueue.push(m=>[...m,...d])},toObject:()=>{const{nodes:h=[],edges:d=[],transform:m}=t.getState(),[y,g,b]=m;return{nodes:h.map(v=>({...v})),edges:d.map(v=>({...v})),viewport:{x:y,y:g,zoom:b}}},deleteElements:async({nodes:h=[],edges:d=[]})=>{const{nodes:m,edges:y,onNodesDelete:g,onEdgesDelete:b,triggerNodeChanges:v,triggerEdgeChanges:w,onDelete:x,onBeforeDelete:S}=t.getState(),{nodes:C,edges:N}=await z8({nodesToRemove:h,edgesToRemove:d,nodes:m,edges:y,onBeforeDelete:S}),j=N.length>0,T=C.length>0;if(j){const _=N.map(xb);b==null||b(N),w(_)}if(T){const _=C.map(xb);g==null||g(C),v(_)}return(T||j)&&(x==null||x({nodes:C,edges:N})),{deletedNodes:C,deletedEdges:N}},getIntersectingNodes:(h,d=!0,m)=>{const y=Qw(h),g=y?h:c(h),b=m!==void 0;return g?(m||t.getState().nodes).filter(v=>{const w=t.getState().nodeLookup.get(v.id);if(w&&!y&&(v.id===h.id||!w.internals.positionAbsolute))return!1;const x=ya(b?v:w),S=cc(x,g);return d&&S>0||S>=x.width*x.height||S>=g.width*g.height}):[]},isNodeIntersecting:(h,d,m=!0)=>{const g=Qw(h)?h:c(h);if(!g)return!1;const b=cc(g,d);return m&&b>0||b>=g.width*g.height},updateNode:u,updateNodeData:(h,d,m={replace:!1})=>{u(h,y=>{const g=typeof d=="function"?d(y):d;return m.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},m)},updateEdge:f,updateEdgeData:(h,d,m={replace:!1})=>{f(h,y=>{const g=typeof d=="function"?d(y):d;return m.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},m)},getNodesBounds:h=>{const{nodeLookup:d,nodeOrigin:m}=t.getState();return O8(h,{nodeLookup:d,nodeOrigin:m})},getHandleConnections:({type:h,id:d,nodeId:m})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${m}-${h}${d?`-${d}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:h,handleId:d,nodeId:m})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${m}${h?d?`-${h}-${d}`:`-${h}`:""}`))==null?void 0:y.values())??[])},fitView:async h=>{const d=t.getState().fitViewResolver??W8();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:d}),n.nodeQueue.push(m=>[...m]),d.promise}}},[]);return p.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Sb=e=>e.selected,PB=typeof window<"u"?window:void 0;function RB({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=rt(),{deleteElements:r}=ri(),s=dc(e,{actInsideInputWithModifier:!1}),o=dc(t,{target:PB});p.useEffect(()=>{if(s){const{edges:i,nodes:l}=n.getState();r({nodes:l.filter(Sb),edges:i.filter(Sb)}),n.setState({nodesSelectionActive:!1})}},[s]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function AB(e){const t=rt();p.useEffect(()=>{const n=()=>{var s,o;if(!e.current)return!1;const r=Cy(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",$r.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const ih={position:"absolute",width:"100%",height:"100%",top:0,left:0},MB=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function IB({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:o=zo.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:f,maxZoom:h,zoomActivationKeyCode:d,preventScrolling:m=!0,children:y,noWheelClassName:g,noPanClassName:b,onViewportChange:v,isControlledViewport:w,paneClickDistance:x}){const S=rt(),C=p.useRef(null),{userSelectionActive:N,lib:j}=Oe(MB,lt),T=dc(d),_=p.useRef();AB(C);const P=p.useCallback(E=>{v==null||v({x:E[0],y:E[1],zoom:E[2]}),w||S.setState({transform:E})},[v,w]);return p.useEffect(()=>{if(C.current){_.current=CU({domNode:C.current,minZoom:f,maxZoom:h,translateExtent:u,viewport:c,paneClickDistance:x,onDraggingChange:k=>S.setState({paneDragging:k}),onPanZoomStart:(k,D)=>{const{onViewportChangeStart:I,onMoveStart:$}=S.getState();$==null||$(k,D),I==null||I(D)},onPanZoom:(k,D)=>{const{onViewportChange:I,onMove:$}=S.getState();$==null||$(k,D),I==null||I(D)},onPanZoomEnd:(k,D)=>{const{onViewportChangeEnd:I,onMoveEnd:$}=S.getState();$==null||$(k,D),I==null||I(D)}});const{x:E,y:M,zoom:O}=_.current.getViewport();return S.setState({panZoom:_.current,transform:[E,M,O],domNode:C.current.closest(".react-flow")}),()=>{var k;(k=_.current)==null||k.destroy()}}},[]),p.useEffect(()=>{var E;(E=_.current)==null||E.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:m,noPanClassName:b,userSelectionActive:N,noWheelClassName:g,lib:j,onTransformChange:P})},[e,t,n,r,s,o,i,l,T,m,b,N,g,j,P]),a.jsx("div",{className:"react-flow__renderer",ref:C,style:ih,children:y})}const $B=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function OB(){const{userSelectionActive:e,userSelectionRect:t}=Oe($B,lt);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Sp=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},DB=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function LB({isSelecting:e,selectionKeyPressed:t,selectionMode:n=lc.Full,panOnDrag:r,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:d,children:m}){const y=rt(),{userSelectionActive:g,elementsSelectable:b,dragging:v,connectionInProgress:w}=Oe(DB,lt),x=b&&(e||g),S=p.useRef(null),C=p.useRef(),N=p.useRef(new Set),j=p.useRef(new Set),T=p.useRef(!1),_=p.useRef(!1),P=$=>{if(T.current||w){T.current=!1;return}l==null||l($),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},E=$=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){$.preventDefault();return}c==null||c($)},M=u?$=>u($):void 0,O=$=>{var U,B;const{resetSelectedElements:A,domNode:R}=y.getState();if(C.current=R==null?void 0:R.getBoundingClientRect(),!b||!e||$.button!==0||$.target!==S.current||!C.current)return;(B=(U=$.target)==null?void 0:U.setPointerCapture)==null||B.call(U,$.pointerId),_.current=!0,T.current=!1;const{x:z,y:L}=Tr($.nativeEvent,C.current);A(),y.setState({userSelectionRect:{width:0,height:0,startX:z,startY:L,x:z,y:L}}),o==null||o($)},k=$=>{const{userSelectionRect:A,transform:R,nodeLookup:z,edgeLookup:L,connectionLookup:U,triggerNodeChanges:B,triggerEdgeChanges:H,defaultEdgeOptions:ee}=y.getState();if(!C.current||!A)return;T.current=!0;const{x:G,y:W}=Tr($.nativeEvent,C.current),{startX:Q,startY:se}=A,de={startX:Q,startY:se,x:G<Q?G:Q,y:W<se?W:se,width:Math.abs(G-Q),height:Math.abs(W-se)},fe=N.current,ae=j.current;N.current=new Set(Sy(z,de,R,n===lc.Partial,!0).map(ve=>ve.id)),j.current=new Set;const pe=(ee==null?void 0:ee.selectable)??!0;for(const ve of N.current){const Me=U.get(ve);if(Me)for(const{edgeId:_e}of Me.values()){const st=L.get(_e);st&&(st.selectable??pe)&&j.current.add(_e)}}if(!Jw(fe,N.current)){const ve=Di(z,N.current,!0);B(ve)}if(!Jw(ae,j.current)){const ve=Di(L,j.current);H(ve)}y.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},D=$=>{var R,z;if($.button!==0||!_.current)return;(z=(R=$.target)==null?void 0:R.releasePointerCapture)==null||z.call(R,$.pointerId);const{userSelectionRect:A}=y.getState();!g&&A&&$.target===S.current&&(P==null||P($)),y.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),i==null||i($),(t||s)&&(T.current=!1),_.current=!1},I=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:bt(["react-flow__pane",{draggable:I,dragging:v,selection:e}]),onClick:x?void 0:Sp(P,S),onContextMenu:Sp(E,S),onWheel:Sp(M,S),onPointerEnter:x?void 0:f,onPointerDown:x?O:h,onPointerMove:x?k:h,onPointerUp:x?D:void 0,onPointerLeave:d,ref:S,style:ih,children:[m,a.jsx(OB,{})]})}function cg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",$r.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):s([e])}function wE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,nodeClickDistance:i}){const l=rt(),[c,u]=p.useState(!1),f=p.useRef();return p.useEffect(()=>{f.current=cU({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{cg({id:h,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),p.useEffect(()=>{var h,d;if(t)(h=f.current)==null||h.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:s,nodeClickDistance:i}),()=>{var m;(m=f.current)==null||m.destroy()}},[n,r,t,o,e,s]),c}const FB=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function bE(){const e=rt();return p.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:f}=e.getState(),h=new Map,d=FB(i),m=s?o[0]:5,y=s?o[1]:5,g=n.direction.x*m*n.factor,b=n.direction.y*y*n.factor;for(const[,v]of u){if(!d(v))continue;let w={x:v.internals.positionAbsolute.x+g,y:v.internals.positionAbsolute.y+b};s&&(w=th(w,o));const{position:x,positionAbsolute:S}=D_({nodeId:v.id,nextPosition:w,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});v.position=x,v.internals.positionAbsolute=S,h.set(v.id,v)}c(h)},[])}const Py=p.createContext(null),zB=Py.Provider;Py.Consumer;const SE=()=>p.useContext(Py),UB=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),BB=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:o,connection:i}=r,{fromHandle:l,toHandle:c,isValid:u}=i,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:o===ga.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:f&&u}};function HB({type:e="source",position:t=ue.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:f,onTouchStart:h,...d},m){var D,I;const y=i||null,g=e==="target",b=rt(),v=SE(),{connectOnClick:w,noPanClassName:x,rfId:S}=Oe(UB,lt),{connectingFrom:C,connectingTo:N,clickConnecting:j,isPossibleEndHandle:T,connectionInProcess:_,clickConnectionInProcess:P,valid:E}=Oe(BB(v,y,e),lt);v||(I=(D=b.getState()).onError)==null||I.call(D,"010",$r.error010());const M=$=>{const{defaultEdgeOptions:A,onConnect:R,hasDefaultEdges:z}=b.getState(),L={...A,...$};if(z){const{edges:U,setEdges:B}=b.getState();B(K_(L,U))}R==null||R(L),l==null||l(L)},O=$=>{if(!v)return;const A=V_($.nativeEvent);if(s&&(A&&$.button===0||!A)){const R=b.getState();lg.onPointerDown($.nativeEvent,{autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:g,handleId:y,nodeId:v,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:M,isValidConnection:n||R.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed,dragThreshold:R.connectionDragThreshold})}A?f==null||f($):h==null||h($)},k=$=>{const{onClickConnectStart:A,onClickConnectEnd:R,connectionClickStartHandle:z,connectionMode:L,isValidConnection:U,lib:B,rfId:H,nodeLookup:ee,connection:G}=b.getState();if(!v||!z&&!s)return;if(!z){A==null||A($.nativeEvent,{nodeId:v,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,id:y}});return}const W=H_($.target),Q=n||U,{connection:se,isValid:de}=lg.isValid($.nativeEvent,{handle:{nodeId:v,id:y,type:e},connectionMode:L,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:Q,flowId:H,doc:W,lib:B,nodeLookup:ee});de&&se&&M(se);const fe=structuredClone(G);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,R==null||R($,fe),b.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":y,"data-nodeid":v,"data-handlepos":t,"data-id":`${S}-${v}-${y}-${e}`,className:bt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:o,clickconnecting:j,connectingfrom:C,connectingto:N,valid:E,connectionindicator:r&&(!_||T)&&(_||P?o:s)}]),onMouseDown:O,onTouchStart:O,onClick:w?k:void 0,ref:m,...d,children:c})}const qe=p.memo(yE(HB));function WB({data:e,isConnectable:t,sourcePosition:n=ue.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx(qe,{type:"source",position:n,isConnectable:t})]})}function VB({data:e,isConnectable:t,targetPosition:n=ue.Top,sourcePosition:r=ue.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx(qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx(qe,{type:"source",position:r,isConnectable:t})]})}function qB(){return null}function GB({data:e,isConnectable:t,targetPosition:n=ue.Top}){return a.jsxs(a.Fragment,{children:[a.jsx(qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const nf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nb={input:WB,default:VB,output:GB,group:qB};function KB(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const YB=e=>{const{width:t,height:n,x:r,y:s}=$c(e.nodeLookup,{filter:o=>!!o.selected});return{width:lr(t)?t:null,height:lr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function XB({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=rt(),{width:s,height:o,transformString:i,userSelectionActive:l}=Oe(YB,lt),c=bE(),u=p.useRef(null);if(p.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),wE({nodeRef:u}),l||!s||!o)return null;const f=e?d=>{const m=r.getState().nodes.filter(y=>y.selected);e(d,m)}:void 0,h=d=>{Object.prototype.hasOwnProperty.call(nf,d.key)&&(d.preventDefault(),c({direction:nf[d.key],factor:d.shiftKey?4:1}))};return a.jsx("div",{className:bt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:a.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:s,height:o}})})}const Cb=typeof window<"u"?window:void 0,QB=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function NE({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:f,selectionMode:h,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:y,panActivationKeyCode:g,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:j,panOnDrag:T,defaultViewport:_,translateExtent:P,minZoom:E,maxZoom:M,preventScrolling:O,onSelectionContextMenu:k,noWheelClassName:D,noPanClassName:I,disableKeyboardA11y:$,onViewportChange:A,isControlledViewport:R}){const{nodesSelectionActive:z,userSelectionActive:L}=Oe(QB),U=dc(u,{target:Cb}),B=dc(g,{target:Cb}),H=B||T,ee=B||S,G=f&&H!==!0,W=U||L||G;return RB({deleteKeyCode:c,multiSelectionKeyCode:y}),a.jsx(IB,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:ee,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:j,panOnDrag:!U&&H,defaultViewport:_,translateExtent:P,minZoom:E,maxZoom:M,zoomActivationKeyCode:b,preventScrolling:O,noWheelClassName:D,noPanClassName:I,onViewportChange:A,isControlledViewport:R,paneClickDistance:l,children:a.jsxs(LB,{onSelectionStart:d,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:H,isSelecting:!!W,selectionMode:h,selectionKeyPressed:U,selectionOnDrag:G,children:[e,z&&a.jsx(XB,{onSelectionContextMenu:k,noPanClassName:I,disableKeyboardA11y:$})]})})}NE.displayName="FlowRenderer";const JB=p.memo(NE),ZB=e=>t=>e?Sy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function eH(e){return Oe(p.useCallback(ZB(e),[e]),lt)}const tH=e=>e.updateNodeInternals;function nH(){const e=Oe(tH),[t]=p.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const o=s.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:s.target,force:!0})}),e(r)}));return p.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function rH({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=rt(),o=p.useRef(null),i=p.useRef(null),l=p.useRef(e.sourcePosition),c=p.useRef(e.targetPosition),u=p.useRef(t),f=n&&!!e.internals.handleBounds;return p.useEffect(()=>{o.current&&!e.hidden&&(!f||i.current!==o.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(o.current),i.current=o.current)},[f,e.hidden]),p.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),p.useEffect(()=>{if(o.current){const h=u.current!==t,d=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(h||d||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function sH({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:f,resizeObserver:h,noDragClassName:d,noPanClassName:m,disableKeyboardA11y:y,rfId:g,nodeTypes:b,nodeClickDistance:v,onError:w}){const{node:x,internals:S,isParent:C}=Oe(Q=>{const se=Q.nodeLookup.get(e),de=Q.parentLookup.has(e);return{node:se,internals:se.internals,isParent:de}},lt);let N=x.type||"default",j=(b==null?void 0:b[N])||Nb[N];j===void 0&&(w==null||w("003",$r.error003(N)),N="default",j=(b==null?void 0:b.default)||Nb.default);const T=!!(x.draggable||l&&typeof x.draggable>"u"),_=!!(x.selectable||c&&typeof x.selectable>"u"),P=!!(x.connectable||u&&typeof x.connectable>"u"),E=!!(x.focusable||f&&typeof x.focusable>"u"),M=rt(),O=U_(x),k=rH({node:x,nodeType:N,hasDimensions:O,resizeObserver:h}),D=wE({nodeRef:k,disabled:x.hidden||!T,noDragClassName:d,handleSelector:x.dragHandle,nodeId:e,isSelectable:_,nodeClickDistance:v}),I=bE();if(x.hidden)return null;const $=us(x),A=KB(x),R=_||T||t||n||r||s,z=n?Q=>n(Q,{...S.userNode}):void 0,L=r?Q=>r(Q,{...S.userNode}):void 0,U=s?Q=>s(Q,{...S.userNode}):void 0,B=o?Q=>o(Q,{...S.userNode}):void 0,H=i?Q=>i(Q,{...S.userNode}):void 0,ee=Q=>{const{selectNodesOnDrag:se,nodeDragThreshold:de}=M.getState();_&&(!se||!T||de>0)&&cg({id:e,store:M,nodeRef:k}),t&&t(Q,{...S.userNode})},G=Q=>{if(!(W_(Q.nativeEvent)||y)){if(A_.includes(Q.key)&&_){const se=Q.key==="Escape";cg({id:e,store:M,unselect:se,nodeRef:k})}else if(T&&x.selected&&Object.prototype.hasOwnProperty.call(nf,Q.key)){Q.preventDefault();const{ariaLabelConfig:se}=M.getState();M.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),I({direction:nf[Q.key],factor:Q.shiftKey?4:1})}}},W=()=>{var ve;if(y||!((ve=k.current)!=null&&ve.matches(":focus-visible")))return;const{transform:Q,width:se,height:de,autoPanOnNodeFocus:fe,setCenter:ae}=M.getState();if(!fe)return;Sy(new Map([[e,x]]),{x:0,y:0,width:se,height:de},Q,!0).length>0||ae(x.position.x+$.width/2,x.position.y+$.height/2,{zoom:Q[2]})};return a.jsx("div",{className:bt(["react-flow__node",`react-flow__node-${N}`,{[m]:T},x.className,{selected:x.selected,selectable:_,parent:C,draggable:T,dragging:D}]),ref:k,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:O?"visible":"hidden",...x.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:L,onMouseLeave:U,onContextMenu:B,onClick:ee,onDoubleClick:H,onKeyDown:E?G:void 0,tabIndex:E?0:void 0,onFocus:E?W:void 0,role:x.ariaRole??(E?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${fE}-${g}`,"aria-label":x.ariaLabel,...x.domAttributes,children:a.jsx(zB,{value:e,children:a.jsx(j,{id:e,data:x.data,type:N,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:x.selected??!1,selectable:_,draggable:T,deletable:x.deletable??!0,isConnectable:P,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:D,dragHandle:x.dragHandle,zIndex:S.z,parentId:x.parentId,...$})})})}const oH=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function CE(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=Oe(oH,lt),i=eH(e.onlyRenderVisibleElements),l=nH();return a.jsx("div",{className:"react-flow__nodes",style:ih,children:i.map(c=>a.jsx(sH,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:o},c))})}CE.displayName="NodeRenderer";const iH=p.memo(CE);function aH(e){return Oe(p.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const o=n.nodeLookup.get(s.source),i=n.nodeLookup.get(s.target);o&&i&&K8({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),lt)}const lH=({color:e="none",strokeWidth:t=1})=>a.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),cH=({color:e="none",strokeWidth:t=1})=>a.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),jb={[Jd.Arrow]:lH,[Jd.ArrowClosed]:cH};function uH(e){const t=rt();return p.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(jb,e)?jb[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",$r.error009(e)),null)},[e])}const dH=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=uH(t);return c?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:a.jsx(c,{color:n,strokeWidth:i})}):null},jE=({defaultColor:e,rfId:t})=>{const n=Oe(o=>o.edges),r=Oe(o=>o.defaultEdgeOptions),s=p.useMemo(()=>tU(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(o=>a.jsx(dH,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};jE.displayName="MarkerDefinitions";var fH=p.memo(jE);function kE({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...f}){const[h,d]=p.useState({x:1,y:0,width:0,height:0}),m=bt(["react-flow__edge-textwrapper",u]),y=p.useRef(null);return p.useEffect(()=>{if(y.current){const g=y.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:m,visibility:h.width?"visible":"hidden",...f,children:[s&&a.jsx("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),a.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:y,style:r,children:n}),c]}):null}kE.displayName="EdgeText";const hH=p.memo(kE);function Dc({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...f}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...f,d:e,fill:"none",className:bt(["react-flow__edge-path",f.className])}),u&&a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&lr(t)&&lr(n)?a.jsx(hH,{x:t,y:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function kb({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===ue.Left||e===ue.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function _E({sourceX:e,sourceY:t,sourcePosition:n=ue.Bottom,targetX:r,targetY:s,targetPosition:o=ue.Top}){const[i,l]=kb({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=kb({pos:o,x1:r,y1:s,x2:e,y2:t}),[f,h,d,m]=q_({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${r},${s}`,f,h,d,m]}function EE(e){return p.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:b,interactionWidth:v})=>{const[w,x,S]=_E({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:l}),C=e.isInternal?void 0:t;return a.jsx(Dc,{id:C,path:w,labelX:x,labelY:S,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:b,interactionWidth:v})})}const pH=EE({isInternal:!1}),TE=EE({isInternal:!0});pH.displayName="SimpleBezierEdge";TE.displayName="SimpleBezierEdgeInternal";function PE(e){return p.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:d,sourcePosition:m=ue.Bottom,targetPosition:y=ue.Top,markerEnd:g,markerStart:b,pathOptions:v,interactionWidth:w})=>{const[x,S,C]=og({sourceX:n,sourceY:r,sourcePosition:m,targetX:s,targetY:o,targetPosition:y,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset,stepPosition:v==null?void 0:v.stepPosition}),N=e.isInternal?void 0:t;return a.jsx(Dc,{id:N,path:x,labelX:S,labelY:C,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:d,markerEnd:g,markerStart:b,interactionWidth:w})})}const RE=PE({isInternal:!1}),AE=PE({isInternal:!0});RE.displayName="SmoothStepEdge";AE.displayName="SmoothStepEdgeInternal";function ME(e){return p.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return a.jsx(RE,{...n,id:r,pathOptions:p.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const mH=ME({isInternal:!1}),IE=ME({isInternal:!0});mH.displayName="StepEdge";IE.displayName="StepEdgeInternal";function $E(e){return p.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:d,markerEnd:m,markerStart:y,interactionWidth:g})=>{const[b,v,w]=Y_({sourceX:n,sourceY:r,targetX:s,targetY:o}),x=e.isInternal?void 0:t;return a.jsx(Dc,{id:x,path:b,labelX:v,labelY:w,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:d,markerEnd:m,markerStart:y,interactionWidth:g})})}const gH=$E({isInternal:!1}),OE=$E({isInternal:!0});gH.displayName="StraightEdge";OE.displayName="StraightEdgeInternal";function DE(e){return p.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i=ue.Bottom,targetPosition:l=ue.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:b,pathOptions:v,interactionWidth:w})=>{const[x,S,C]=jy({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:l,curvature:v==null?void 0:v.curvature}),N=e.isInternal?void 0:t;return a.jsx(Dc,{id:N,path:x,labelX:S,labelY:C,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:m,style:y,markerEnd:g,markerStart:b,interactionWidth:w})})}const vH=DE({isInternal:!1}),LE=DE({isInternal:!0});vH.displayName="BezierEdge";LE.displayName="BezierEdgeInternal";const _b={default:LE,straight:OE,step:IE,smoothstep:AE,simplebezier:TE},Eb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},yH=(e,t,n)=>n===ue.Left?e-t:n===ue.Right?e+t:e,xH=(e,t,n)=>n===ue.Top?e-t:n===ue.Bottom?e+t:e,Tb="react-flow__edgeupdater";function Pb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:l}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:bt([Tb,`${Tb}-${l}`]),cx:yH(t,r,e),cy:xH(n,r,e),r,stroke:"transparent",fill:"transparent"})}function wH({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:f,onReconnectEnd:h,setReconnecting:d,setUpdateHover:m}){const y=rt(),g=(S,C)=>{if(S.button!==0)return;const{autoPanOnConnect:N,domNode:j,isValidConnection:T,connectionMode:_,connectionRadius:P,lib:E,onConnectStart:M,onConnectEnd:O,cancelConnection:k,nodeLookup:D,rfId:I,panBy:$,updateConnection:A}=y.getState(),R=C.type==="target",z=(B,H)=>{d(!1),h==null||h(B,n,C.type,H)},L=B=>u==null?void 0:u(n,B),U=(B,H)=>{d(!0),f==null||f(S,n,C.type),M==null||M(B,H)};lg.onPointerDown(S.nativeEvent,{autoPanOnConnect:N,connectionMode:_,connectionRadius:P,domNode:j,handleId:C.id,nodeId:C.nodeId,nodeLookup:D,isTarget:R,edgeUpdaterType:C.type,lib:E,flowId:I,cancelConnection:k,panBy:$,isValidConnection:T,onConnect:L,onConnectStart:U,onConnectEnd:O,onReconnectEnd:z,updateConnection:A,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold})},b=S=>g(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=S=>g(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>m(!0),x=()=>m(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(Pb,{position:l,centerX:r,centerY:s,radius:t,onMouseDown:b,onMouseEnter:w,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&a.jsx(Pb,{position:c,centerX:o,centerY:i,radius:t,onMouseDown:v,onMouseEnter:w,onMouseOut:x,type:"target"})]})}function bH({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:f,onReconnect:h,onReconnectStart:d,onReconnectEnd:m,rfId:y,edgeTypes:g,noPanClassName:b,onError:v,disableKeyboardA11y:w}){let x=Oe(ae=>ae.edgeLookup.get(e));const S=Oe(ae=>ae.defaultEdgeOptions);x=S?{...S,...x}:x;let C=x.type||"default",N=(g==null?void 0:g[C])||_b[C];N===void 0&&(v==null||v("011",$r.error011(C)),C="default",N=(g==null?void 0:g.default)||_b.default);const j=!!(x.focusable||t&&typeof x.focusable>"u"),T=typeof h<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),_=!!(x.selectable||r&&typeof x.selectable>"u"),P=p.useRef(null),[E,M]=p.useState(!1),[O,k]=p.useState(!1),D=rt(),{zIndex:I,sourceX:$,sourceY:A,targetX:R,targetY:z,sourcePosition:L,targetPosition:U}=Oe(p.useCallback(ae=>{const pe=ae.nodeLookup.get(x.source),ve=ae.nodeLookup.get(x.target);if(!pe||!ve)return{zIndex:x.zIndex,...Eb};const Me=eU({id:e,sourceNode:pe,targetNode:ve,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:ae.connectionMode,onError:v});return{zIndex:G8({selected:x.selected,zIndex:x.zIndex,sourceNode:pe,targetNode:ve,elevateOnSelect:ae.elevateEdgesOnSelect}),...Me||Eb}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),lt),B=p.useMemo(()=>x.markerStart?`url('#${ig(x.markerStart,y)}')`:void 0,[x.markerStart,y]),H=p.useMemo(()=>x.markerEnd?`url('#${ig(x.markerEnd,y)}')`:void 0,[x.markerEnd,y]);if(x.hidden||$===null||A===null||R===null||z===null)return null;const ee=ae=>{var _e;const{addSelectedEdges:pe,unselectNodesAndEdges:ve,multiSelectionActive:Me}=D.getState();_&&(D.setState({nodesSelectionActive:!1}),x.selected&&Me?(ve({nodes:[],edges:[x]}),(_e=P.current)==null||_e.blur()):pe([e])),s&&s(ae,x)},G=o?ae=>{o(ae,{...x})}:void 0,W=i?ae=>{i(ae,{...x})}:void 0,Q=l?ae=>{l(ae,{...x})}:void 0,se=c?ae=>{c(ae,{...x})}:void 0,de=u?ae=>{u(ae,{...x})}:void 0,fe=ae=>{var pe;if(!w&&A_.includes(ae.key)&&_){const{unselectNodesAndEdges:ve,addSelectedEdges:Me}=D.getState();ae.key==="Escape"?((pe=P.current)==null||pe.blur(),ve({edges:[x]})):Me([e])}};return a.jsx("svg",{style:{zIndex:I},children:a.jsxs("g",{className:bt(["react-flow__edge",`react-flow__edge-${C}`,x.className,b,{selected:x.selected,animated:x.animated,inactive:!_&&!s,updating:E,selectable:_}]),onClick:ee,onDoubleClick:G,onContextMenu:W,onMouseEnter:Q,onMouseMove:se,onMouseLeave:de,onKeyDown:j?fe:void 0,tabIndex:j?0:void 0,role:x.ariaRole??(j?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":j?`${hE}-${y}`:void 0,ref:P,...x.domAttributes,children:[!O&&a.jsx(N,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:_,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:$,sourceY:A,targetX:R,targetY:z,sourcePosition:L,targetPosition:U,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:B,markerEnd:H,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),T&&a.jsx(wH,{edge:x,isReconnectable:T,reconnectRadius:f,onReconnect:h,onReconnectStart:d,onReconnectEnd:m,sourceX:$,sourceY:A,targetX:R,targetY:z,sourcePosition:L,targetPosition:U,setUpdateHover:M,setReconnecting:k})]})})}const SH=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function FE({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:d,onReconnectStart:m,onReconnectEnd:y,disableKeyboardA11y:g}){const{edgesFocusable:b,edgesReconnectable:v,elementsSelectable:w,onError:x}=Oe(SH,lt),S=aH(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(fH,{defaultColor:e,rfId:n}),S.map(C=>a.jsx(bH,{id:C,edgesFocusable:b,edgesReconnectable:v,elementsSelectable:w,noPanClassName:s,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f,reconnectRadius:h,onDoubleClick:d,onReconnectStart:m,onReconnectEnd:y,rfId:n,onError:x,edgeTypes:r,disableKeyboardA11y:g},C))]})}FE.displayName="EdgeRenderer";const NH=p.memo(FE),CH=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function jH({children:e}){const t=Oe(CH);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function kH(e){const t=ri(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const _H=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function EH(e){const t=Oe(_H),n=rt();return p.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function TH(e){return e.connection.inProgress?{...e.connection,to:Oc(e.connection.to,e.transform)}:{...e.connection}}function PH(e){return TH}function RH(e){const t=PH();return Oe(t,lt)}const AH=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function MH({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:o,height:i,isValid:l,inProgress:c}=Oe(AH,lt);return!(o&&s&&c)?null:a.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:bt(["react-flow__connection",$_(l)]),children:a.jsx(zE,{style:t,type:n,CustomComponent:r,isValid:l})})})}const zE=({style:e,type:t=Ps.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:o,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:f,toHandle:h,toPosition:d}=RH();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:d,connectionStatus:$_(r),toNode:f,toHandle:h});let m="";const y={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case Ps.Bezier:[m]=jy(y);break;case Ps.SimpleBezier:[m]=_E(y);break;case Ps.Step:[m]=og({...y,borderRadius:0});break;case Ps.SmoothStep:[m]=og(y);break;default:[m]=Y_(y)}return a.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};zE.displayName="ConnectionLine";const IH={};function Rb(e=IH){p.useRef(e),rt(),p.useEffect(()=>{},[e])}function $H(){rt(),p.useRef(!1),p.useEffect(()=>{},[])}function UE({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:d,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:g,connectionLineComponent:b,connectionLineContainerStyle:v,selectionKeyCode:w,selectionOnDrag:x,selectionMode:S,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:j,deleteKeyCode:T,onlyRenderVisibleElements:_,elementsSelectable:P,defaultViewport:E,translateExtent:M,minZoom:O,maxZoom:k,preventScrolling:D,defaultMarkerColor:I,zoomOnScroll:$,zoomOnPinch:A,panOnScroll:R,panOnScrollSpeed:z,panOnScrollMode:L,zoomOnDoubleClick:U,panOnDrag:B,onPaneClick:H,onPaneMouseEnter:ee,onPaneMouseMove:G,onPaneMouseLeave:W,onPaneScroll:Q,onPaneContextMenu:se,paneClickDistance:de,nodeClickDistance:fe,onEdgeContextMenu:ae,onEdgeMouseEnter:pe,onEdgeMouseMove:ve,onEdgeMouseLeave:Me,reconnectRadius:_e,onReconnect:st,onReconnectStart:Se,onReconnectEnd:Ce,noDragClassName:Be,noWheelClassName:gt,noPanClassName:dt,disableKeyboardA11y:Ze,nodeExtent:St,rfId:ft,viewport:et,onViewportChange:We}){return Rb(e),Rb(t),$H(),kH(n),EH(et),a.jsx(JB,{onPaneClick:H,onPaneMouseEnter:ee,onPaneMouseMove:G,onPaneMouseLeave:W,onPaneContextMenu:se,onPaneScroll:Q,paneClickDistance:de,deleteKeyCode:T,selectionKeyCode:w,selectionOnDrag:x,selectionMode:S,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:j,elementsSelectable:P,zoomOnScroll:$,zoomOnPinch:A,zoomOnDoubleClick:U,panOnScroll:R,panOnScrollSpeed:z,panOnScrollMode:L,panOnDrag:B,defaultViewport:E,translateExtent:M,minZoom:O,maxZoom:k,onSelectionContextMenu:h,preventScrolling:D,noDragClassName:Be,noWheelClassName:gt,noPanClassName:dt,disableKeyboardA11y:Ze,onViewportChange:We,isControlledViewport:!!et,children:a.jsxs(jH,{children:[a.jsx(NH,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:st,onReconnectStart:Se,onReconnectEnd:Ce,onlyRenderVisibleElements:_,onEdgeContextMenu:ae,onEdgeMouseEnter:pe,onEdgeMouseMove:ve,onEdgeMouseLeave:Me,reconnectRadius:_e,defaultMarkerColor:I,noPanClassName:dt,disableKeyboardA11y:Ze,rfId:ft}),a.jsx(MH,{style:g,type:y,component:b,containerStyle:v}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(iH,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:fe,onlyRenderVisibleElements:_,noPanClassName:dt,noDragClassName:Be,disableKeyboardA11y:Ze,nodeExtent:St,rfId:ft}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}UE.displayName="GraphView";const OH=p.memo(UE),Ab=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:h}={})=>{const d=new Map,m=new Map,y=new Map,g=new Map,b=r??t??[],v=n??e??[],w=f??[0,0],x=h??ac;Q_(y,g,b);const S=ag(v,d,m,{nodeOrigin:w,nodeExtent:x,elevateNodesOnSelect:!1});let C=[0,0,1];if(i&&s&&o){const N=$c(d,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:j,y:T,zoom:_}=Ny(N,s,o,c,u,(l==null?void 0:l.padding)??.1);C=[j,T,_]}return{rfId:"1",width:0,height:0,transform:C,nodes:v,nodesInitialized:S,nodeLookup:d,parentLookup:m,edges:b,edgeLookup:g,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:ac,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ga.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...I_},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:U8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:M_}},DH=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:h})=>rB((d,m)=>{async function y(){const{nodeLookup:g,panZoom:b,fitViewOptions:v,fitViewResolver:w,width:x,height:S,minZoom:C,maxZoom:N}=m();b&&(await F8({nodes:g,width:x,height:S,panZoom:b,minZoom:C,maxZoom:N},v),w==null||w.resolve(!0),d({fitViewResolver:null}))}return{...Ab({nodes:e,edges:t,width:s,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:h,defaultNodes:n,defaultEdges:r}),setNodes:g=>{const{nodeLookup:b,parentLookup:v,nodeOrigin:w,elevateNodesOnSelect:x,fitViewQueued:S}=m(),C=ag(g,b,v,{nodeOrigin:w,nodeExtent:h,elevateNodesOnSelect:x,checkEquality:!0});S&&C?(y(),d({nodes:g,nodesInitialized:C,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:g,nodesInitialized:C})},setEdges:g=>{const{connectionLookup:b,edgeLookup:v}=m();Q_(b,v,g),d({edges:g})},setDefaultNodesAndEdges:(g,b)=>{if(g){const{setNodes:v}=m();v(g),d({hasDefaultNodes:!0})}if(b){const{setEdges:v}=m();v(b),d({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:b,nodeLookup:v,parentLookup:w,domNode:x,nodeOrigin:S,nodeExtent:C,debug:N,fitViewQueued:j}=m(),{changes:T,updatedInternals:_}=iU(g,v,w,x,S,C);_&&(rU(v,w,{nodeOrigin:S,nodeExtent:C}),j?(y(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(T==null?void 0:T.length)>0&&(N&&console.log("React Flow: trigger node changes",T),b==null||b(T)))},updateNodePositions:(g,b=!1)=>{const v=[],w=[],{nodeLookup:x,triggerNodeChanges:S}=m();for(const[C,N]of g){const j=x.get(C),T=!!(j!=null&&j.expandParent&&(j!=null&&j.parentId)&&(N!=null&&N.position)),_={id:C,type:"position",position:T?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:b};T&&j.parentId&&v.push({id:C,parentId:j.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),w.push(_)}if(v.length>0){const{parentLookup:C,nodeOrigin:N}=m(),j=Ty(v,x,C,N);w.push(...j)}S(w)},triggerNodeChanges:g=>{const{onNodesChange:b,setNodes:v,nodes:w,hasDefaultNodes:x,debug:S}=m();if(g!=null&&g.length){if(x){const C=gE(g,w);v(C)}S&&console.log("React Flow: trigger node changes",g),b==null||b(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:b,setEdges:v,edges:w,hasDefaultEdges:x,debug:S}=m();if(g!=null&&g.length){if(x){const C=vE(g,w);v(C)}S&&console.log("React Flow: trigger edge changes",g),b==null||b(g)}},addSelectedNodes:g=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:w,triggerNodeChanges:x,triggerEdgeChanges:S}=m();if(b){const C=g.map(N=>jo(N,!0));x(C);return}x(Di(w,new Set([...g]),!0)),S(Di(v))},addSelectedEdges:g=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:w,triggerNodeChanges:x,triggerEdgeChanges:S}=m();if(b){const C=g.map(N=>jo(N,!0));S(C);return}S(Di(v,new Set([...g]))),x(Di(w,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:b}={})=>{const{edges:v,nodes:w,nodeLookup:x,triggerNodeChanges:S,triggerEdgeChanges:C}=m(),N=g||w,j=b||v,T=N.map(P=>{const E=x.get(P.id);return E&&(E.selected=!1),jo(P.id,!1)}),_=j.map(P=>jo(P.id,!1));S(T),C(_)},setMinZoom:g=>{const{panZoom:b,maxZoom:v}=m();b==null||b.setScaleExtent([g,v]),d({minZoom:g})},setMaxZoom:g=>{const{panZoom:b,minZoom:v}=m();b==null||b.setScaleExtent([v,g]),d({maxZoom:g})},setTranslateExtent:g=>{var b;(b=m().panZoom)==null||b.setTranslateExtent(g),d({translateExtent:g})},setPaneClickDistance:g=>{var b;(b=m().panZoom)==null||b.setClickDistance(g)},resetSelectedElements:()=>{const{edges:g,nodes:b,triggerNodeChanges:v,triggerEdgeChanges:w,elementsSelectable:x}=m();if(!x)return;const S=b.reduce((N,j)=>j.selected?[...N,jo(j.id,!1)]:N,[]),C=g.reduce((N,j)=>j.selected?[...N,jo(j.id,!1)]:N,[]);v(S),w(C)},setNodeExtent:g=>{const{nodes:b,nodeLookup:v,parentLookup:w,nodeOrigin:x,elevateNodesOnSelect:S,nodeExtent:C}=m();g[0][0]===C[0][0]&&g[0][1]===C[0][1]&&g[1][0]===C[1][0]&&g[1][1]===C[1][1]||(ag(b,v,w,{nodeOrigin:x,nodeExtent:g,elevateNodesOnSelect:S,checkEquality:!1}),d({nodeExtent:g}))},panBy:g=>{const{transform:b,width:v,height:w,panZoom:x,translateExtent:S}=m();return aU({delta:g,panZoom:x,transform:b,translateExtent:S,width:v,height:w})},setCenter:async(g,b,v)=>{const{width:w,height:x,maxZoom:S,panZoom:C}=m();if(!C)return Promise.resolve(!1);const N=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:S;return await C.setViewport({x:w/2-g*N,y:x/2-b*N,zoom:N},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...I_}})},updateConnection:g=>{d({connection:g})},reset:()=>d({...Ab()})}},Object.is);function BE({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:f,nodeExtent:h,children:d}){const[m]=p.useState(()=>DH({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:f,nodeExtent:h}));return a.jsx(sB,{value:m,children:a.jsx(_B,{children:d})})}function LH({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:f,nodeOrigin:h,nodeExtent:d}){return p.useContext(sh)?a.jsx(a.Fragment,{children:e}):a.jsx(BE,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:h,nodeExtent:d,children:e})}const FH={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zH({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:h,onMoveEnd:d,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:N,onNodeDragStart:j,onNodeDrag:T,onNodeDragStop:_,onNodesDelete:P,onEdgesDelete:E,onDelete:M,onSelectionChange:O,onSelectionDragStart:k,onSelectionDrag:D,onSelectionDragStop:I,onSelectionContextMenu:$,onSelectionStart:A,onSelectionEnd:R,onBeforeDelete:z,connectionMode:L,connectionLineType:U=Ps.Bezier,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:ee,deleteKeyCode:G="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:Q=!1,selectionMode:se=lc.Full,panActivationKeyCode:de="Space",multiSelectionKeyCode:fe=tf()?"Meta":"Control",zoomActivationKeyCode:ae=tf()?"Meta":"Control",snapToGrid:pe,snapGrid:ve,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:_e,nodesDraggable:st,autoPanOnNodeFocus:Se,nodesConnectable:Ce,nodesFocusable:Be,nodeOrigin:gt=pE,edgesFocusable:dt,edgesReconnectable:Ze,elementsSelectable:St=!0,defaultViewport:ft=vB,minZoom:et=.5,maxZoom:We=2,translateExtent:Rt=ac,preventScrolling:wr=!0,nodeExtent:fs,defaultMarkerColor:Ua="#b1b1b7",zoomOnScroll:ai=!0,zoomOnPinch:li=!0,panOnScroll:Ba=!1,panOnScrollSpeed:yo=.5,panOnScrollMode:Nn=zo.Free,zoomOnDoubleClick:Ha=!0,panOnDrag:je=!0,onPaneClick:Le,onPaneMouseEnter:Fe,onPaneMouseMove:dn,onPaneMouseLeave:fn,onPaneScroll:hs,onPaneContextMenu:ci,paneClickDistance:Wc=0,nodeClickDistance:Vc=0,children:Sh,onReconnect:Nh,onReconnectStart:F,onReconnectEnd:V,onEdgeContextMenu:q,onEdgeDoubleClick:ne,onEdgeMouseEnter:X,onEdgeMouseMove:oe,onEdgeMouseLeave:le,reconnectRadius:Ne=10,onNodesChange:we,onEdgesChange:ke,noDragClassName:ce="nodrag",noWheelClassName:be="nowheel",noPanClassName:Ve="nopan",fitView:tt,fitViewOptions:ht,connectOnClick:ps,attributionPosition:xo,proOptions:wo,defaultEdgeOptions:ms,elevateNodesOnSelect:LR,elevateEdgesOnSelect:FR,disableKeyboardA11y:xx=!1,autoPanOnConnect:zR,autoPanOnNodeDrag:UR,autoPanSpeed:BR,connectionRadius:HR,isValidConnection:WR,onError:VR,style:qR,id:wx,nodeDragThreshold:GR,connectionDragThreshold:KR,viewport:YR,onViewportChange:XR,width:QR,height:JR,colorMode:ZR="light",debug:eA,onScroll:qc,ariaLabelConfig:tA,...nA},rA){const Ch=wx||"1",sA=bB(ZR),oA=p.useCallback(bx=>{bx.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),qc==null||qc(bx)},[qc]);return a.jsx("div",{"data-testid":"rf__wrapper",...nA,onScroll:oA,style:{...qR,...FH},ref:rA,className:bt(["react-flow",s,sA]),id:wx,role:"application",children:a.jsxs(LH,{nodes:e,edges:t,width:QR,height:JR,fitView:tt,fitViewOptions:ht,minZoom:et,maxZoom:We,nodeOrigin:gt,nodeExtent:fs,children:[a.jsx(OH,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:i,connectionLineType:U,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:ee,selectionKeyCode:W,selectionOnDrag:Q,selectionMode:se,deleteKeyCode:G,multiSelectionKeyCode:fe,panActivationKeyCode:de,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Me,defaultViewport:ft,translateExtent:Rt,minZoom:et,maxZoom:We,preventScrolling:wr,zoomOnScroll:ai,zoomOnPinch:li,zoomOnDoubleClick:Ha,panOnScroll:Ba,panOnScrollSpeed:yo,panOnScrollMode:Nn,panOnDrag:je,onPaneClick:Le,onPaneMouseEnter:Fe,onPaneMouseMove:dn,onPaneMouseLeave:fn,onPaneScroll:hs,onPaneContextMenu:ci,paneClickDistance:Wc,nodeClickDistance:Vc,onSelectionContextMenu:$,onSelectionStart:A,onSelectionEnd:R,onReconnect:Nh,onReconnectStart:F,onReconnectEnd:V,onEdgeContextMenu:q,onEdgeDoubleClick:ne,onEdgeMouseEnter:X,onEdgeMouseMove:oe,onEdgeMouseLeave:le,reconnectRadius:Ne,defaultMarkerColor:Ua,noDragClassName:ce,noWheelClassName:be,noPanClassName:Ve,rfId:Ch,disableKeyboardA11y:xx,nodeExtent:fs,viewport:YR,onViewportChange:XR}),a.jsx(wB,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:v,nodesDraggable:st,autoPanOnNodeFocus:Se,nodesConnectable:Ce,nodesFocusable:Be,edgesFocusable:dt,edgesReconnectable:Ze,elementsSelectable:St,elevateNodesOnSelect:LR,elevateEdgesOnSelect:FR,minZoom:et,maxZoom:We,nodeExtent:fs,onNodesChange:we,onEdgesChange:ke,snapToGrid:pe,snapGrid:ve,connectionMode:L,translateExtent:Rt,connectOnClick:ps,defaultEdgeOptions:ms,fitView:tt,fitViewOptions:ht,onNodesDelete:P,onEdgesDelete:E,onDelete:M,onNodeDragStart:j,onNodeDrag:T,onNodeDragStop:_,onSelectionDrag:D,onSelectionDragStart:k,onSelectionDragStop:I,onMove:f,onMoveStart:h,onMoveEnd:d,noPanClassName:Ve,nodeOrigin:gt,rfId:Ch,autoPanOnConnect:zR,autoPanOnNodeDrag:UR,autoPanSpeed:BR,onError:VR,connectionRadius:HR,isValidConnection:WR,selectNodesOnDrag:_e,nodeDragThreshold:GR,connectionDragThreshold:KR,onBeforeDelete:z,paneClickDistance:Wc,debug:eA,ariaLabelConfig:tA}),a.jsx(gB,{onSelectionChange:O}),Sh,a.jsx(dB,{proOptions:wo,position:xo}),a.jsx(uB,{rfId:Ch,disableKeyboardA11y:xx})]})})}var UH=yE(zH);const BH=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function HH({children:e}){const t=Oe(BH);return t?cs.createPortal(e,t):null}function WH(e){const[t,n]=p.useState(e),r=p.useCallback(s=>n(o=>gE(s,o)),[]);return[t,n,r]}function VH(e){const[t,n]=p.useState(e),r=p.useCallback(s=>n(o=>vE(s,o)),[]);return[t,n,r]}function qH({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:bt(["react-flow__background-pattern",n,r])})}function GH({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:bt(["react-flow__background-pattern","dots",t])})}var Jr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jr||(Jr={}));const KH={[Jr.Dots]:1,[Jr.Lines]:1,[Jr.Cross]:6},YH=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function HE({id:e,variant:t=Jr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=0,color:i,bgColor:l,style:c,className:u,patternClassName:f}){const h=p.useRef(null),{transform:d,patternId:m}=Oe(YH,lt),y=r||KH[t],g=t===Jr.Dots,b=t===Jr.Cross,v=Array.isArray(n)?n:[n,n],w=[v[0]*d[2]||1,v[1]*d[2]||1],x=y*d[2],S=Array.isArray(o)?o:[o,o],C=b?[x,x]:w,N=[S[0]*d[2]||1+C[0]/2,S[1]*d[2]||1+C[1]/2],j=`${m}${e||""}`;return a.jsxs("svg",{className:bt(["react-flow__background",u]),style:{...c,...ih,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:h,"data-testid":"rf__background",children:[a.jsx("pattern",{id:j,x:d[0]%w[0],y:d[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:g?a.jsx(GH,{radius:x/2,className:f}):a.jsx(qH,{dimensions:C,lineWidth:s,variant:t,className:f})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${j})`})]})}HE.displayName="Background";const XH=p.memo(HE);function QH(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function JH(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ZH(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function eW(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tW(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Tu({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:bt(["react-flow__controls-button",t]),...n,children:e})}const nW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function WE({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:f,position:h="bottom-left",orientation:d="vertical","aria-label":m}){const y=rt(),{isInteractive:g,minZoomReached:b,maxZoomReached:v,ariaLabelConfig:w}=Oe(nW,lt),{zoomIn:x,zoomOut:S,fitView:C}=ri(),N=()=>{x(),o==null||o()},j=()=>{S(),i==null||i()},T=()=>{C(s),l==null||l()},_=()=>{y.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},P=d==="horizontal"?"horizontal":"vertical";return a.jsxs(oh,{className:bt(["react-flow__controls",P,u]),position:h,style:e,"data-testid":"rf__controls","aria-label":m??w["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(Tu,{onClick:N,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:v,children:a.jsx(QH,{})}),a.jsx(Tu,{onClick:j,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:b,children:a.jsx(JH,{})})]}),n&&a.jsx(Tu,{className:"react-flow__controls-fitview",onClick:T,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:a.jsx(ZH,{})}),r&&a.jsx(Tu,{className:"react-flow__controls-interactive",onClick:_,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:g?a.jsx(tW,{}):a.jsx(eW,{})}),f]})}WE.displayName="Controls";const rW=p.memo(WE);function sW({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:f,shapeRendering:h,selected:d,onClick:m}){const{background:y,backgroundColor:g}=o||{},b=i||y||g;return a.jsx("rect",{className:bt(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:s,style:{fill:b,stroke:l,strokeWidth:c},shapeRendering:h,onClick:m?v=>m(v,e):void 0})}const oW=p.memo(sW),iW=e=>e.nodes.map(t=>t.id),Np=e=>e instanceof Function?e:()=>e;function aW({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=oW,onClick:i}){const l=Oe(iW,lt),c=Np(t),u=Np(e),f=Np(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:l.map(d=>a.jsx(cW,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:i,shapeRendering:h},d))})}function lW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:f,y:h,width:d,height:m}=Oe(y=>{const{internals:g}=y.nodeLookup.get(e),b=g.userNode,{x:v,y:w}=g.positionAbsolute,{width:x,height:S}=us(b);return{node:b,x:v,y:w,width:x,height:S}},lt);return!u||u.hidden||!U_(u)?null:a.jsx(l,{x:f,y:h,width:d,height:m,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:s,strokeColor:n(u),strokeWidth:o,shapeRendering:i,onClick:c,id:u.id})}const cW=p.memo(lW);var uW=p.memo(aW);const dW=200,fW=150,hW=e=>!e.hidden,pW=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?z_($c(e.nodeLookup,{filter:hW}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},mW="react-flow__minimap-desc";function VE({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:f,maskStrokeWidth:h,position:d="bottom-right",onClick:m,onNodeClick:y,pannable:g=!1,zoomable:b=!1,ariaLabel:v,inversePan:w,zoomStep:x=10,offsetScale:S=5}){const C=rt(),N=p.useRef(null),{boundingRect:j,viewBB:T,rfId:_,panZoom:P,translateExtent:E,flowWidth:M,flowHeight:O,ariaLabelConfig:k}=Oe(pW,lt),D=(e==null?void 0:e.width)??dW,I=(e==null?void 0:e.height)??fW,$=j.width/D,A=j.height/I,R=Math.max($,A),z=R*D,L=R*I,U=S*R,B=j.x-(z-j.width)/2-U,H=j.y-(L-j.height)/2-U,ee=z+U*2,G=L+U*2,W=`${mW}-${_}`,Q=p.useRef(0),se=p.useRef();Q.current=R,p.useEffect(()=>{if(N.current&&P)return se.current=mU({domNode:N.current,panZoom:P,getTransform:()=>C.getState().transform,getViewScale:()=>Q.current}),()=>{var pe;(pe=se.current)==null||pe.destroy()}},[P]),p.useEffect(()=>{var pe;(pe=se.current)==null||pe.update({translateExtent:E,width:M,height:O,inversePan:w,pannable:g,zoomStep:x,zoomable:b})},[g,b,w,x,E,M,O]);const de=m?pe=>{var _e;const[ve,Me]=((_e=se.current)==null?void 0:_e.pointer(pe))||[0,0];m(pe,{x:ve,y:Me})}:void 0,fe=y?p.useCallback((pe,ve)=>{const Me=C.getState().nodeLookup.get(ve).internals.userNode;y(pe,Me)},[]):void 0,ae=v??k["minimap.ariaLabel"];return a.jsx(oh,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*R:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:bt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:D,height:I,viewBox:`${B} ${H} ${ee} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":W,ref:N,onClick:de,children:[ae&&a.jsx("title",{id:W,children:ae}),a.jsx(uW,{onClick:fe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:l}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-U},${H-U}h${ee+U*2}v${G+U*2}h${-ee-U*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}VE.displayName="MiniMap";p.memo(VE);const gW=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,vW={[wa.Line]:"right",[wa.Handle]:"bottom-right"};function yW({nodeId:e,position:t,variant:n=wa.Handle,className:r,style:s=void 0,children:o,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:d,autoScale:m=!0,shouldResize:y,onResizeStart:g,onResize:b,onResizeEnd:v}){const w=SE(),x=typeof e=="string"?e:w,S=rt(),C=p.useRef(null),N=n===wa.Handle,j=Oe(p.useCallback(gW(N&&m),[N,m]),lt),T=p.useRef(null),_=t??vW[n];p.useEffect(()=>{if(!(!C.current||!x))return T.current||(T.current=RU({domNode:C.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:E,transform:M,snapGrid:O,snapToGrid:k,nodeOrigin:D,domNode:I}=S.getState();return{nodeLookup:E,transform:M,snapGrid:O,snapToGrid:k,nodeOrigin:D,paneDomNode:I}},onChange:(E,M)=>{const{triggerNodeChanges:O,nodeLookup:k,parentLookup:D,nodeOrigin:I}=S.getState(),$=[],A={x:E.x,y:E.y},R=k.get(x);if(R&&R.expandParent&&R.parentId){const z=R.origin??I,L=E.width??R.measured.width??0,U=E.height??R.measured.height??0,B={id:R.id,parentId:R.parentId,rect:{width:L,height:U,...B_({x:E.x??R.position.x,y:E.y??R.position.y},{width:L,height:U},R.parentId,k,z)}},H=Ty([B],k,D,I);$.push(...H),A.x=E.x?Math.max(z[0]*L,E.x):void 0,A.y=E.y?Math.max(z[1]*U,E.y):void 0}if(A.x!==void 0&&A.y!==void 0){const z={id:x,type:"position",position:{...A}};$.push(z)}if(E.width!==void 0&&E.height!==void 0){const L={id:x,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:E.width,height:E.height}};$.push(L)}for(const z of M){const L={...z,type:"position"};$.push(L)}O($)},onEnd:({width:E,height:M})=>{const O={id:x,type:"dimensions",resizing:!1,dimensions:{width:E,height:M}};S.getState().triggerNodeChanges([O])}})),T.current.update({controlPosition:_,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:f},keepAspectRatio:h,resizeDirection:d,onResizeStart:g,onResize:b,onResizeEnd:v,shouldResize:y}),()=>{var E;(E=T.current)==null||E.destroy()}},[_,l,c,u,f,h,g,b,v,y]);const P=_.split("-");return a.jsx("div",{className:bt(["react-flow__resize-control","nodrag",...P,n,r]),ref:C,style:{...s,scale:j,...i&&{[N?"backgroundColor":"borderColor"]:i}},children:o})}p.memo(yW);const xW="modulepreload",wW=function(e){return"/"+e},Mb={},si=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=wW(c),c in Mb)return;Mb[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xW,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((d,m)=>{h.addEventListener("load",d),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},bW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>si(async()=>{const{default:r}=await Promise.resolve().then(()=>Da);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ry extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class SW extends Ry{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ib extends Ry{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $b extends Ry{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ug||(ug={}));var NW=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class CW{constructor(t,{headers:n={},customFetch:r,region:s=ug.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=bW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return NW(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(l["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(g=>{throw new SW(g)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new Ib(h);if(!h.ok)throw new $b(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield h.json():m==="application/octet-stream"?y=yield h.blob():m==="text/event-stream"?y=h:m==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof $b||s instanceof Ib?s.context:void 0}}})}}var gn={},Ay={},ah={},Lc={},lh={},ch={},jW=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sa=jW();const kW=Sa.fetch,qE=Sa.fetch.bind(Sa),GE=Sa.Headers,_W=Sa.Request,EW=Sa.Response,Da=Object.freeze(Object.defineProperty({__proto__:null,Headers:GE,Request:_W,Response:EW,default:qE,fetch:kW},Symbol.toStringTag,{value:"Module"})),TW=aA(Da);var uh={};Object.defineProperty(uh,"__esModule",{value:!0});let PW=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};uh.default=PW;var KE=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const RW=KE(TW),AW=KE(uh);let MW=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RW.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let f=null,h=null,d=null,m=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=w:h=JSON.parse(w))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await o.text();try{f=JSON.parse(b),Array.isArray(f)&&o.status===404&&(h=[],f=null,m=200,y="OK")}catch{o.status===404&&b===""?(m=204,y="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,m=200,y="OK"),f&&this.shouldThrowOnError)throw new AW.default(f)}return{error:f,data:h,count:d,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ch.default=MW;var IW=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});const $W=IW(ch);let OW=class extends $W.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};lh.default=OW;var DW=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});const LW=DW(lh);let FW=class extends LW.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Lc.default=FW;var zW=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ah,"__esModule",{value:!0});const nl=zW(Lc);let UW=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new nl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new nl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new nl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new nl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new nl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ah.default=UW;var YE=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ay,"__esModule",{value:!0});const BW=YE(ah),HW=YE(Lc);let WW=class XE{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new BW.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new XE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{c.searchParams.append(h,d)})):(l="POST",u=n);const f=new Headers(this.headers);return o&&f.set("Prefer",`count=${o}`),new HW.default({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Ay.default=WW;var La=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const QE=La(Ay);gn.PostgrestClient=QE.default;const JE=La(ah);gn.PostgrestQueryBuilder=JE.default;const ZE=La(Lc);gn.PostgrestFilterBuilder=ZE.default;const eT=La(lh);gn.PostgrestTransformBuilder=eT.default;const tT=La(ch);gn.PostgrestBuilder=tT.default;const nT=La(uh);gn.PostgrestError=nT.default;var VW=gn.default={PostgrestClient:QE.default,PostgrestQueryBuilder:JE.default,PostgrestFilterBuilder:ZE.default,PostgrestTransformBuilder:eT.default,PostgrestBuilder:tT.default,PostgrestError:nT.default};const{PostgrestClient:qW,PostgrestQueryBuilder:zY,PostgrestFilterBuilder:UY,PostgrestTransformBuilder:BY,PostgrestBuilder:HY,PostgrestError:WY}=VW;class GW{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KW="2.15.5",YW=`realtime-js/${KW}`,XW="1.0.0",dg=1e4,QW=1e3,JW=100;var El;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(El||(El={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sr||(sr={}));var fg;(function(e){e.websocket="websocket"})(fg||(fg={}));var _o;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_o||(_o={}));class ZW{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class rT{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const Ob=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=e9(i,e,t,s),o),{})},e9=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?sT(o,i):hg(i)},sT=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return s9(t,n)}switch(e){case Ge.bool:return t9(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return n9(t);case Ge.json:case Ge.jsonb:return r9(t);case Ge.timestamp:return o9(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return hg(t);default:return hg(t)}},hg=e=>e,t9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},n9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},s9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>sT(t,l))}return e},o9=e=>typeof e=="string"?e.replace(" ","T"):e,oT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Cp{constructor(t,n,r={},s=dg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Db;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Db||(Db={}));class Tl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Tl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const h=o[u];if(h){const d=f.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),y=f.filter(b=>m.indexOf(b.presence_ref)<0),g=h.filter(b=>d.indexOf(b.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(m=>m.presence_ref),d=f.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...d)}r(l,f,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lb||(Lb={}));var Pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pl||(Pl={}));var Wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class My{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cp(this,sr.join,this.params,this.timeout),this.rejoinTimer=new rT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Tl(this),this.broadcastEndpointURL=oT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Pl.PRESENCE]&&this.bindings[Pl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},d={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Wr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Wr.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(Wr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<b;w++){const x=g[w],{filter:{event:S,schema:C,table:N,filter:j}}=x,T=m&&m[w];if(T&&T.event===S&&T.schema===C&&T.table===N&&T.filter===j)v.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=Nt.errored,t==null||t(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Wr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Nt.errored,t==null||t(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Nt.joined&&t===Pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Cp(this,sr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=sr;if(r&&[l,c,u,f].indexOf(i)>=0&&r!==this._joinRef())return;let d=this._onMessage(i,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,g,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(d,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var y,g,b,v,w,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const S=m.id,C=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:g,table:b,commit_timestamp:v,type:w,errors:x}=y;d=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(y))}m.callback(d,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&My.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sr.close,{},t)}_onError(t){this._on(sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ob(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ob(t.columns,t.old_record)),n}}const jp=()=>{},Pu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i9=[1e3,2e3,5e3,1e4],a9=1e4,l9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c9{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dg,this.transport=null,this.heartbeatIntervalMs=Pu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jp,this.ref=0,this.reconnectTimer=null,this.logger=jp,this.conn=null,this.sendBuffer=[],this.serializer=new ZW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>si(async()=>{const{default:l}=await Promise.resolve().then(()=>Da);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fg.websocket}`,this.httpEndpoint=oT(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XW}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return _o.Connecting;case El.open:return _o.Open;case El.closing:return _o.Closing;default:return _o.Closed}}isConnected(){return this.connectionState()===_o.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new My(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([l9],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:YW};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,l,c,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:dg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Pu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:jp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>i9[h-1]||a9,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,d)=>d(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Iy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u9 extends Iy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pg extends Iy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var d9=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const iT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>si(async()=>{const{default:r}=await Promise.resolve().then(()=>Da);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},f9=()=>d9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield si(()=>Promise.resolve().then(()=>Da),void 0)).Response:Response}),mg=e=>{if(Array.isArray(e))return e.map(n=>mg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=mg(r)}),t},h9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var oi=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const kp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p9=(e,t,n)=>oi(void 0,void 0,void 0,function*(){const r=yield f9();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new u9(kp(s),o,i))}).catch(s=>{t(new pg(kp(s),s))}):t(new pg(kp(e),e))}),m9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(h9(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Fc(e,t,n,r,s,o){return oi(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,m9(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>p9(c,l,r))})})}function rf(e,t,n,r){return oi(this,void 0,void 0,function*(){return Fc(e,"GET",t,n,r)})}function Nr(e,t,n,r,s){return oi(this,void 0,void 0,function*(){return Fc(e,"POST",t,r,s,n)})}function gg(e,t,n,r,s){return oi(this,void 0,void 0,function*(){return Fc(e,"PUT",t,r,s,n)})}function g9(e,t,n,r){return oi(this,void 0,void 0,function*(){return Fc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function aT(e,t,n,r,s){return oi(this,void 0,void 0,function*(){return Fc(e,"DELETE",t,r,s,n)})}var en=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const v9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y9{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=iT(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return en(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Fb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?gg:Nr)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}upload(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return en(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Fb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield gg(this.fetch,l.toString(),c,{headers:f});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ct(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return en(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Nr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Iy("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}update(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}})}copy(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return en(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Nr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return en(this,void 0,void 0,function*(){try{const s=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}})}download(t,n){return en(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield rf(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}})}info(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield rf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}exists(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r)&&r instanceof pg){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return en(this,void 0,void 0,function*(){try{return{data:yield aT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}list(t,n,r){return en(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},v9),n),{prefix:t||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}})}listV2(t,n){return en(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Nr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const x9="2.12.1",w9={"X-Client-Info":`storage-js/${x9}`};var mi=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class b9{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},w9),n),this.fetch=iT(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield gg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield aT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}}class S9 extends b9{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new y9(this.url,this.headers,t,this.fetch)}}const N9="2.57.4";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const C9={"X-Client-Info":`supabase-js-${fl}/${N9}`},j9={headers:C9},k9={schema:"public"},_9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E9={};var T9=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const P9=e=>{let t;return e?t=e:typeof fetch>"u"?t=qE:t=fetch,(...n)=>t(...n)},R9=()=>typeof Headers>"u"?GE:Headers,A9=(e,t,n)=>{const r=P9(n),s=R9();return(o,i)=>T9(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var M9=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function I9(e){return e.endsWith("/")?e:e+"/"}function $9(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,d={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>M9(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function O9(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lT="2.71.1",Si=30*1e3,vg=3,_p=vg*Si,D9="http://localhost:9999",L9="supabase.auth.token",F9={"X-Client-Info":`gotrue-js/${lT}`},yg="X-Supabase-Api-Version",cT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U9=10*60*1e3;class $y extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class B9 extends $y{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function H9(e){return Te(e)&&e.name==="AuthApiError"}class uT extends $y{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ho extends $y{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Cs extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W9(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Ru extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends ho{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mu extends ho{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V9(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class zb extends ho{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xg extends ho{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ep(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class Ub extends ho{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wg extends ho{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bb=` 	
\r=`.split(""),q9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bb.length;t+=1)e[Bb[t].charCodeAt(0)]=-2;for(let t=0;t<sf.length;t+=1)e[sf[t].charCodeAt(0)]=t;return e})();function Hb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(sf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(sf[r]),t.queuedBits-=6}}function dT(e,t,n){const r=q9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wb(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Y9(i,r,n)};for(let i=0;i<e.length;i+=1)dT(e.charCodeAt(i),s,o);return t.join("")}function G9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function K9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}G9(r,t)}}function Y9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function X9(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)dT(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Q9(e){const t=[];return K9(e,n=>t.push(n)),new Uint8Array(t)}function J9(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Hb(s,n,r)),Hb(null,n,r),t.join("")}function Z9(e){return Math.round(Date.now()/1e3)+e}function e7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qn=()=>typeof window<"u"&&typeof document<"u",bo={tested:!1,writable:!1},fT=()=>{if(!Qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bo.tested)return bo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bo.tested=!0,bo.writable=!0}catch{bo.tested=!0,bo.writable=!1}return bo.writable};function t7(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>si(async()=>{const{default:r}=await Promise.resolve().then(()=>Da);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},n7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ni=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},So=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bs=async(e,t)=>{await e.removeItem(t)};class dh{constructor(){this.promise=new dh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dh.promiseConstructor=Promise;function Tp(e){const t=e.split(".");if(t.length!==3)throw new wg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!z9.test(t[r]))throw new wg("JWT not in base64url format");return{header:JSON.parse(Wb(t[0])),payload:JSON.parse(Wb(t[1])),signature:X9(t[2]),raw:{header:t[0],payload:t[1]}}}async function r7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function s7(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function o7(e){return("0"+e.toString(16)).substr(-2)}function i7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,o7).join("")}async function a7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function l7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await a7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(e,t,n=!1){const r=i7();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ni(e,`${t}-code-verifier`,s);const o=await l7(r);return[o,r===o?"plain":"s256"]}const c7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u7(e){const t=e.headers.get(yg);if(!t||!t.match(c7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function d7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function f7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(e){if(!h7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vb(e){return JSON.parse(JSON.stringify(e))}var p7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ko=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m7=[502,503,504];async function qb(e){var t;if(!n7(e))throw new xg(ko(e),0);if(m7.includes(e.status))throw new xg(ko(e),e.status);let n;try{n=await e.json()}catch(o){throw new uT(ko(o),o)}let r;const s=u7(e);if(s&&s.getTime()>=cT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ub(ko(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ub(ko(n),e.status,n.weak_password.reasons);throw new B9(ko(n),e.status||500,r)}const g7=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ie(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[yg]||(o[yg]=cT["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await v7(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function v7(e,t,n,r,s,o){const i=g7(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new xg(ko(c),0)}if(l.ok||await qb(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await qb(c)}}function Br(e){var t;let n=null;b7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Z9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Gb(e){const t=Br(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function y7(e){return{data:e,error:null}}function x7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=p7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function w7(e){return e}function b7(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rp=["global","local","others"];var S7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class N7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=hT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Rp[0]){if(Rp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rp.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=S7(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:x7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rs})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:w7});if(f.error)throw f.error;const h=await f.json(),d=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vi(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rs})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){vi(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){vi(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vi(t.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){vi(t.userId),vi(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function Kb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function C7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yi={debug:!!(globalThis&&fT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class j7 extends pT{}async function k7(e,t,n){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new j7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}C7();const _7={url:D9,storageKey:L9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yb(e,t,n){return await n()}const xi={};class fc{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fc.nextInstanceID,fc.nextInstanceID+=1,this.instanceID>0&&Qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_7),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new N7({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=hT(s.fetch),this.lock=s.lock||Yb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=k7:this.lock=Yb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:fT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),Qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=t7(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),V9(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?{error:n}:{error:new uT("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Br}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:f,password:h,options:d}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await gi(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:f,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:y},xform:Br})}else if("phone"in t){const{phone:f,password:h,options:d}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Br})}else throw new Au("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gb})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gb})}else throw new Au("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ru}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,f,h,d,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:w,options:x}=t;let S;if(Qn())if(typeof v=="object")S=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const C=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:b,error:v}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:J9(g)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Br});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ru}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(Te(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await So(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Br});if(await bs(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ru}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Br}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ru}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await gi(this.storage,this.storageKey));const{error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Au("You must provide either an email or phone number.")}catch(l){if(Te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Br});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await gi(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:y7})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cs;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Au("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await So(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_p:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await So(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Pp()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rs}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cs}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Rs})})}catch(n){if(Te(n))return W9(n)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Cs;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await gi(this.storage,this.storageKey));const{data:u,error:f}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Rs});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cs;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Tp(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cs;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Qn())throw new Mu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zb("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Mu("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let d=f+h;c&&(d=parseInt(c));const m=d-f;m*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=d-h;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,f);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:d,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await So(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(H9(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=e7(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gi(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,f;const{data:h,error:d}=o;if(d)throw d;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Qn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Te(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await s7(async s=>(s>0&&await r7(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Br})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ep(o)&&Date.now()+i-r<Si})}catch(r){if(this._debug(n,"error",r),Te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await So(this.storage,this.storageKey);if(s&&this.userStorage){let i=await So(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ni(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Pp()}else if(s&&!s.user&&!s.user){const i=await So(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await bs(this.storage,this.storageKey+"-user"),await Ni(this.storage,this.storageKey,s)):s.user=Pp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_p;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${_p}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Ep(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Cs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Te(o)){const i={session:null,error:o};return Ep(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ni(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Vb(s);await Ni(this.storage,this.storageKey,o)}else{const s=Vb(n);await Ni(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await bs(this.storage,this.storageKey+"-code-verifier"),await bs(this.storage,this.storageKey+"-user"),this.userStorage&&await bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Si}ms, refresh threshold is ${vg} ticks`),s<=vg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tp(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+U9>s)return r;const{data:o,error:i}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Tp(r);n!=null&&n.allowExpired||d7(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const f=f7(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,i,Q9(`${l}.${c}`)))throw new wg("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}fc.nextInstanceID=0;const E7=fc;class T7 extends E7{constructor(t){super(t)}}var P7=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(f){try{u(r.next(f))}catch(h){i(h)}}function c(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class R7{constructor(t,n,r){var s,o,i;this.supabaseUrl=t,this.supabaseKey=n;const l=O9(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:k9,realtime:E9,auth:Object.assign(Object.assign({},_9),{storageKey:c}),global:j9},f=$9(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=A9(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qW(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new S9(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new CW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return P7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u},f,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T7({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new c9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A7=(e,t,n)=>new R7(e,t,n);function M7(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}M7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I7="https://rnforgldmgrpibdbknja.supabase.co",$7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuZm9yZ2xkbWdycGliZGJrbmphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDU2NjksImV4cCI6MjA2OTgyMTY2OX0.NAT1UpaepzJV14aEmr4X_1WS8t4EPJGYBht9-9_zaV0",xe=A7(I7,$7,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),mT=Object.freeze(Object.defineProperty({__proto__:null,supabase:xe},Symbol.toStringTag,{value:"Module"}));var Oy="Dialog",[gT,VY]=Gn(Oy),[O7,yr]=gT(Oy),vT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,f]=rs({prop:r,defaultProp:s,onChange:o});return a.jsx(O7,{scope:t,triggerRef:l,contentRef:c,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};vT.displayName=Oy;var yT="DialogTrigger",xT=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(yT,n),o=Ee(t,s.triggerRef);return a.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fy(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});xT.displayName=yT;var Dy="DialogPortal",[D7,wT]=gT(Dy,{forceMount:void 0}),bT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=yr(Dy,t);return a.jsx(D7,{scope:t,forceMount:n,children:p.Children.map(r,i=>a.jsx(ln,{present:n||o.open,children:a.jsx(Nc,{asChild:!0,container:s,children:i})}))})};bT.displayName=Dy;var of="DialogOverlay",ST=p.forwardRef((e,t)=>{const n=wT(of,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yr(of,e.__scopeDialog);return o.modal?a.jsx(ln,{present:r||o.open,children:a.jsx(L7,{...s,ref:t})}):null});ST.displayName=of;var L7=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(of,n);return a.jsx(Wf,{as:Zs,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ye.div,{"data-state":Fy(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xo="DialogContent",NT=p.forwardRef((e,t)=>{const n=wT(Xo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yr(Xo,e.__scopeDialog);return a.jsx(ln,{present:r||o.open,children:o.modal?a.jsx(F7,{...s,ref:t}):a.jsx(z7,{...s,ref:t})})});NT.displayName=Xo;var F7=p.forwardRef((e,t)=>{const n=yr(Xo,e.__scopeDialog),r=p.useRef(null),s=Ee(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Bf(o)},[]),a.jsx(CT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),z7=p.forwardRef((e,t)=>{const n=yr(Xo,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(CT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),CT=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=yr(Xo,n),c=p.useRef(null),u=Ee(t,c);return ry(),a.jsxs(a.Fragment,{children:[a.jsx(Ff,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Ta,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Fy(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(U7,{titleId:l.titleId}),a.jsx(H7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ly="DialogTitle",jT=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(Ly,n);return a.jsx(ye.h2,{id:s.titleId,...r,ref:t})});jT.displayName=Ly;var kT="DialogDescription",_T=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(kT,n);return a.jsx(ye.p,{id:s.descriptionId,...r,ref:t})});_T.displayName=kT;var ET="DialogClose",TT=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(ET,n);return a.jsx(ye.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});TT.displayName=ET;function Fy(e){return e?"open":"closed"}var PT="DialogTitleWarning",[qY,RT]=WI(PT,{contentName:Xo,titleName:Ly,docsSlug:"dialog"}),U7=({titleId:e})=>{const t=RT(PT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B7="DialogDescriptionWarning",H7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RT(B7).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},W7=vT,V7=xT,q7=bT,AT=ST,MT=NT,IT=jT,$T=_T,G7=TT;const Jt=W7,xr=V7,K7=q7,OT=p.forwardRef(({className:e,...t},n)=>a.jsx(AT,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OT.displayName=AT.displayName;const Ut=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(K7,{children:[a.jsx(OT,{}),a.jsxs(MT,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(G7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(ss,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=MT.displayName;const Zt=({className:e,...t})=>a.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zt.displayName="DialogHeader";const Bt=p.forwardRef(({className:e,...t},n)=>a.jsx(IT,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Bt.displayName=IT.displayName;const DT=p.forwardRef(({className:e,...t},n)=>a.jsx($T,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));DT.displayName=$T.displayName;var Y7="Label",LT=p.forwardRef((e,t)=>a.jsx(ye.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LT.displayName=Y7;var FT=LT;const X7=jc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=p.forwardRef(({className:e,...t},n)=>a.jsx(FT,{ref:n,className:ge(X7(),e),...t}));J.displayName=FT.displayName;const Ae=p.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ae.displayName="Input";const Ys=p.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ys.displayName="Textarea";const ii=({status:e,hasResult:t,onClick:n})=>{console.log(" [ExecutionNotification] RENDER START",{status:e,hasResult:t});const r=e==="running"||e==="completed"||e==="error",s=t===!0||r;if(console.log(" [ExecutionNotification] SHOULD SHOW CHECK",{shouldShow:s,hasResult:t,actionable:r,status:e}),!s)return console.log(" [ExecutionNotification] SKIP RENDER - NOT SHOWING",{status:e,hasResult:t}),null;const i=(()=>{if(t)return{icon:a.jsx(to,{className:"h-3 w-3"}),className:"bg-success text-success-foreground hover:bg-success/80 shadow-lg border-2 border-background",label:"View Results"};switch(e){case"completed":return{icon:a.jsx(to,{className:"h-3 w-3"}),className:"bg-success text-success-foreground hover:bg-success/80 shadow-lg border-2 border-background",label:"View Results"};case"error":return{icon:a.jsx(Av,{className:"h-3 w-3"}),className:"bg-destructive text-destructive-foreground hover:bg-destructive/80 shadow-lg border-2 border-background",label:"View Error"};case"running":return{icon:a.jsx(dr,{className:"h-3 w-3 animate-spin"}),className:"bg-warning text-warning-foreground animate-pulse shadow-lg border-2 border-background",label:"Processing..."};default:return null}})();return i?(console.log(" [ExecutionNotification] WILL RENDER BADGE",{label:i.label,status:e,hasResult:t,className:i.className}),a.jsx("div",{className:"execution-notification pointer-events-auto","data-execution-notification":"true","data-testid":"execution-notification","aria-label":i.label,onClick:l=>{console.log(" [ExecutionNotification] CLICKED!",{status:e,hasResult:t}),l.stopPropagation(),n==null||n()},style:{position:"absolute",top:"-8px",right:"-8px",zIndex:99999,pointerEvents:"auto"},children:a.jsx(He,{className:`cursor-pointer transition-colors duration-200 min-w-[24px] min-h-[24px] flex items-center justify-center ring-1 ring-background/40 drop-shadow ${i.className}`,title:i.label,children:i.icon})})):(console.warn(" [ExecutionNotification] NO CONFIG FOR STATUS",{status:e,hasResult:t}),null)};function hc(e,[t,n]){return Math.min(n,Math.max(t,e))}function Q7(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var zy="ScrollArea",[zT,GY]=Gn(zy),[J7,Kn]=zT(zy),UT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=p.useState(null),[u,f]=p.useState(null),[h,d]=p.useState(null),[m,y]=p.useState(null),[g,b]=p.useState(null),[v,w]=p.useState(0),[x,S]=p.useState(0),[C,N]=p.useState(!1),[j,T]=p.useState(!1),_=Ee(t,E=>c(E)),P=Oa(s);return a.jsx(J7,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:d,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:S,children:a.jsx(ye.div,{dir:P,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});UT.displayName=zy;var BT="ScrollAreaViewport",HT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,l=Kn(BT,n),c=p.useRef(null),u=Ee(t,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:lV({asChild:s,children:r},f=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});HT.displayName=BT;var Lr="ScrollAreaScrollbar",Uy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Lr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(Z7,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(eV,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(WT,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(By,{...r,ref:t}):null});Uy.displayName=Lr;var Z7=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Lr,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(ln,{present:n||o,children:a.jsx(WT,{"data-state":o?"visible":"hidden",...r,ref:t})})}),eV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Lr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=hh(()=>c("SCROLL_END"),100),[l,c]=Q7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,f=o?"scrollLeft":"scrollTop";if(u){let h=u[f];const d=()=>{const m=u[f];h!==m&&(c("SCROLL"),i()),h=m};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[s.viewport,o,c,i]),a.jsx(ln,{present:n||l!=="hidden",children:a.jsx(By,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WT=p.forwardRef((e,t)=>{const n=Kn(Lr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=p.useState(!1),l=e.orientation==="horizontal",c=hh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:f)}},10);return Na(n.viewport,c),Na(n.content,c),a.jsx(ln,{present:r||o,children:a.jsx(By,{"data-state":o?"visible":"hidden",...s,ref:t})})}),By=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Kn(Lr,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=YT(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:d=>i.current=d};function h(d,m){return iV(d,i.current,l,m)}return n==="horizontal"?a.jsx(tV,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const d=s.viewport.scrollLeft,m=Xb(d,l,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:d=>{s.viewport&&(s.viewport.scrollLeft=d)},onDragScroll:d=>{s.viewport&&(s.viewport.scrollLeft=h(d,s.dir))}}):n==="vertical"?a.jsx(nV,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const d=s.viewport.scrollTop,m=Xb(d,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:d=>{s.viewport&&(s.viewport.scrollTop=d)},onDragScroll:d=>{s.viewport&&(s.viewport.scrollTop=h(d))}}):null}),tV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Kn(Lr,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=Ee(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(qT,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const d=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(d),QT(d,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:lf(i.paddingLeft),paddingEnd:lf(i.paddingRight)}})}})}),nV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Kn(Lr,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=Ee(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(qT,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const d=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(d),QT(d,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:lf(i.paddingTop),paddingEnd:lf(i.paddingBottom)}})}})}),[rV,VT]=zT(Lr),qT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...d}=e,m=Kn(Lr,n),[y,g]=p.useState(null),b=Ee(t,_=>g(_)),v=p.useRef(null),w=p.useRef(""),x=m.viewport,S=r.content-r.viewport,C=Qe(f),N=Qe(c),j=hh(h,10);function T(_){if(v.current){const P=_.clientX-v.current.left,E=_.clientY-v.current.top;u({x:P,y:E})}}return p.useEffect(()=>{const _=P=>{const E=P.target;(y==null?void 0:y.contains(E))&&C(P,S)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[x,y,S,C]),p.useEffect(N,[r,N]),Na(y,j),Na(m.content,j),a.jsx(rV,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Qe(o),onThumbPointerUp:Qe(i),onThumbPositionChange:N,onThumbPointerDown:Qe(l),children:a.jsx(ye.div,{...d,ref:b,style:{position:"absolute",...d.style},onPointerDown:Z(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(_))}),onPointerMove:Z(e.onPointerMove,T),onPointerUp:Z(e.onPointerUp,_=>{const P=_.target;P.hasPointerCapture(_.pointerId)&&P.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),af="ScrollAreaThumb",GT=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=VT(af,e.__scopeScrollArea);return a.jsx(ln,{present:n||s.hasThumb,children:a.jsx(sV,{ref:t,...r})})}),sV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Kn(af,n),i=VT(af,n),{onThumbPositionChange:l}=i,c=Ee(t,h=>i.onThumbChange(h)),u=p.useRef(),f=hh(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const d=()=>{if(f(),!u.current){const m=aV(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[o.viewport,f,l]),a.jsx(ye.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,g=h.clientY-m.top;i.onThumbPointerDown({x:y,y:g})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});GT.displayName=af;var Hy="ScrollAreaCorner",KT=p.forwardRef((e,t)=>{const n=Kn(Hy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(oV,{...e,ref:t}):null});KT.displayName=Hy;var oV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Kn(Hy,n),[o,i]=p.useState(0),[l,c]=p.useState(0),u=!!(o&&l);return Na(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Na(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?a.jsx(ye.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lf(e){return e?parseInt(e,10):0}function YT(e,t){const n=e/t;return isNaN(n)?0:n}function fh(e){const t=YT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function iV(e,t,n,r="ltr"){const s=fh(n),o=s/2,i=t||o,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return XT([c,u],h)(e)}function Xb(e,t,n="ltr"){const r=fh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=hc(e,c);return XT([0,i],[0,l])(u)}function XT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function QT(e,t){return e>0&&e<t}var aV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hh(e,t){const n=Qe(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Na(e,t){const n=Qe(t);Pt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function lV(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var JT=UT,cV=HT,uV=KT;const zs=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(JT,{ref:r,className:ge("relative overflow-hidden",e),...n,children:[a.jsx(cV,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ZT,{}),a.jsx(uV,{})]}));zs.displayName=JT.displayName;const ZT=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(Uy,{ref:r,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(GT,{className:"relative flex-1 rounded-full bg-border"})}));ZT.displayName=Uy.displayName;var Wy="Tabs",[dV,KY]=Gn(Wy,[Uf]),e2=Uf(),[fV,Vy]=dV(Wy),t2=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Oa(l),[h,d]=rs({prop:r,onChange:s,defaultProp:o});return a.jsx(fV,{scope:n,baseId:Ar(),value:h,onValueChange:d,orientation:i,dir:f,activationMode:c,children:a.jsx(ye.div,{dir:f,"data-orientation":i,...u,ref:t})})});t2.displayName=Wy;var n2="TabsList",r2=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Vy(n2,n),i=e2(n);return a.jsx(Ij,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ye.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});r2.displayName=n2;var s2="TabsTrigger",o2=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Vy(s2,n),l=e2(n),c=l2(i.baseId,r),u=c2(i.baseId,r),f=r===i.value;return a.jsx($j,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(ye.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:Z(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Z(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Z(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(r)})})})});o2.displayName=s2;var i2="TabsContent",a2=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Vy(i2,n),c=l2(l.baseId,r),u=c2(l.baseId,r),f=r===l.value,h=p.useRef(f);return p.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),a.jsx(ln,{present:s||f,children:({present:d})=>a.jsx(ye.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!d,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:d&&o})})});a2.displayName=i2;function l2(e,t){return`${e}-trigger-${t}`}function c2(e,t){return`${e}-content-${t}`}var hV=t2,u2=r2,d2=o2,f2=a2;const qy=hV,ph=p.forwardRef(({className:e,...t},n)=>a.jsx(u2,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ph.displayName=u2.displayName;const Yr=p.forwardRef(({className:e,...t},n)=>a.jsx(d2,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Yr.displayName=d2.displayName;const Xr=p.forwardRef(({className:e,...t},n)=>a.jsx(f2,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xr.displayName=f2.displayName;const Yn=({open:e,onOpenChange:t,result:n,nodeName:r,nodeConfig:s,isWebhookTrigger:o=!1})=>{var j,T,_,P;const[i,l]=p.useState(""),{toast:c}=Sn();if(!n)return null;const u=n.status||(n.result||n.output||n.data?"completed":n.error?"error":"completed"),f=()=>{switch(u){case"completed":return a.jsx(to,{className:"h-4 w-4 text-green-600"});case"error":return a.jsx(Av,{className:"h-4 w-4 text-red-600"});case"running":return a.jsx(dr,{className:"h-4 w-4 text-blue-600"});default:return a.jsx(to,{className:"h-4 w-4 text-green-600"})}},h=()=>{switch(u){case"completed":return a.jsx(He,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Completed"});case"error":return a.jsx(He,{variant:"destructive",children:"Error"});case"running":return a.jsx(He,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Running"});default:return a.jsx(He,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Completed"})}},d=E=>{if(!E)return null;try{return(typeof E=="string"?new Date(E):E).toLocaleString()}catch{return E.toString()}},m=(E,M)=>{navigator.clipboard.writeText(E).then(()=>{c({title:"Copied!",description:`${M} copied to clipboard`})})},y=(E,M)=>{const k=`{{${v()}.${E}}}`;navigator.clipboard.writeText(k).then(()=>{c({title:"Parameter Copied!",description:`${k} copied to clipboard`})})},g=({data:E,nodeName:M,path:O,level:k})=>{const[D,I]=p.useState(k<2);if(E===null)return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground italic",children:"null"}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]});if(typeof E=="string")return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-green-600 font-mono",children:['"',E,'"']}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]});if(typeof E=="number")return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-600 font-mono",children:E}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]});if(typeof E=="boolean")return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-purple-600 font-mono",children:E.toString()}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]});if(Array.isArray(E))return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-muted/50",onClick:()=>I(!D),children:D?a.jsx(Kl,{className:"h-3 w-3"}):a.jsx(eo,{className:"h-3 w-3"})}),a.jsxs("span",{className:"text-muted-foreground font-mono",children:["[",E.length," items]"]}),O&&a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]}),D&&a.jsx("div",{className:"ml-6 space-y-1 border-l border-muted pl-4",children:E.map(($,A)=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs("span",{className:"text-muted-foreground text-xs mt-1 font-mono",children:["[",A,"]"]}),a.jsx("div",{className:"flex-1",children:a.jsx(g,{data:$,nodeName:M,path:O?`${O}[${A}]`:`[${A}]`,level:k+1})})]},A))})]});if(typeof E=="object"){const $=Object.entries(E);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-muted/50",onClick:()=>I(!D),children:D?a.jsx(Kl,{className:"h-3 w-3"}):a.jsx(eo,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-muted-foreground font-mono",children:`{${$.length} properties}`}),O&&a.jsx(Y,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-60 hover:opacity-100",onClick:()=>y(O),title:`Copy: {{${v()}.${O}}}`,children:a.jsx(pn,{className:"h-3 w-3"})})]}),D&&a.jsx("div",{className:"ml-6 space-y-1 border-l border-muted pl-4",children:$.map(([A,R])=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs("span",{className:"text-blue-800 font-medium text-sm mt-1 font-mono",children:['"',A,'":']}),a.jsx("div",{className:"flex-1",children:a.jsx(g,{data:R,nodeName:M,path:O?`${O}.${A}`:A,level:k+1})})]},A))})]})}return a.jsx("span",{className:"font-mono",children:String(E)})},b=(E,M)=>{try{const O=JSON.parse(E);return a.jsx(g,{data:O,nodeName:M,path:"",level:0})}catch{return a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:E})}},v=()=>{if(r.toLowerCase().includes("gpt")){const E=r.match(/(\d+)/);return`GPT ${E?E[1]:"1"}`}else if(r.toLowerCase().includes("http")){const E=r.match(/(\d+)/);return`HTTP ${E?E[1]:"1"}`}else if(r.toLowerCase().includes("image")){const E=r.match(/(\d+)/);return`Image ${E?E[1]:"1"}`}else if(r.toLowerCase().includes("trigger")){const E=r.match(/(\d+)/);return`Trigger ${E?E[1]:"1"}`}else{const E=r.match(/^(.+?)\s*(\d+)?$/);if(E){const M=E[1].trim(),O=E[2]||"1";return`${M} ${O}`}return r}},w=()=>s?JSON.stringify(s,null,2):"No input configuration available",x=()=>{if(o){console.log(" Full webhook result for debugging:",n);const E=$=>{if(!$||typeof $!="object")return null;const A={},R=Object.keys($);for(const z of R)z.match(/^(prompt|image_size)\d+$/)&&(A[z]=$[z]);return Object.keys(A).length>0?A:null},M=E(n);if(M)return console.log(" Found webhook payload directly in result:",M),JSON.stringify(M,null,2);if(n!=null&&n.request_body){const $=E(n.request_body);if($)return console.log(" Found webhook payload in request_body:",$),JSON.stringify($,null,2);if(typeof n.request_body=="object"&&Object.keys(n.request_body).length>0)return console.log(" Showing full request_body:",n.request_body),JSON.stringify(n.request_body,null,2)}const O=($,A="")=>{if(!$||typeof $!="object")return null;const R=E($);if(R)return console.log(` Found webhook payload at ${A}:`,R),R;for(const[z,L]of Object.entries($))if(typeof L=="object"&&L!==null){const U=O(L,A?`${A}.${z}`:z);if(U)return U}return null},k=O(n);if(k)return JSON.stringify(k,null,2);const D=$=>{if(!$||typeof $!="object")return null;const A=Object.keys($);if(A.length>2&&A.some(R=>typeof $[R]=="string"))return $;for(const R of Object.values($))if(typeof R=="object"&&R!==null){const z=D(R);if(z)return z}return null},I=D(n);return I?(console.log(" Found relevant webhook object:",I),JSON.stringify(I,null,2)):(console.log(" No specific webhook payload found, showing full result"),JSON.stringify(n,null,2))}if(r.toLowerCase().includes("http")){if(console.log(" HTTP result found:",n),(n==null?void 0:n.body)!==void 0&&(n==null?void 0:n.body)!==null)return typeof n.body=="string"?(console.log(" Found string body response:",n.body),n.body):typeof n.body=="object"?(console.log(" Found object body response:",n.body),JSON.stringify(n.body,null,2)):String(n.body);if((n==null?void 0:n.response)!==void 0&&(n==null?void 0:n.response)!==null){if(typeof n.response=="string")return console.log(" Found string response:",n.response),n.response;try{const M=typeof n.response=="string"?JSON.parse(n.response):n.response;return JSON.stringify(M,null,2)}catch{return String(n.response)}}if(n!=null&&n.http_response)return JSON.stringify(n.http_response,null,2);const E=typeof(n==null?void 0:n.status)=="string"?parseInt(n.status):n==null?void 0:n.status;return(n==null?void 0:n.success)!==!1&&E&&E>=200&&E<300?"No response body":(n==null?void 0:n.success)===!1||n!=null&&n.http_error?(n==null?void 0:n.error)||(n==null?void 0:n.http_error)||"HTTP request failed":(console.log(" No specific response found, showing full result:",n),JSON.stringify(n,null,2))}return n!=null&&n.gpt_response?(console.log(" GPT response found:",n.gpt_response),n.gpt_response):n!=null&&n.result&&typeof n.result=="string"&&r.toLowerCase().includes("gpt")?(console.log(" GPT result found:",n.result),n.result):n!=null&&n.data?JSON.stringify(n.data,null,2):(console.log(" Full result object:",n),JSON.stringify(n,null,2))},S=()=>{var M,O,k;const E={};return r.toLowerCase().includes("http")&&(n!=null&&n.status&&(E.httpStatus=n.status),n!=null&&n.statusText&&(E.statusText=n.statusText),n!=null&&n.headers&&(E.responseHeaders=n.headers),(M=n==null?void 0:n.config)!=null&&M.url&&(E.requestUrl=n.config.url),(O=n==null?void 0:n.config)!=null&&O.method&&(E.requestMethod=n.config.method),(k=n==null?void 0:n.config)!=null&&k.headers&&(E.requestHeaders=n.config.headers)),n!=null&&n.usage&&(E.usage=n.usage),(n!=null&&n.model||n!=null&&n.gpt_model)&&(E.model=n.model||n.gpt_model),(n!=null&&n.duration||n!=null&&n.executionTime)&&(E.executionTime=n.duration||n.executionTime),n!=null&&n.statusCode&&(E.statusCode=n.statusCode),n!=null&&n.headers&&!E.responseHeaders&&(E.headers=n.headers),n!=null&&n.timestamp&&(E.timestamp=n.timestamp),Object.keys(E).length>0?JSON.stringify(E,null,2):"No log data available"},C=()=>{var E;if(r.toLowerCase().includes("http")&&(n!=null&&n.error||n!=null&&n.http_error)){const M={};return n.error&&(M.error=n.error),n.http_error&&(M.httpError=n.http_error),n.status&&(M.statusCode=n.status),n.statusText&&(M.statusText=n.statusText),(E=n.config)!=null&&E.url&&(M.requestUrl=n.config.url),JSON.stringify(M,null,2)}return n!=null&&n.error?typeof n.error=="string"?n.error:JSON.stringify(n.error,null,2):u==="error"?"An error occurred but no details are available":"No errors"},N=E=>E;return a.jsx(Jt,{open:e,onOpenChange:E=>{t(E||!1)},children:a.jsxs(Ut,{className:"max-w-2xl max-h-[80vh] z-[200]",onPointerDownOutside:E=>{E.preventDefault(),E.stopPropagation()},onEscapeKeyDown:E=>{E.preventDefault(),E.stopPropagation(),t(!1)},onInteractOutside:E=>{E.preventDefault(),E.stopPropagation()},children:[a.jsx(Zt,{children:a.jsxs(Bt,{className:"flex items-center gap-2",children:[f(),r," - Execution Results"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[h(),n.timestamp&&a.jsx("span",{className:"text-sm text-muted-foreground",children:d(n.timestamp)})]}),(n.model||n.gpt_model||n.duration||n.tokens_used||n.executionTime||n.usage)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:"Execution Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(n.model||n.gpt_model)&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Model:"}),a.jsx(He,{variant:"outline",className:"ml-2",children:n.model||n.gpt_model})]}),(n.duration||n.executionTime)&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),a.jsxs("span",{className:"ml-2",children:[n.duration||n.executionTime,"s"]})]}),(n.tokens_used||((j=n.usage)==null?void 0:j.total_tokens))&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Tokens Used:"}),a.jsx("span",{className:"ml-2",children:n.tokens_used||((T=n.usage)==null?void 0:T.total_tokens)})]}),((_=n.usage)==null?void 0:_.prompt_tokens)&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Prompt Tokens:"}),a.jsx("span",{className:"ml-2",children:n.usage.prompt_tokens})]}),((P=n.usage)==null?void 0:P.completion_tokens)&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Response Tokens:"}),a.jsx("span",{className:"ml-2",children:n.usage.completion_tokens})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ae,{placeholder:"Search in messages...",value:i,onChange:E=>l(E.target.value),className:"flex-1"})}),a.jsxs(qy,{defaultValue:o?"output":"input",className:"w-full",children:[a.jsxs(ph,{className:`grid w-full ${o?"grid-cols-3":"grid-cols-4"}`,onClick:E=>E.stopPropagation(),children:[!o&&a.jsx(Yr,{value:"input",onClick:E=>E.stopPropagation(),children:"Input"}),a.jsx(Yr,{value:"output",onClick:E=>E.stopPropagation(),children:"Output"}),a.jsx(Yr,{value:"log",onClick:E=>E.stopPropagation(),children:"Log"}),a.jsx(Yr,{value:"error",onClick:E=>E.stopPropagation(),children:"Error"})]}),a.jsxs(Xr,{value:"input",className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Configuration"}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>m(w(),"Input configuration"),children:a.jsx(pn,{className:"h-4 w-4"})})]}),a.jsx(zs,{className:"h-64 border rounded p-3 bg-muted/50",children:a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:N(w())})})]}),a.jsxs(Xr,{value:"output",className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:o?"Received Data":"Result"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Click any parameter to copy"}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>m(x(),o?"Received data":"Output result"),children:a.jsx(pn,{className:"h-4 w-4"})})]})]}),a.jsx(zs,{className:"h-64 border rounded p-3 bg-muted/50",children:a.jsx("div",{className:"text-xs",children:b(x(),v())})})]}),a.jsxs(Xr,{value:"log",className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Execution Log"}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>m(S(),"Log data"),children:a.jsx(pn,{className:"h-4 w-4"})})]}),a.jsx(zs,{className:"h-64 border rounded p-3 bg-muted/50",children:a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:N(S())})})]}),a.jsxs(Xr,{value:"error",className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Error Details"}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>m(C(),"Error details"),children:a.jsx(pn,{className:"h-4 w-4"})})]}),a.jsx(zs,{className:"h-64 border rounded p-3 bg-muted/50",children:a.jsx("pre",{className:`text-xs whitespace-pre-wrap font-mono ${u==="error"?"text-destructive":""}`,children:N(C())})})]})]})]})]})})},Gy=p.memo(({data:e,id:t})=>{const[n,r]=p.useState(e.config||{}),[s,o]=p.useState(!1),{toast:i}=Sn();console.log("GPTTaskNode data:",{status:e.status,hasResult:!!(e.executionResult&&e.hasCompletedExecution),executionResult:e.executionResult,hasCompletedExecution:e.hasCompletedExecution}),p.useEffect(()=>{const c=xe.channel(`gpt-task-${t}-execution`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},u=>{var f;if(console.log(` GPT Task ${t} received execution update:`,u),u.eventType==="INSERT"||u.eventType==="UPDATE"){const h=u.new,d=h.executed_nodes||[],m=h.current_node_id,y=h.status,g=(f=h.result_data)==null?void 0:f.nodeResults,b=d.includes(t),v=m===t,w=g&&g[t];if(console.log(` GPT Task ${t}: isExecuted=${b}, isCurrent=${v}, hasResult=${!!w}, status=${y}`),e.onNodeUpdate){let x=e.status||"idle";if(console.log(` FORCE COMPLETE DEBUG ${t}: workflow status=${y}, current node status=${e.status}, isExecuted=${b}, isCurrent=${v}`),y==="running"&&v)x="running",i({title:"GPT Task Started",description:`${e.label} is now processing...`});else if(y==="completed"||y==="success")x="completed",console.log(` FORCING NODE ${t} TO COMPLETED - workflow finished with status: ${y}`),b&&i({title:"GPT Task Completed",description:`${e.label} finished processing`});else if(y==="failed"){const C=h.error_details;C&&C.failed_node_id===t?(x="error",i({title:"GPT Task Failed",description:`${e.label}: ${C.error_message}`,variant:"destructive"})):(b||v)&&(x="error",i({title:"GPT Task Failed",description:`${e.label} encountered an error`,variant:"destructive"}))}(x!==e.status||w&&!e.hasResult||w&&!e.executionResult||y==="completed"||y==="success")&&(console.log(` FORCING UPDATE GPT Task ${t} status: ${e.status} -> ${x}`,{hasResult:!!w,nodeResults:w?g[t]:null,isExecuted:b,workflowStatus:y,forceComplete:y==="completed"||y==="success"}),e.onNodeUpdate(t,{status:x,hasResult:!!w,executionResult:w?g[t]:e.executionResult,hasCompletedExecution:y==="completed"||y==="success"}))}}}).subscribe((u,f)=>{console.log(` GPT Task ${t} execution subscription status:`,u,f)});return()=>{console.log(` Cleaning up GPT Task ${t} execution subscription`),xe.removeChannel(c)}},[t,e.label,e.onNodeUpdate,e.status,e.hasResult,i]);const l=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-primary/30"}};return a.jsx(a.Fragment,{children:a.jsxs(mt,{className:`min-w-[220px] bg-gradient-accent shadow-card relative ${l()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:a.jsx(V$,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsx("div",{className:"flex items-center gap-1",children:e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":e.status==="error"?"destructive":"secondary",className:"text-xs",children:e.status==="error"?" ERROR":e.status})})]})}),a.jsx(Tt,{className:"p-3 pt-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Model: ",n.model||"gpt-4o-mini"]}),n.max_tokens&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Max tokens: ",n.max_tokens]}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n.prompt?n.prompt.substring(0,40)+"...":"No prompt configured"})]})}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-primary border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-primary border-2 border-background"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),(()=>{const c=!!e.executionResult,u=e.status&&e.status!=="idle";return console.log(` ExecutionNotification debug for ${e.label}:`,{hasResult:c,hasStatus:u,executionResult:e.executionResult,hasCompletedExecution:e.hasCompletedExecution,hasResultProp:e.hasResult,status:e.status,shouldShow:u||c}),a.jsx(ii,{status:e.status,hasResult:c,onClick:()=>o(!0)})})(),a.jsx(Yn,{open:s,onOpenChange:o,result:e.executionResult,nodeName:e.label||"GPT Task",nodeConfig:n})]})})});Gy.displayName="GPTTaskNode";function Ky(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pV=[" ","Enter","ArrowUp","ArrowDown"],mV=[" ","Enter"],zc="Select",[mh,gh,gV]=Sc(zc),[Fa,YY]=Gn(zc,[gV,Ia]),vh=Ia(),[vV,po]=Fa(zc),[yV,xV]=Fa(zc),h2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:d,required:m,form:y}=e,g=vh(t),[b,v]=p.useState(null),[w,x]=p.useState(null),[S,C]=p.useState(!1),N=Oa(u),[j=!1,T]=rs({prop:r,defaultProp:s,onChange:o}),[_,P]=rs({prop:i,defaultProp:l,onChange:c}),E=p.useRef(null),M=b?y||!!b.closest("form"):!0,[O,k]=p.useState(new Set),D=Array.from(O).map(I=>I.props.value).join(";");return a.jsx(ZC,{...g,children:a.jsxs(vV,{required:m,scope:t,trigger:b,onTriggerChange:v,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Ar(),value:_,onValueChange:P,open:j,onOpenChange:T,dir:N,triggerPointerDownPosRef:E,disabled:d,children:[a.jsx(mh.Provider,{scope:t,children:a.jsx(yV,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(I=>{k($=>new Set($).add(I))},[]),onNativeOptionRemove:p.useCallback(I=>{k($=>{const A=new Set($);return A.delete(I),A})},[]),children:n})}),M?a.jsxs(L2,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:h,value:_,onChange:I=>P(I.target.value),disabled:d,form:y,children:[_===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},D):null]})})};h2.displayName=zc;var p2="SelectTrigger",m2=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=vh(n),i=po(p2,n),l=i.disabled||r,c=Ee(t,i.onTriggerChange),u=gh(n),f=p.useRef("touch"),[h,d,m]=F2(g=>{const b=u().filter(x=>!x.disabled),v=b.find(x=>x.value===i.value),w=z2(b,g,v);w!==void 0&&i.onValueChange(w.value)}),y=g=>{l||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Yv,{asChild:!0,...o,children:a.jsx(ye.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":D2(i.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&y(g)}),onPointerDown:Z(s.onPointerDown,g=>{f.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Z(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(b&&g.key===" ")&&pV.includes(g.key)&&(y(),g.preventDefault())})})})});m2.displayName=p2;var g2="SelectValue",v2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=po(g2,n),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,h=Ee(t,c.onValueNodeChange);return Pt(()=>{u(f)},[u,f]),a.jsx(ye.span,{...l,ref:h,style:{pointerEvents:"none"},children:D2(c.value)?a.jsx(a.Fragment,{children:i}):o})});v2.displayName=g2;var wV="SelectIcon",y2=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(ye.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});y2.displayName=wV;var bV="SelectPortal",x2=e=>a.jsx(Nc,{asChild:!0,...e});x2.displayName=bV;var Qo="SelectContent",w2=p.forwardRef((e,t)=>{const n=po(Qo,e.__scopeSelect),[r,s]=p.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?cs.createPortal(a.jsx(b2,{scope:e.__scopeSelect,children:a.jsx(mh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(S2,{...e,ref:t})});w2.displayName=Qo;var Jn=10,[b2,mo]=Fa(Qo),SV="SelectContentImpl",S2=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:b,...v}=e,w=po(Qo,n),[x,S]=p.useState(null),[C,N]=p.useState(null),j=Ee(t,W=>S(W)),[T,_]=p.useState(null),[P,E]=p.useState(null),M=gh(n),[O,k]=p.useState(!1),D=p.useRef(!1);p.useEffect(()=>{if(x)return Bf(x)},[x]),ry();const I=p.useCallback(W=>{const[Q,...se]=M().map(ae=>ae.ref.current),[de]=se.slice(-1),fe=document.activeElement;for(const ae of W)if(ae===fe||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===Q&&C&&(C.scrollTop=0),ae===de&&C&&(C.scrollTop=C.scrollHeight),ae==null||ae.focus(),document.activeElement!==fe))return},[M,C]),$=p.useCallback(()=>I([T,x]),[I,T,x]);p.useEffect(()=>{O&&$()},[O,$]);const{onOpenChange:A,triggerPointerDownPosRef:R}=w;p.useEffect(()=>{if(x){let W={x:0,y:0};const Q=de=>{var fe,ae;W={x:Math.abs(Math.round(de.pageX)-(((fe=R.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ae=R.current)==null?void 0:ae.y)??0))}},se=de=>{W.x<=10&&W.y<=10?de.preventDefault():x.contains(de.target)||A(!1),document.removeEventListener("pointermove",Q),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",se,{capture:!0})}}},[x,A,R]),p.useEffect(()=>{const W=()=>A(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[A]);const[z,L]=F2(W=>{const Q=M().filter(fe=>!fe.disabled),se=Q.find(fe=>fe.ref.current===document.activeElement),de=z2(Q,W,se);de&&setTimeout(()=>de.ref.current.focus())}),U=p.useCallback((W,Q,se)=>{const de=!D.current&&!se;(w.value!==void 0&&w.value===Q||de)&&(_(W),de&&(D.current=!0))},[w.value]),B=p.useCallback(()=>x==null?void 0:x.focus(),[x]),H=p.useCallback((W,Q,se)=>{const de=!D.current&&!se;(w.value!==void 0&&w.value===Q||de)&&E(W)},[w.value]),ee=r==="popper"?bg:N2,G=ee===bg?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return a.jsx(b2,{scope:n,content:x,viewport:C,onViewportChange:N,itemRefCallback:U,selectedItem:T,onItemLeave:B,itemTextRefCallback:H,focusSelectedItem:$,selectedItemText:P,position:r,isPositioned:O,searchRef:z,children:a.jsx(Wf,{as:Zs,allowPinchZoom:!0,children:a.jsx(Ff,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Z(s,W=>{var Q;(Q=w.trigger)==null||Q.focus({preventScroll:!0}),W.preventDefault()}),children:a.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(ee,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...v,...G,onPlaced:()=>k(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,W=>{const Q=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Q&&W.key.length===1&&L(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let de=M().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const fe=W.target,ae=de.indexOf(fe);de=de.slice(ae+1)}setTimeout(()=>I(de)),W.preventDefault()}})})})})})})});S2.displayName=SV;var NV="SelectItemAlignedPosition",N2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=po(Qo,n),i=mo(Qo,n),[l,c]=p.useState(null),[u,f]=p.useState(null),h=Ee(t,j=>f(j)),d=gh(n),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:w}=i,x=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&b&&v){const j=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),_=o.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(o.dir!=="rtl"){const fe=P.left-T.left,ae=_.left-fe,pe=j.left-ae,ve=j.width+pe,Me=Math.max(ve,T.width),_e=window.innerWidth-Jn,st=hc(ae,[Jn,Math.max(Jn,_e-Me)]);l.style.minWidth=ve+"px",l.style.left=st+"px"}else{const fe=T.right-P.right,ae=window.innerWidth-_.right-fe,pe=window.innerWidth-j.right-ae,ve=j.width+pe,Me=Math.max(ve,T.width),_e=window.innerWidth-Jn,st=hc(ae,[Jn,Math.max(Jn,_e-Me)]);l.style.minWidth=ve+"px",l.style.right=st+"px"}const E=d(),M=window.innerHeight-Jn*2,O=g.scrollHeight,k=window.getComputedStyle(u),D=parseInt(k.borderTopWidth,10),I=parseInt(k.paddingTop,10),$=parseInt(k.borderBottomWidth,10),A=parseInt(k.paddingBottom,10),R=D+I+O+A+$,z=Math.min(b.offsetHeight*5,R),L=window.getComputedStyle(g),U=parseInt(L.paddingTop,10),B=parseInt(L.paddingBottom,10),H=j.top+j.height/2-Jn,ee=M-H,G=b.offsetHeight/2,W=b.offsetTop+G,Q=D+I+W,se=R-Q;if(Q<=H){const fe=E.length>0&&b===E[E.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(ee,G+(fe?B:0)+ae+$),ve=Q+pe;l.style.height=ve+"px"}else{const fe=E.length>0&&b===E[0].ref.current;l.style.top="0px";const pe=Math.max(H,D+g.offsetTop+(fe?U:0)+G)+se;l.style.height=pe+"px",g.scrollTop=Q-H+g.offsetTop}l.style.margin=`${Jn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[d,o.trigger,o.valueNode,l,u,g,b,v,o.dir,r]);Pt(()=>x(),[x]);const[S,C]=p.useState();Pt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const N=p.useCallback(j=>{j&&y.current===!0&&(x(),w==null||w(),y.current=!1)},[x,w]);return a.jsx(jV,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(ye.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});N2.displayName=NV;var CV="SelectPopperPosition",bg=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Jn,...o}=e,i=vh(n);return a.jsx(Xv,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bg.displayName=CV;var[jV,Yy]=Fa(Qo,{}),Sg="SelectViewport",C2=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=mo(Sg,n),i=Yy(Sg,n),l=Ee(t,o.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(mh.Slot,{scope:n,children:a.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&h){const m=Math.abs(c.current-f.scrollTop);if(m>0){const y=window.innerHeight-Jn*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(g,b);if(v<y){const w=v+m,x=Math.min(y,w),S=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});C2.displayName=Sg;var j2="SelectGroup",[kV,_V]=Fa(j2),EV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ar();return a.jsx(kV,{scope:n,id:s,children:a.jsx(ye.div,{role:"group","aria-labelledby":s,...r,ref:t})})});EV.displayName=j2;var k2="SelectLabel",_2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_V(k2,n);return a.jsx(ye.div,{id:s.id,...r,ref:t})});_2.displayName=k2;var cf="SelectItem",[TV,E2]=Fa(cf),T2=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=po(cf,n),c=mo(cf,n),u=l.value===r,[f,h]=p.useState(o??""),[d,m]=p.useState(!1),y=Ee(t,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,r,s)}),g=Ar(),b=p.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(TV,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(w=>{h(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:a.jsx(mh.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:a.jsx(ye.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Z(i.onFocus,()=>m(!0)),onBlur:Z(i.onBlur,()=>m(!1)),onClick:Z(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Z(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Z(i.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:Z(i.onPointerMove,w=>{var x;b.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Z(i.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(mV.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});T2.displayName=cf;var hl="SelectItemText",P2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=po(hl,n),l=mo(hl,n),c=E2(hl,n),u=xV(hl,n),[f,h]=p.useState(null),d=Ee(t,v=>h(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),m=f==null?void 0:f.textContent,y=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Pt(()=>(g(y),()=>b(y)),[g,b,y]),a.jsxs(a.Fragment,{children:[a.jsx(ye.span,{id:c.textId,...o,ref:d}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?cs.createPortal(o.children,i.valueNode):null]})});P2.displayName=hl;var R2="SelectItemIndicator",A2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return E2(R2,n).isSelected?a.jsx(ye.span,{"aria-hidden":!0,...r,ref:t}):null});A2.displayName=R2;var Ng="SelectScrollUpButton",M2=p.forwardRef((e,t)=>{const n=mo(Ng,e.__scopeSelect),r=Yy(Ng,e.__scopeSelect),[s,o]=p.useState(!1),i=Ee(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx($2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});M2.displayName=Ng;var Cg="SelectScrollDownButton",I2=p.forwardRef((e,t)=>{const n=mo(Cg,e.__scopeSelect),r=Yy(Cg,e.__scopeSelect),[s,o]=p.useState(!1),i=Ee(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx($2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});I2.displayName=Cg;var $2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=mo("SelectScrollButton",n),i=p.useRef(null),l=gh(n),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Pt(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(ye.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),PV="SelectSeparator",O2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ye.div,{"aria-hidden":!0,...r,ref:t})});O2.displayName=PV;var jg="SelectArrow",RV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vh(n),o=po(jg,n),i=mo(jg,n);return o.open&&i.position==="popper"?a.jsx(Qv,{...s,...r,ref:t}):null});RV.displayName=jg;function D2(e){return e===""||e===void 0}var L2=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p.useRef(null),o=Ee(t,s),i=Ky(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[i,n]),a.jsx(Cc,{asChild:!0,children:a.jsx("select",{...r,ref:o,defaultValue:n})})});L2.displayName="BubbleSelect";function F2(e){const t=Qe(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function z2(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=AV(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function AV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MV=h2,U2=m2,IV=v2,$V=y2,OV=x2,B2=w2,DV=C2,H2=_2,W2=T2,LV=P2,FV=A2,V2=M2,q2=I2,G2=O2;const kt=MV,_t=IV,vt=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(U2,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx($V,{asChild:!0,children:a.jsx(Kl,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=U2.displayName;const K2=p.forwardRef(({className:e,...t},n)=>a.jsx(V2,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($$,{className:"h-4 w-4"})}));K2.displayName=V2.displayName;const Y2=p.forwardRef(({className:e,...t},n)=>a.jsx(q2,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Kl,{className:"h-4 w-4"})}));Y2.displayName=q2.displayName;const yt=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(OV,{children:a.jsxs(B2,{ref:s,className:ge("relative z-[100] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(K2,{}),a.jsx(DV,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Y2,{})]})}));yt.displayName=B2.displayName;const zV=p.forwardRef(({className:e,...t},n)=>a.jsx(H2,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zV.displayName=H2.displayName;const re=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(W2,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(FV,{children:a.jsx(Rv,{className:"h-4 w-4"})})}),a.jsx(LV,{children:t})]}));re.displayName=W2.displayName;const UV=p.forwardRef(({className:e,...t},n)=>a.jsx(G2,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));UV.displayName=G2.displayName;function Xs(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function X2(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Qb(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Qb(e[s],null)}}}}function go(...e){return p.useCallback(X2(...e),e)}function Q2(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];const u=h=>{var v;const{scope:d,children:m,...y}=h,g=((v=d==null?void 0:d[e])==null?void 0:v[c])||l,b=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:b,children:m})};u.displayName=o+"Provider";function f(h,d){var g;const m=((g=d==null?void 0:d[e])==null?void 0:g[c])||l,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,BV(s,...t)]}function BV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function J2(e){const t=HV(e),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,l=p.Children.toArray(o),c=l.find(VV);if(c){const u=c.props.children,f=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,f):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function HV(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=GV(s),l=qV(o,s.props);return s.type!==p.Fragment&&(l.ref=r?X2(r,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WV=Symbol("radix.slottable");function VV(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WV}function qV(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function GV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var KV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ds=KV.reduce((e,t)=>{const n=J2(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YV(e,t){e&&cs.flushSync(()=>e.dispatchEvent(t))}function Ca(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function XV(e,t=globalThis==null?void 0:globalThis.document){const n=Ca(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var QV="DismissableLayer",kg="dismissableLayer.update",JV="dismissableLayer.pointerDownOutside",ZV="dismissableLayer.focusOutside",Jb,Z2=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eP=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(Z2),[f,h]=p.useState(null),d=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=go(t,j=>h(j)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),w=f?g.indexOf(f):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=v,C=nq(j=>{const T=j.target,_=[...u.branches].some(P=>P.contains(T));!S||_||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},d),N=rq(j=>{const T=j.target;[...u.branches].some(P=>P.contains(T))||(o==null||o(j),i==null||i(j),j.defaultPrevented||l==null||l())},d);return XV(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},d),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jb=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Zb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Jb)}},[f,d,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Zb())},[f,u]),p.useEffect(()=>{const j=()=>m({});return document.addEventListener(kg,j),()=>document.removeEventListener(kg,j)},[]),a.jsx(ds.div,{...c,ref:y,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Xs(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Xs(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Xs(e.onPointerDownCapture,C.onPointerDownCapture)})});eP.displayName=QV;var eq="DismissableLayerBranch",tq=p.forwardRef((e,t)=>{const n=p.useContext(Z2),r=p.useRef(null),s=go(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ds.div,{...e,ref:s})});tq.displayName=eq;function nq(e,t=globalThis==null?void 0:globalThis.document){const n=Ca(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){tP(JV,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function rq(e,t=globalThis==null?void 0:globalThis.document){const n=Ca(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&tP(ZV,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zb(){const e=new CustomEvent(kg);document.dispatchEvent(e)}function tP(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?YV(s,o):s.dispatchEvent(o)}var Ap=0;function sq(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e1()),document.body.insertAdjacentElement("beforeend",e[1]??e1()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ap--}},[])}function e1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mp="focusScope.autoFocusOnMount",Ip="focusScope.autoFocusOnUnmount",t1={bubbles:!1,cancelable:!0},oq="FocusScope",nP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=p.useState(null),u=Ca(s),f=Ca(o),h=p.useRef(null),d=go(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(x){if(m.paused||!l)return;const S=x.target;l.contains(S)?h.current=S:js(h.current,{select:!0})},b=function(x){if(m.paused||!l)return;const S=x.relatedTarget;S!==null&&(l.contains(S)||js(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&js(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),w.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){r1.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Mp,t1);l.addEventListener(Mp,u),l.dispatchEvent(v),v.defaultPrevented||(iq(dq(rP(l)),{select:!0}),document.activeElement===g&&js(l))}return()=>{l.removeEventListener(Mp,u),setTimeout(()=>{const v=new CustomEvent(Ip,t1);l.addEventListener(Ip,f),l.dispatchEvent(v),v.defaultPrevented||js(g??document.body,{select:!0}),l.removeEventListener(Ip,f),r1.remove(m)},0)}}},[l,u,f,m]);const y=p.useCallback(g=>{if(!n&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const w=g.currentTarget,[x,S]=aq(w);x&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&js(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&js(S,{select:!0})):v===w&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(ds.div,{tabIndex:-1,...i,ref:d,onKeyDown:y})});nP.displayName=oq;function iq(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(js(r,{select:t}),document.activeElement!==n)return}function aq(e){const t=rP(e),n=n1(t,e),r=n1(t.reverse(),e);return[n,r]}function rP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function n1(e,t){for(const n of e)if(!lq(n,{upTo:t}))return n}function lq(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cq(e){return e instanceof HTMLInputElement&&"select"in e}function js(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cq(e)&&t&&e.select()}}var r1=uq();function uq(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=s1(e,t),e.unshift(t)},remove(t){var n;e=s1(e,t),(n=e[0])==null||n.resume()}}}function s1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dq(e){return e.filter(t=>t.tagName!=="A")}var ao=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},fq=df[" useId ".trim().toString()]||(()=>{}),hq=0;function pq(e){const[t,n]=p.useState(fq());return ao(()=>{e||n(r=>r??String(hq++))},[e]),e||(t?`radix-${t}`:"")}var mq="Arrow",sP=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(ds.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});sP.displayName=mq;var gq=sP;function vq(e){const[t,n]=p.useState(void 0);return ao(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Xy="Popper",[oP,iP]=Q2(Xy),[yq,aP]=oP(Xy),lP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return a.jsx(yq,{scope:t,anchor:r,onAnchorChange:s,children:n})};lP.displayName=Xy;var cP="PopperAnchor",uP=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=aP(cP,n),i=p.useRef(null),l=go(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ds.div,{...s,ref:l})});uP.displayName=cP;var Qy="PopperContent",[xq,wq]=oP(Qy),dP=p.forwardRef((e,t)=>{var W,Q,se,de,fe,ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,b=aP(Qy,n),[v,w]=p.useState(null),x=go(t,pe=>w(pe)),[S,C]=p.useState(null),N=vq(S),j=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,_=r+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(u)?u:[u],M=E.length>0,O={padding:P,boundary:E.filter(Sq),altBoundary:M},{refs:k,floatingStyles:D,placement:I,isPositioned:$,middlewareData:A}=$C({strategy:"fixed",placement:_,whileElementsMounted:(...pe)=>MC(...pe,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[OC({mainAxis:s+T,alignmentAxis:i}),c&&DC({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?LC():void 0,...O}),c&&FC({...O}),zC({...O,apply:({elements:pe,rects:ve,availableWidth:Me,availableHeight:_e})=>{const{width:st,height:Se}=ve.reference,Ce=pe.floating.style;Ce.setProperty("--radix-popper-available-width",`${Me}px`),Ce.setProperty("--radix-popper-available-height",`${_e}px`),Ce.setProperty("--radix-popper-anchor-width",`${st}px`),Ce.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),S&&BC({element:S,padding:l}),Nq({arrowWidth:j,arrowHeight:T}),d&&UC({strategy:"referenceHidden",...O})]}),[R,z]=pP(I),L=Ca(y);ao(()=>{$&&(L==null||L())},[$,L]);const U=(W=A.arrow)==null?void 0:W.x,B=(Q=A.arrow)==null?void 0:Q.y,H=((se=A.arrow)==null?void 0:se.centerOffset)!==0,[ee,G]=p.useState();return ao(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:$?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(de=A.transformOrigin)==null?void 0:de.x,(fe=A.transformOrigin)==null?void 0:fe.y].join(" "),...((ae=A.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(xq,{scope:n,placedSide:R,onArrowChange:C,arrowX:U,arrowY:B,shouldHideArrow:H,children:a.jsx(ds.div,{"data-side":R,"data-align":z,...g,ref:x,style:{...g.style,animation:$?void 0:"none"}})})})});dP.displayName=Qy;var fP="PopperArrow",bq={top:"bottom",right:"left",bottom:"top",left:"right"},hP=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=wq(fP,r),i=bq[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(gq,{...s,ref:n,style:{...s.style,display:"block"}})})});hP.displayName=fP;function Sq(e){return e!==null}var Nq=e=>({name:"transformOrigin",options:e,fn(t){var b,v,w;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=pP(n),h={start:"0%",center:"50%",end:"100%"}[f],d=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?h:`${d}px`,g=`${-c}px`):u==="top"?(y=i?h:`${d}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?h:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=i?h:`${m}px`),{data:{x:y,y:g}}}});function pP(e){const[t,n="center"]=e.split("-");return[t,n]}var Cq=lP,mP=uP,jq=dP,kq=hP,_q="Portal",gP=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);ao(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?kv.createPortal(a.jsx(ds.div,{...r,ref:t}),i):null});gP.displayName=_q;function Eq(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Jy=e=>{const{present:t,children:n}=e,r=Tq(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=go(r.ref,Pq(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Jy.displayName="Presence";function Tq(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Eq(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Iu(r.current);o.current=l==="mounted"?u:"none"},[l]),ao(()=>{const u=r.current,f=s.current;if(f!==e){const d=o.current,m=Iu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&d!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ao(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=m=>{const g=Iu(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},d=m=>{m.target===t&&(o.current=Iu(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Iu(e){return(e==null?void 0:e.animationName)||"none"}function Pq(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rq=df[" useInsertionEffect ".trim().toString()]||ao;function Aq({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Mq({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=p.useCallback(f=>{var h;if(l){const d=Iq(f)?f(e):f;d!==e&&((h=i.current)==null||h.call(i,d))}else o(f)},[l,e,o,i]);return[c,u]}function Mq({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return Rq(()=>{o.current=t},[t]),p.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Iq(e){return typeof e=="function"}var vP=Fj(),$p=function(){},yh=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:$p,onWheelCapture:$p,onTouchMoveCapture:$p}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,d=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,x=e.gapMode,S=sy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=d,N=Lj([n,t]),j=Xt(Xt({},S),s);return p.createElement(p.Fragment,null,f&&p.createElement(C,{sideCar:vP,removeScrollBar:u,shards:h,noRelative:m,noIsolation:y,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?p.cloneElement(p.Children.only(l),Xt(Xt({},j),{ref:N})):p.createElement(w,Xt({},j,{className:c,ref:N}),l))});yh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yh.classNames={fullWidth:jl,zeroRight:Cl};var _g=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return _g=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{_g=!1}var wi=_g?{passive:!1}:!1,$q=function(e){return e.tagName==="TEXTAREA"},yP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$q(e)&&n[t]==="visible")},Oq=function(e){return yP(e,"overflowY")},Dq=function(e){return yP(e,"overflowX")},o1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xP(e,r);if(s){var o=wP(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lq=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Fq=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xP=function(e,t){return e==="v"?Oq(t):Dq(t)},wP=function(e,t){return e==="v"?Lq(t):Fq(t)},zq=function(e,t){return e==="h"&&t==="rtl"?-1:1},Uq=function(e,t,n,r,s){var o=zq(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,f=i>0,h=0,d=0;do{if(!l)break;var m=wP(e,l),y=m[0],g=m[1],b=m[2],v=g-b-o*y;(y||v)&&xP(e,l)&&(h+=v,d+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(d)<1||!s))&&(u=!0),u},Ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i1=function(e){return[e.deltaX,e.deltaY]},a1=function(e){return e&&"current"in e?e.current:e},Bq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Hq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wq=0,bi=[];function Vq(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Wq++)[0],o=p.useState(oy)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Dj([e.lockRef.current],(e.shards||[]).map(a1),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=Ou(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-v[0],S="deltaY"in g?g.deltaY:w[1]-v[1],C,N=g.target,j=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&j==="h"&&N.type==="range")return!1;var T=o1(j,N);if(!T)return!0;if(T?C=j:(C=j==="v"?"h":"v",T=o1(j,N)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=C),!C)return!0;var _=r.current||C;return Uq(_,b,g,_==="h"?x:S,!0)},[]),c=p.useCallback(function(g){var b=g;if(!(!bi.length||bi[bi.length-1]!==o)){var v="deltaY"in b?i1(b):Ou(b),w=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&Bq(C.delta,v)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var x=(i.current.shards||[]).map(a1).filter(Boolean).filter(function(C){return C.contains(b.target)}),S=x.length>0?l(b,x[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(g,b,v,w){var x={name:g,delta:b,target:v,should:w,shadowParent:qq(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),f=p.useCallback(function(g){n.current=Ou(g),r.current=void 0},[]),h=p.useCallback(function(g){u(g.type,i1(g),g.target,l(g,e.lockRef.current))},[]),d=p.useCallback(function(g){u(g.type,Ou(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return bi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",c,wi),document.addEventListener("touchmove",c,wi),document.addEventListener("touchstart",f,wi),function(){bi=bi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,wi),document.removeEventListener("touchmove",c,wi),document.removeEventListener("touchstart",f,wi)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:Hq(s)}):null,m?p.createElement(Hj,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Gq=Uj(vP,Vq);var bP=p.forwardRef(function(e,t){return p.createElement(yh,Xt({},e,{ref:t,sideCar:Gq}))});bP.classNames=yh.classNames;var xh="Popover",[SP,XY]=Q2(xh,[iP]),Uc=iP(),[Kq,vo]=SP(xh),NP=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Uc(t),c=p.useRef(null),[u,f]=p.useState(!1),[h,d]=Aq({prop:r,defaultProp:s??!1,onChange:o,caller:xh});return a.jsx(Cq,{...l,children:a.jsx(Kq,{scope:t,contentId:pq(),triggerRef:c,open:h,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(m=>!m),[d]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>f(!0),[]),onCustomAnchorRemove:p.useCallback(()=>f(!1),[]),modal:i,children:n})})};NP.displayName=xh;var CP="PopoverAnchor",Yq=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(CP,n),o=Uc(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(mP,{...o,...r,ref:t})});Yq.displayName=CP;var jP="PopoverTrigger",kP=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(jP,n),o=Uc(n),i=go(t,s.triggerRef),l=a.jsx(ds.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":RP(s.open),...r,ref:i,onClick:Xs(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(mP,{asChild:!0,...o,children:l})});kP.displayName=jP;var Zy="PopoverPortal",[Xq,Qq]=SP(Zy,{forceMount:void 0}),_P=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=vo(Zy,t);return a.jsx(Xq,{scope:t,forceMount:n,children:a.jsx(Jy,{present:n||o.open,children:a.jsx(gP,{asChild:!0,container:s,children:r})})})};_P.displayName=Zy;var ja="PopoverContent",EP=p.forwardRef((e,t)=>{const n=Qq(ja,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=vo(ja,e.__scopePopover);return a.jsx(Jy,{present:r||o.open,children:o.modal?a.jsx(Zq,{...s,ref:t}):a.jsx(eG,{...s,ref:t})})});EP.displayName=ja;var Jq=J2("PopoverContent.RemoveScroll"),Zq=p.forwardRef((e,t)=>{const n=vo(ja,e.__scopePopover),r=p.useRef(null),s=go(t,r),o=p.useRef(!1);return p.useEffect(()=>{const i=r.current;if(i)return Bf(i)},[]),a.jsx(bP,{as:Jq,allowPinchZoom:!0,children:a.jsx(TP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xs(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Xs(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Xs(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),eG=p.forwardRef((e,t)=>{const n=vo(ja,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(TP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),TP=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,d=vo(ja,n),m=Uc(n);return sq(),a.jsx(nP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(eP,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1),children:a.jsx(jq,{"data-state":RP(d.open),role:"dialog",id:d.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PP="PopoverClose",tG=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(PP,n);return a.jsx(ds.button,{type:"button",...r,ref:t,onClick:Xs(e.onClick,()=>s.onOpenChange(!1))})});tG.displayName=PP;var nG="PopoverArrow",rG=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Uc(n);return a.jsx(kq,{...s,...r,ref:t})});rG.displayName=nG;function RP(e){return e?"open":"closed"}var sG=NP,oG=kP,iG=_P,AP=EP;const aG=sG,lG=oG,MP=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>a.jsx(iG,{children:a.jsx(AP,{ref:s,align:t,sideOffset:n,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));MP.displayName=AP.displayName;const cG=({parameter:e,onClick:t})=>{const n=r=>{r.preventDefault(),r.stopPropagation(),console.log("ParameterTreeItem clicked:",e.name),t(e.name)};return a.jsxs("div",{onClick:n,className:"flex items-center gap-2 p-2 mx-2 mb-1 rounded-md hover:bg-accent cursor-pointer transition-colors relative z-10 pointer-events-auto",style:{pointerEvents:"auto"},children:[e.icon,a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-blue-600 truncate",children:e.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-1 rounded shrink-0",children:e.type})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:e.description})]})]})},uG=({title:e,icon:t,parameters:n,onParameterClick:r,defaultExpanded:s=!0})=>{const[o,i]=p.useState(s),l=c=>{c.stopPropagation(),i(!o)};return a.jsxs("div",{className:"border-b border-border last:border-b-0",onClick:c=>c.stopPropagation(),children:[a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 p-3 hover:bg-accent transition-colors text-left",children:[o?a.jsx(Kl,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}),t,a.jsx("span",{className:"font-medium text-sm",children:e}),a.jsx("span",{className:"ml-auto text-xs bg-muted px-2 py-0.5 rounded",children:n.length})]}),o&&a.jsx("div",{className:"pb-2",children:n.map(c=>a.jsx(cG,{parameter:c,onClick:r},c.name))})]})},dG=({searchTerm:e,onSearchChange:t,onClear:n})=>a.jsxs("div",{className:"relative",children:[a.jsx(fC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{placeholder:"Search parameters...",value:e,onChange:r=>t(r.target.value),className:"pl-9 pr-9 h-9 text-sm"}),e&&a.jsx("button",{onClick:n,className:"absolute right-3 top-1/2 transform -translate-y-1/2 hover:bg-accent rounded p-0.5",children:a.jsx(ss,{className:"h-3 w-3 text-muted-foreground"})})]}),Kt=({nodeId:e,value:t,onChange:n,placeholder:r="Enter value or select parameter...",className:s=""})=>{const[o,i]=p.useState([]),[l,c]=p.useState(!1),[u,f]=p.useState(""),[h,d]=p.useState({}),{getNodes:m,getEdges:y}=ri();p.useEffect(()=>{const N=()=>{const T=m(),_=y(),P=[];console.log("Current nodeId:",e),console.log("All nodes:",T),console.log("All edges:",_),window.webhookStructures&&d(window.webhookStructures);const E=($,A=new Set)=>{if(A.has($))return[];A.add($);const z=_.filter(U=>U.target===$).map(U=>U.source);let L=[];return z.forEach(U=>{L.push(U),L.push(...E(U,A))}),L},M=E(e);console.log("All previous node IDs:",M);const k=[...new Set(M)].sort(($,A)=>{const R=T.find(L=>L.id===$),z=T.find(L=>L.id===A);return!R||!z?0:Math.abs(R.position.y-z.position.y)>50?R.position.y-z.position.y:R.position.x-z.position.x});console.log("Sorted previous node IDs:",k),k.forEach(($,A)=>{var z;const R=T.find(L=>L.id===$);if(R){console.log("Found source node:",R);const L=b(R);console.log("Parameters for node",(z=R.data)==null?void 0:z.label,":",L),P.push(...L)}}),console.log("All available parameters:",P);const D=new Map;P.forEach($=>{D.has($.name)||D.set($.name,$)});const I=Array.from(D.values());i(I)};N();const j=()=>{console.log("Webhook structure updated, refreshing parameters"),N()};return window.addEventListener("webhookStructureUpdated",j),()=>{window.removeEventListener("webhookStructureUpdated",j)}},[e,m,y]);const g=(N,j,T="")=>{const _=[];if(!N||typeof N!="object")return _;const P=(E,M="")=>{if(E.type==="object"&&E.properties)Object.keys(E.properties).forEach(O=>{const k=E.properties[O],D=M?`${j}.${M}.${O}`:`${j}.${O}`;_.push({name:D,type:k.type||"unknown",description:k.description||`${k.type||"unknown"} value from webhook data`,source:`${j}`,icon:a.jsx(fr,{className:"h-4 w-4"})}),k.type==="object"&&k.properties&&P(k,M?`${M}.${O}`:O)});else if(E.type==="array"&&E.items){const O=M?`${j}.${M}`:`${j}`;_.push({name:O,type:"array",description:E.description||"Array from webhook data",source:`${j}`,icon:a.jsx(fr,{className:"h-4 w-4"})}),E.items.type==="object"&&P(E.items,`${M}[0]`)}else{const O=M?`${j}.${M}`:`${j}`;_.push({name:O,type:E.type||"unknown",description:E.description||`${E.type||"unknown"} value from webhook data`,source:`${j}`,icon:a.jsx(fr,{className:"h-4 w-4"})})}};return P(N,T),_},b=N=>{var E,M,O,k,D,I,$,A,R,z,L,U;const j=N.type,T=((E=N.data)==null?void 0:E.label)||"Unknown",_=((M=N.data)==null?void 0:M.nodeNumber)??1;let P;switch(j==="trigger"?P=`Trigger ${_}`:j==="gptTask"?P=`GPT ${_}`:j==="httpTask"?P=`HTTP ${_}`:j==="imageTask"?P=`Image ${_}`:P=`${T} ${_}`,j){case"trigger":const B=[{name:`${P}.webhookData`,type:"object",description:"Complete webhook payload data",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.headers`,type:"object",description:"HTTP headers from webhook request",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.body`,type:"string",description:"Request body content",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})}],H=((k=(O=N.data)==null?void 0:O.config)==null?void 0:k.webhookId)||(($=(I=(D=N.data)==null?void 0:D.config)==null?void 0:I.webhook)==null?void 0:$.id)||((R=(A=N.data)==null?void 0:A.config)==null?void 0:R.selectedHook)||((L=(z=N.data)==null?void 0:z.webhook)==null?void 0:L.id)||((U=N.data)==null?void 0:U.webhookId);console.log("Looking for webhook structure for ID:",H),console.log("Available webhook structures:",window.webhookStructures);const ee=window.webhookStructures||h;if(H&&ee[H]){const G=ee[H];console.log("Found webhook structure:",G);const W=g(G,P),Q=[{name:`${P}.webhookData`,type:"object",description:"Complete webhook payload data",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.headers`,type:"object",description:"HTTP headers from webhook request",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.body`,type:"string",description:"Request body content",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})}];return[...W,...Q]}else console.log("No webhook structure found for ID:",H);return B;case"httpTask":return[{name:`${P}.response`,type:"object",description:"HTTP response data",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.statusCode`,type:"number",description:"HTTP response status code",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.responseHeaders`,type:"object",description:"Response headers",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})}];case"gptTask":return[{name:`${P}.result`,type:"string",description:"GPT completion result text",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})},{name:`${P}.id`,type:"string",description:"Unique completion ID",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.object`,type:"string",description:"Response object type (chat.completion)",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.created`,type:"number",description:"Unix timestamp of completion creation",source:P,icon:a.jsx(dr,{className:"h-4 w-4"})},{name:`${P}.model`,type:"string",description:"Model used for completion (e.g., gpt-4o-mini-2024-07-18)",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.choices`,type:"array",description:"Array of completion choices",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.choices[0].text`,type:"string",description:"Text content of first choice",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})},{name:`${P}.choices[0].index`,type:"number",description:"Index of the choice",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.choices[0].logprobs`,type:"object",description:"Log probabilities for tokens",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.choices[0].finish_reason`,type:"string",description:"Reason completion finished (stop, length, etc.)",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.choices[0].message`,type:"object",description:"Message object containing role and content",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.choices[0].message.role`,type:"string",description:"Message role (assistant, user, system)",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.choices[0].message.content`,type:"string",description:"Message content text",source:P,icon:a.jsx(ir,{className:"h-4 w-4"})},{name:`${P}.usage`,type:"object",description:"Token usage statistics",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.usage.prompt_tokens`,type:"number",description:"Number of tokens in prompt",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.usage.completion_tokens`,type:"number",description:"Number of tokens in completion",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.usage.total_tokens`,type:"number",description:"Total tokens used",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.service_tier`,type:"string",description:"Service tier used (default, etc.)",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.system_fingerprint`,type:"string",description:"System fingerprint for reproducibility",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})}];case"imageTask":return[{name:`${P}.imageUrl`,type:"string",description:"Generated image URL",source:P,icon:a.jsx($v,{className:"h-4 w-4"})},{name:`${P}.metadata`,type:"object",description:"Image metadata and properties",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})}];case"dataTransform":return[{name:`${P}.output`,type:"any",description:"Transformed data output",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.originalData`,type:"any",description:"Original input data",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})}];case"delay":return[{name:`${P}.delayedAt`,type:"date",description:"Timestamp when delay completed",source:P,icon:a.jsx(dr,{className:"h-4 w-4"})},{name:`${P}.duration`,type:"number",description:"Actual delay duration in milliseconds",source:P,icon:a.jsx(dr,{className:"h-4 w-4"})}];case"conditional":return[{name:`${P}.conditionResult`,type:"boolean",description:"Result of condition evaluation",source:P,icon:a.jsx(Od,{className:"h-4 w-4"})},{name:`${P}.executedPath`,type:"string",description:"Which path was executed (true/false)",source:P,icon:a.jsx(Od,{className:"h-4 w-4"})}];case"iterator":return[{name:`${P}.items`,type:"array",description:"Array of processed items",source:P,icon:a.jsx(qt,{className:"h-4 w-4"})},{name:`${P}.currentItem`,type:"any",description:"Currently processed item",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})},{name:`${P}.index`,type:"number",description:"Current iteration index",source:P,icon:a.jsx(hn,{className:"h-4 w-4"})}];default:return[]}},v=N=>{console.log("Parameter clicked:",N);const j=`{{${N}}}`;console.log("Inserting value:",j);const T=document.activeElement;if(T&&T.tagName==="TEXTAREA"){const _=T.selectionStart,P=T.selectionEnd,E=t||"",M=E.substring(0,_)+j+E.substring(P);n(M),setTimeout(()=>{T.focus(),T.setSelectionRange(_+j.length,_+j.length)},0)}else{const _=(t||"")+j;n(_)}c(!1)},w=N=>{N.stopPropagation(),console.log("Textarea clicked, available parameters:",o.length),o.length>0&&c(!0)},x=N=>{N.stopPropagation(),console.log("Button clicked, opening parameter suggestions"),c(!0)},S=o.reduce((N,j)=>(N[j.source]||(N[j.source]=[]),N[j.source].push(j),N),{}),C=Object.entries(S).reduce((N,[j,T])=>{const _=T.filter(P=>P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase())||P.type.toLowerCase().includes(u.toLowerCase()));return _.length>0&&(N[j]=_),N},{});return a.jsx("div",{className:"relative",onClick:N=>N.stopPropagation(),children:a.jsxs(aG,{open:l,onOpenChange:c,children:[a.jsx(lG,{asChild:!0,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("textarea",{value:t,onChange:N=>n(N.target.value),placeholder:r,className:`flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none ${s}`,onClick:w,rows:s!=null&&s.includes("min-h-[72px]")?3:s!=null&&s.includes("min-h-[96px]")?4:1}),o.length>0&&a.jsx(Y,{variant:"outline",size:"sm",className:"h-10 px-3 shrink-0",type:"button",onClick:x,children:a.jsx(B0,{className:"h-4 w-4 text-yellow-600"})})]})}),o.length>0&&a.jsxs(MP,{side:"right",sideOffset:10,className:"w-96 p-0 z-[9999] shadow-2xl border-2 pointer-events-auto max-h-[80vh]",align:"start",onOpenAutoFocus:N=>N.preventDefault(),avoidCollisions:!0,collisionPadding:20,style:{pointerEvents:"auto"},children:[a.jsxs("div",{className:"p-4 border-b bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-3",children:[a.jsx(B0,{className:"h-4 w-4 text-yellow-600"}),"Available Parameters"]}),a.jsx(dG,{searchTerm:u,onSearchChange:f,onClear:()=>f("")})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pointer-events-auto scrollbar-thin scrollbar-thumb-muted-foreground/50 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/70 max-h-[calc(80vh-140px)]",style:{pointerEvents:"auto"},onWheel:N=>{N.stopPropagation();const j=N.currentTarget;j.scrollTop+=N.deltaY},children:Object.keys(C).length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:u?"No parameters match your search.":"No parameters available from connected nodes."}):Object.entries(C).map(([N,j])=>a.jsx(uG,{title:N,icon:a.jsx(F$,{className:"h-4 w-4 text-blue-600"}),parameters:j,onParameterClick:v},N))}),a.jsx("div",{className:"p-3 border-t bg-muted/10",children:a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Click any parameter to insert it into the field"})})]})]})})},ex=p.memo(({data:e,id:t})=>{const[n,r]=p.useState(e.config||{method:"POST",url:"",contentType:"application/json",headers:"{}",body:"{}"}),[s,o]=p.useState(!1),{toast:i}=Sn();p.useEffect(()=>{const h=xe.channel(`http-task-${t}-execution`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},d=>{var m;if(console.log(` HTTP Task ${t} received execution update:`,d),d.eventType==="INSERT"||d.eventType==="UPDATE"){const y=d.new,g=y.executed_nodes||[],b=y.current_node_id,v=y.status,w=(m=y.result_data)==null?void 0:m.nodeResults,x=g.includes(t),S=b===t,C=w&&w[t];if(console.log(` HTTP Task ${t}: isExecuted=${x}, isCurrent=${S}, hasResult=${!!C}, status=${v}, currentStatus=${e.status}`),e.onNodeUpdate){let N=e.status||"idle";if(v==="completed"||v==="success"){console.log(` FORCING HTTP Task ${t} to completed due to workflow completion`),N="completed",e.onNodeUpdate(t,{status:"completed",hasResult:!!C||!!e.executionResult,executionResult:C?w[t]:e.executionResult,hasCompletedExecution:!0});return}if(v==="running"&&S)N="running",i({title:"HTTP Request Started",description:`${e.label} is making request...`});else if(x&&v==="completed")N="completed",i({title:"HTTP Request Completed",description:`${e.label} completed successfully`});else if(v==="failed"){const j=y.error_details;j&&j.failed_node_id===t?(N="error",i({title:"HTTP Request Failed",description:`${e.label}: ${j.error_message}`,variant:"destructive"})):(x||S)&&(N="error",i({title:"HTTP Request Failed",description:`${e.label} encountered an error`,variant:"destructive"}))}(N!==e.status||C&&!e.hasCompletedExecution)&&(console.log(` Updating HTTP Task ${t} status: ${e.status} -> ${N}`),e.onNodeUpdate(t,{status:N,hasResult:!!C,executionResult:C?w[t]:e.executionResult,hasCompletedExecution:x&&v==="completed"}))}}}).subscribe((d,m)=>{console.log(` HTTP Task ${t} execution subscription status:`,d,m)});return()=>{console.log(` Cleaning up HTTP Task ${t} execution subscription`),xe.removeChannel(h)}},[t,e.label,e.onNodeUpdate,e.status,e.hasCompletedExecution,i]);const l=(h,d)=>{const m={...n,[h]:d};r(m),e.config=m},c=async()=>{try{e.status="running";const{supabase:h}=await si(async()=>{const{supabase:y}=await Promise.resolve().then(()=>mT);return{supabase:y}},void 0),{data:d,error:m}=await h.functions.invoke("http-task",{body:{config:n}});m?(console.error("HTTP Task execution error:",m),e.status="error",e.executionResult={error:m.message,success:!1}):(console.log("HTTP Task result:",d),e.status=(d==null?void 0:d.success)===!1?"error":"completed",e.executionResult=d,e.hasResult=!0,e.hasCompletedExecution=!0)}catch(h){console.error("HTTP Task execution failed:",h),e.status="error",e.executionResult={error:h.message,success:!1}}},u=h=>{switch(h){case"GET":return"bg-success text-success-foreground";case"POST":return"bg-primary text-primary-foreground";case"PUT":return"bg-warning text-warning-foreground";case"DELETE":return"bg-destructive text-destructive-foreground";case"PATCH":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}},f=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-success/30"}};return a.jsxs(mt,{className:`min-w-[220px] bg-gradient-secondary shadow-card relative ${f()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-success text-success-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx("div",{className:"p-1.5 rounded-md bg-success/10",children:a.jsx(Iv,{className:"h-4 w-4 text-success"})}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":"secondary",className:"text-xs",children:e.status}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure HTTP Request"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Method"}),a.jsxs(kt,{value:n.method,onValueChange:h=>l("method",h),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"GET",children:"GET"}),a.jsx(re,{value:"POST",children:"POST"}),a.jsx(re,{value:"PUT",children:"PUT"}),a.jsx(re,{value:"DELETE",children:"DELETE"}),a.jsx(re,{value:"PATCH",children:"PATCH"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Content Type"}),a.jsxs(kt,{value:n.contentType||"application/json",onValueChange:h=>l("contentType",h),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"application/json",children:"JSON"}),a.jsx(re,{value:"multipart/form-data",children:"Form Data"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"URL"}),a.jsx(Kt,{nodeId:t,value:n.url||"",onChange:h=>l("url",h),placeholder:"https://api.example.com/endpoint"})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Headers (JSON)"}),a.jsx(Kt,{nodeId:t,value:n.headers||"{}",onChange:h=>l("headers",h),placeholder:'{"Authorization": "Bearer token", "Content-Type": "application/json"}',className:"min-h-[72px]"})]}),a.jsxs("div",{children:[a.jsxs(J,{children:["Request Body ",n.contentType==="multipart/form-data"?"(Form Data - Key:Value pairs)":"(JSON)"]}),a.jsx(Kt,{nodeId:t,value:n.body||"",onChange:h=>l("body",h),placeholder:n.contentType==="multipart/form-data"?`key1=value1
key2=value2
file=@/path/to/file`:'{"key": "value"}',className:"min-h-[96px]"})]}),a.jsx("div",{className:"mt-4",children:a.jsx(Y,{onClick:c,className:"w-full",children:"Test HTTP Request"})})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx(He,{className:`text-xs ${u(n.method||"GET")}`,children:n.method||"GET"})}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n.url||"No URL configured"}),(()=>{try{const h=n.headers&&n.headers.trim()?JSON.parse(n.headers):{},d=Object.keys(h).length;return d>0?a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[d," headers"]}):null}catch{return null}})()]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-success border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-success border-2 border-background"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),a.jsx(ii,{status:e.status,hasResult:!!e.executionResult,onClick:()=>o(!0)}),a.jsx(Yn,{open:s,onOpenChange:o,result:e.executionResult,nodeName:e.label||"HTTP Task",nodeConfig:n})]})});ex.displayName="HTTPTaskNode";const tx=p.memo(({data:e,id:t})=>{const[n,r]=p.useState(e.config||{method:"POST",url:"",headers:JSON.stringify({Authorization:"Bearer your-token-here"},null,2),formData:`file=@/path/to/file
name=value
description=Sample file upload`}),[s,o]=p.useState(!1),{toast:i}=Sn();p.useEffect(()=>{const h=xe.channel(`multipart-http-task-${t}-execution`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},d=>{var m;if(console.log(` Multipart HTTP Task ${t} received execution update:`,d),d.eventType==="INSERT"||d.eventType==="UPDATE"){const y=d.new,g=y.executed_nodes||[],b=y.current_node_id,v=y.status,w=(m=y.result_data)==null?void 0:m.nodeResults,x=g.includes(t),S=b===t,C=w&&w[t];if(console.log(` Multipart HTTP Task ${t}: isExecuted=${x}, isCurrent=${S}, hasResult=${!!C}, status=${v}, currentStatus=${e.status}`),e.onNodeUpdate){let N=e.status||"idle";if(v==="completed"||v==="success"){console.log(` FORCING Multipart HTTP Task ${t} to completed due to workflow completion`),N="completed",e.onNodeUpdate(t,{status:"completed",hasResult:!!C||!!e.executionResult,executionResult:C?w[t]:e.executionResult,hasCompletedExecution:!0});return}if(v==="running"&&S)N="running",i({title:"Multipart Upload Started",description:`${e.label} is uploading...`});else if(x&&v==="completed")N="completed",i({title:"Multipart Upload Completed",description:`${e.label} completed successfully`});else if(v==="failed"){const j=y.error_details;j&&j.failed_node_id===t?(N="error",i({title:"Multipart Upload Failed",description:`${e.label}: ${j.error_message}`,variant:"destructive"})):(x||S)&&(N="error",i({title:"Multipart Upload Failed",description:`${e.label} encountered an error`,variant:"destructive"}))}(N!==e.status||C&&!e.hasCompletedExecution)&&(console.log(` Updating Multipart HTTP Task ${t} status: ${e.status} -> ${N}`),e.onNodeUpdate(t,{status:N,hasResult:!!C,executionResult:C?w[t]:e.executionResult,hasCompletedExecution:x&&v==="completed"}))}}}).subscribe((d,m)=>{console.log(` Multipart HTTP Task ${t} execution subscription status:`,d,m)});return()=>{console.log(` Cleaning up Multipart HTTP Task ${t} execution subscription`),xe.removeChannel(h)}},[t,e.label,e.onNodeUpdate,e.status,e.hasCompletedExecution,i]);const l=(h,d)=>{const m={...n,[h]:d};r(m),e.config=m},c=async()=>{try{e.status="running";const{supabase:h}=await si(async()=>{const{supabase:y}=await Promise.resolve().then(()=>mT);return{supabase:y}},void 0),{data:d,error:m}=await h.functions.invoke("http-task",{body:{config:{...n,contentType:"multipart/form-data"}}});m?(console.error("Multipart HTTP Task execution error:",m),e.status="error",e.executionResult={error:m.message,success:!1}):(console.log("Multipart HTTP Task result:",d),e.status=(d==null?void 0:d.success)===!1?"error":"completed",e.executionResult=d,e.hasResult=!0,e.hasCompletedExecution=!0)}catch(h){console.error("Multipart HTTP Task execution failed:",h),e.status="error",e.executionResult={error:h.message,success:!1}}},u=h=>{switch(h){case"GET":return"bg-success text-success-foreground";case"POST":return"bg-primary text-primary-foreground";case"PUT":return"bg-warning text-warning-foreground";case"DELETE":return"bg-destructive text-destructive-foreground";case"PATCH":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}},f=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-primary/30"}};return a.jsxs(mt,{className:`min-w-[240px] bg-gradient-secondary shadow-card relative ${f()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:a.jsx(ir,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":"secondary",className:"text-xs",children:e.status}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Multipart Form Data Request"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Method"}),a.jsxs(kt,{value:n.method,onValueChange:h=>l("method",h),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"POST",children:"POST"}),a.jsx(re,{value:"PUT",children:"PUT"}),a.jsx(re,{value:"PATCH",children:"PATCH"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Content Type"}),a.jsx(Ae,{value:"multipart/form-data",disabled:!0,className:"bg-muted"})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"URL"}),a.jsx(Kt,{nodeId:t,value:n.url||"",onChange:h=>l("url",h),placeholder:"https://api.example.com/upload"})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Headers (JSON)"}),a.jsx(Kt,{nodeId:t,value:n.headers||"{}",onChange:h=>l("headers",h),placeholder:'{"Authorization": "Bearer token"}',className:"min-h-[72px]"})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Form Data (Key=Value pairs, use @file for file uploads)"}),a.jsx(Kt,{nodeId:t,value:n.formData||"",onChange:h=>l("formData",h),placeholder:"file=@/path/to/file\\nname=John Doe\\nemail=john@example.com\\ndescription=Sample upload",className:"min-h-[120px]"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" Use @/path/to/file for file uploads",a.jsx("br",{})," Each line should be in format: key=value",a.jsx("br",{})," Files will be automatically detected with @ prefix"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(Y,{onClick:c,className:"w-full",children:"Test Multipart Upload"})})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(He,{className:`text-xs ${u(n.method||"POST")}`,children:n.method||"POST"}),a.jsx(He,{variant:"outline",className:"text-xs",children:"multipart/form-data"})]}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n.url||"No URL configured"}),(()=>{try{const h=n.formData?n.formData.split(`
`).filter(y=>y.trim()):[],d=h.filter(y=>y.includes("@")).length,m=h.length-d;return h.length>0?a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[d>0&&`${d} file${d>1?"s":""}`,d>0&&m>0&&", ",m>0&&`${m} field${m>1?"s":""}`]}):null}catch{return null}})()]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-primary border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-primary border-2 border-background"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),a.jsx(ii,{status:e.status,hasResult:!!e.executionResult,onClick:()=>o(!0)}),a.jsx(Yn,{open:s,onOpenChange:o,result:e.executionResult,nodeName:e.label||"Multipart HTTP",nodeConfig:n})]})});tx.displayName="MultipartHTTPNode";const nx=p.memo(({data:e})=>{var l;const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(c,u)=>{n({...t,[c]:u}),e.config={...t,[c]:u}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-warning/30"}};return a.jsx(a.Fragment,{children:a.jsxs(mt,{className:`min-w-[220px] bg-gradient-accent shadow-card relative ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-warning text-warning-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx("div",{className:"p-1.5 rounded-md bg-warning/10",children:a.jsx($v,{className:"h-4 w-4 text-warning"})}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":"secondary",className:"text-xs",children:e.status}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0}),a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Image Processing"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Operation"}),a.jsxs(kt,{value:t.operation,onValueChange:c=>o("operation",c),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"resize",children:"Resize"}),a.jsx(re,{value:"crop",children:"Crop"}),a.jsx(re,{value:"convert",children:"Convert Format"}),a.jsx(re,{value:"optimize",children:"Optimize"}),a.jsx(re,{value:"watermark",children:"Add Watermark"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Source Image URL"}),a.jsx(Ae,{value:t.url||"",onChange:c=>o("url",c.target.value),placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Width"}),a.jsx(Ae,{type:"number",value:t.width||300,onChange:c=>o("width",parseInt(c.target.value))})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Height"}),a.jsx(Ae,{type:"number",value:t.height||300,onChange:c=>o("height",parseInt(c.target.value))})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Output Format"}),a.jsxs(kt,{value:t.format,onValueChange:c=>o("format",c),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"png",children:"PNG"}),a.jsx(re,{value:"jpg",children:"JPG"}),a.jsx(re,{value:"webp",children:"WebP"}),a.jsx(re,{value:"gif",children:"GIF"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Quality (1-100)"}),a.jsx(Ae,{type:"number",value:t.quality||90,onChange:c=>o("quality",parseInt(c.target.value)),min:"1",max:"100"})]})]})]})]})]})]})}),a.jsx(Tt,{className:"p-3 pt-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.operation||"resize",": ",t.width||300,"",t.height||300]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Format: ",((l=t.format)==null?void 0:l.toUpperCase())||"PNG"]}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.url||"No image URL configured"})]})}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-warning border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-warning border-2 border-background"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),a.jsx(ii,{status:e.status,hasResult:!!e.executionResult,onClick:()=>s(!0)}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Image Task"})]})})});nx.displayName="ImageTaskNode";const rx=p.memo(({data:e,id:t})=>{var h,d,m,y,g,b,v;const[n,r]=p.useState(!1),[s,o]=p.useState([]),[i,l]=p.useState(null),{toast:c}=Sn();p.useEffect(()=>{const w=xe.channel(`trigger-${t}-execution`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},x=>{var S;if(console.log(` Trigger ${t} received execution update:`,x),x.eventType==="INSERT"||x.eventType==="UPDATE"){const C=x.new,N=C.executed_nodes||[],j=C.current_node_id,T=C.status,_=(S=C.result_data)==null?void 0:S.nodeResults,P=N.includes(t),E=j===t,M=_&&_[t];if(console.log(` Trigger ${t}: isExecuted=${P}, isCurrent=${E}, hasResult=${!!M}, status=${T}, currentStatus=${e.status}`),e.onNodeUpdate){let O=e.status||"idle";if(T==="completed"||T==="success"){console.log(` FORCING Trigger ${t} to completed due to workflow completion`),O="completed",e.onNodeUpdate(t,{status:"completed",hasResult:!!M||!!e.executionResult||!!i,executionResult:M?_[t]:e.executionResult,hasCompletedExecution:!0});return}if(T==="running"&&E)O="running",c({title:"Trigger Started",description:`${e.label} is processing...`});else if(P&&T==="completed")O="completed",c({title:"Trigger Completed",description:`${e.label} completed successfully`});else if(T==="failed"){const k=C.error_details;k&&k.failed_node_id===t?(O="error",c({title:"Trigger Failed",description:`${e.label}: ${k.error_message}`,variant:"destructive"})):(P||E)&&(O="error",c({title:"Trigger Failed",description:`${e.label} encountered an error`,variant:"destructive"}))}(O!==e.status||M&&!e.hasCompletedExecution)&&(console.log(` Updating Trigger ${t} status: ${e.status} -> ${O}`),e.onNodeUpdate(t,{status:O,hasResult:!!M,executionResult:M?_[t]:e.executionResult,hasCompletedExecution:P&&T==="completed"}))}}}).subscribe((x,S)=>{console.log(` Trigger ${t} execution subscription status:`,x,S)});return()=>{console.log(` Cleaning up Trigger ${t} execution subscription`),xe.removeChannel(w)}},[t,e.label,e.onNodeUpdate,e.status,e.hasCompletedExecution,c,i]),p.useEffect(()=>{var S,C,N,j,T;const w=((S=e.config)==null?void 0:S.webhookId)||((N=(C=e.config)==null?void 0:C.webhook)==null?void 0:N.id)||((j=e.config)==null?void 0:j.selectedHook);if(console.log(" TriggerNode webhook ID:",w,"triggerType:",(T=e.config)==null?void 0:T.triggerType),console.log(" TriggerNode full config:",e.config),(async()=>{var _;if(!w&&((_=e.config)==null?void 0:_.triggerType)==="webhook"){console.log(" No webhook ID found for webhook trigger");return}if(w)try{console.log(" Fetching webhook requests for ID:",w);const{data:P,error:E}=await xe.from("webhook_requests").select("*").eq("webhook_id",w).order("created_at",{ascending:!1}).limit(10);if(E){console.error("Error fetching webhook requests:",E);return}console.log(" Webhook requests fetched:",P),o(P||[]),P&&P.length>0&&(console.log(" Latest request:",P[0]),l(P[0]))}catch(P){console.error("Error fetching webhook requests:",P)}})(),w){const _=`webhook-requests-${w}-${t}`;console.log(" Setting up real-time subscription:",_),xe.getChannels().forEach(M=>{var O;(O=M.topic)!=null&&O.includes(`webhook-requests-${w}`)&&M.topic!==_&&(console.log(" Cleaning up duplicate subscription:",M.topic),xe.removeChannel(M))});const E=xe.channel(_).on("postgres_changes",{event:"INSERT",schema:"public",table:"webhook_requests",filter:`webhook_id=eq.${w}`},M=>{const O=M.new;console.log(` TriggerNode [${_}] received new webhook request:`,O,"for node:",t),e.onNodeUpdate&&(console.log(` TriggerNode [${_}]: Updating node status to running for:`,t),e.onNodeUpdate(t,{status:"running",hasResult:!1})),c({title:"Workflow Started",description:`${e.label} is now processing...`}),o(k=>[O,...k.slice(0,9)]),l(O),c({title:"Webhook Triggered",description:`Processing request for ${e.label}`})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"webhook_requests",filter:`webhook_id=eq.${w}`},M=>{const O=M.new;if(console.log(` TriggerNode [${_}] received webhook request update:`,O,"for node:",t),o(k=>k.map(D=>D.id===O.id?O:D)),(i==null?void 0:i.id)===O.id&&l(O),e.onNodeUpdate&&O.response_status){const k=O.response_status>=200&&O.response_status<300?"completed":"error";console.log(` [${_}] Updating node status to`,k,"for:",t),e.onNodeUpdate(t,{status:k,hasResult:!0,executionResult:{success:k==="completed",result:O.response_body,timestamp:O.created_at,processingTime:O.processing_time_ms,requestData:O.request_body},hasCompletedExecution:!0}),c({title:k==="completed"?"Webhook Completed":"Webhook Error",description:`${e.label} finished processing`})}}).subscribe((M,O)=>{if(console.log(` [${_}] Subscription status:`,M,O),M==="CHANNEL_ERROR"){console.warn(` [${_}] Subscription failed, setting up polling fallback`);const k=setInterval(async()=>{try{const{data:D}=await xe.from("webhook_requests").select("*").eq("webhook_id",w).order("created_at",{ascending:!1}).limit(1);if(D&&D.length>0){const I=D[0];if((!i||I.created_at!==i.created_at)&&(console.log(` [${_}] Polling found new request:`,I),l(I),o($=>[I,...$.slice(0,9)]),e.onNodeUpdate))if(I.response_status){const $=I.response_status>=200&&I.response_status<300?"completed":"error";e.onNodeUpdate(t,{status:$,hasResult:!0,executionResult:{success:$==="completed",result:I.response_body,timestamp:I.created_at,processingTime:I.processing_time_ms,requestData:I.request_body},hasCompletedExecution:!0})}else e.onNodeUpdate(t,{status:"running",hasResult:!1})}}catch(D){console.error(`[${_}] Polling error:`,D)}},3e3);E.pollInterval=k}});return()=>{console.log(` [${_}] Cleaning up subscription`),E.pollInterval&&clearInterval(E.pollInterval),xe.removeChannel(E)}}},[(h=e.config)==null?void 0:h.webhookId,(m=(d=e.config)==null?void 0:d.webhook)==null?void 0:m.id,(y=e.config)==null?void 0:y.selectedHook,(g=e.config)==null?void 0:g.triggerType,e.label,e.onNodeUpdate,t,c]);const u=()=>{var w;switch((w=e.config)==null?void 0:w.triggerType){case"webhook":return a.jsx(fr,{className:"h-5 w-5"});case"batch":return a.jsx(Ov,{className:"h-5 w-5"});case"schedule":return a.jsx(A$,{className:"h-5 w-5"});case"database":return a.jsx(qt,{className:"h-5 w-5"});default:return a.jsx(Mn,{className:"h-5 w-5"})}},f=()=>"border-primary";return a.jsxs(mt,{className:`min-w-[220px] bg-gradient-to-br from-primary to-primary-glow shadow-card relative ${f()}`,children:[a.jsxs(Tt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary-foreground text-primary text-xs font-bold",children:e.nodeNumber||"1"}),u(),a.jsx("span",{className:"font-semibold",children:e.label})]}),e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":"secondary",className:"text-xs",children:e.status})]}),a.jsx("div",{className:"text-xs text-primary-foreground/80",children:(b=e.config)!=null&&b.triggerType?`${e.config.triggerType} trigger`:"Workflow entry point"})]}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-primary-foreground border-2 border-primary"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-gradient-to-br from-primary to-primary-glow rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),(()=>{const w=!!(e.executionResult||i&&(i.response_status||i.response_body)),x=e.status&&e.status!=="idle";return console.log(` TriggerNode ExecutionNotification debug for ${e.label}:`,{hasResult:w,hasStatus:x,latestRequest:!!i,latestResponseStatus:i==null?void 0:i.response_status,executionResult:!!e.executionResult,status:e.status,shouldShow:w||x}),a.jsx(ii,{status:e.status,hasResult:w,onClick:()=>r(!0)})})(),a.jsx(Yn,{open:n,onOpenChange:r,result:i?{status:i.response_status>=200&&i.response_status<300?"completed":"error",request_body:i.request_body,response_body:i.response_body,statusCode:i.response_status,headers:i.request_headers,executionTime:i.processing_time_ms?i.processing_time_ms/1e3:void 0,timestamp:i.created_at,id:i.id,webhook_id:i.webhook_id,processing_time_ms:i.processing_time_ms,data:{receivedData:i.request_body,...i.request_body,request:{body:i.request_body,headers:i.request_headers,webhook_id:i.webhook_id,timestamp:i.created_at},response:{body:i.response_body,status:i.response_status,processing_time_ms:i.processing_time_ms},execution:{id:i.id,created_at:i.created_at,webhook_id:i.webhook_id}}}:null,nodeName:e.label||"Webhook Trigger",nodeConfig:e.config,isWebhookTrigger:((v=e.config)==null?void 0:v.triggerType)==="webhook"})]})});rx.displayName="TriggerNode";const Bc=({data:e,type:t,maxHeight:n="100px"})=>(()=>{if(!e)return null;try{const s=JSON.stringify(e,null,2),o=s.length>100?s.substring(0,100)+"...":s;return a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("div",{className:"font-medium text-foreground mb-1",children:t==="input"?"Input:":"Output:"}),a.jsx(zs,{style:{maxHeight:n},className:"border rounded p-2 bg-muted/30",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:o})})]})}catch{return a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("div",{className:"font-medium text-foreground mb-1",children:t==="input"?"Input:":"Output:"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[String(e).substring(0,100),"..."]})]})}})(),sx=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(l,c)=>{n({...t,[l]:c}),e.config={...t,[l]:c}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-muted-foreground/30"}};return a.jsxs(a.Fragment,{children:[a.jsxs(mt,{className:`min-w-[200px] bg-gradient-accent shadow-card ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted-foreground text-background text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex gap-1",children:[e.executionResult&&a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Delay"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Duration"}),a.jsx(Ae,{type:"number",value:t.duration||1e3,onChange:l=>o("duration",parseInt(l.target.value)),min:"100"})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Unit"}),a.jsxs(kt,{value:t.unit,onValueChange:l=>o("unit",l),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"ms",children:"Milliseconds"}),a.jsx(re,{value:"seconds",children:"Seconds"}),a.jsx(re,{value:"minutes",children:"Minutes"}),a.jsx(re,{value:"hours",children:"Hours"})]})]})]})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Wait for ",t.duration||1e3," ",t.unit||"ms"]}),e.executionResult&&a.jsx(Bc,{data:e.executionResult,type:"output",maxHeight:"80px"})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-muted-foreground border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-muted-foreground border-2 border-background"})]}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Delay",nodeConfig:t})]})});sx.displayName="DelayNode";const ox=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(l,c)=>{n({...t,[l]:c}),e.config={...t,[l]:c}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-secondary/30"}};return a.jsxs(a.Fragment,{children:[a.jsxs(mt,{className:`min-w-[200px] bg-gradient-secondary shadow-card ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-secondary text-secondary-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx(Mv,{className:"h-4 w-4 text-secondary"}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex gap-1",children:[e.executionResult&&a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Conditional"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Condition Type"}),a.jsxs(kt,{value:t.conditionType,onValueChange:l=>o("conditionType",l),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"equals",children:"Equals"}),a.jsx(re,{value:"contains",children:"Contains"}),a.jsx(re,{value:"greater",children:"Greater Than"}),a.jsx(re,{value:"less",children:"Less Than"}),a.jsx(re,{value:"exists",children:"Exists"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Value to Check"}),a.jsx(Ae,{value:t.checkValue||"",onChange:l=>o("checkValue",l.target.value),placeholder:"{{data.field}}"})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Compare Against"}),a.jsx(Ae,{value:t.compareValue||"",onChange:l=>o("compareValue",l.target.value),placeholder:"Expected value"})]})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["If ",t.checkValue||"condition"," ",t.conditionType||"equals"," ",t.compareValue||"value"]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsx("div",{className:"text-xs text-success",children:" True"}),a.jsx("div",{className:"text-xs text-destructive",children:" False"})]}),e.executionResult&&a.jsx(Bc,{data:e.executionResult,type:"output",maxHeight:"80px"})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-secondary border-2 border-background"}),a.jsx(qe,{id:"true",type:"source",position:ue.Right,style:{top:"30%"},className:"w-3 h-3 bg-success border-2 border-background"}),a.jsx(qe,{id:"false",type:"source",position:ue.Right,style:{top:"70%"},className:"w-3 h-3 bg-destructive border-2 border-background"})]}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Conditional",nodeConfig:t})]})});ox.displayName="ConditionalNode";const ix=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(l,c)=>{n({...t,[l]:c}),e.config={...t,[l]:c}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-secondary/30"}};return a.jsxs(a.Fragment,{children:[a.jsxs(mt,{className:`min-w-[200px] bg-gradient-secondary shadow-card ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-secondary text-secondary-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx(uC,{className:"h-4 w-4 text-secondary"}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex gap-1",children:[e.executionResult&&a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Iterator"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Array/List to Iterate"}),a.jsx(Ae,{value:t.arrayPath||"",onChange:l=>o("arrayPath",l.target.value),placeholder:"{{data.items}}"})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Item Variable Name"}),a.jsx(Ae,{value:t.itemVariable||"item",onChange:l=>o("itemVariable",l.target.value),placeholder:"item"})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Batch Size (Optional)"}),a.jsx(Ae,{type:"number",value:t.batchSize||"",onChange:l=>o("batchSize",parseInt(l.target.value)),placeholder:"Process all items at once"})]})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["For each ",t.itemVariable||"item"," in ",t.arrayPath||"array"]}),t.batchSize&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Batch size: ",t.batchSize]}),e.executionResult&&a.jsx(Bc,{data:e.executionResult,type:"output",maxHeight:"80px"})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-lg hover:bg-blue-600 transition-all duration-200 hover:scale-110 -translate-x-1"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-4 h-4 bg-green-500 border-2 border-white rounded-full shadow-lg hover:bg-green-600 transition-all duration-200 hover:scale-110 -translate-x-1"})]}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Iterator",nodeConfig:t})]})});ix.displayName="IteratorNode";const ax=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(l,c)=>{n({...t,[l]:c}),e.config={...t,[l]:c}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-accent/30"}};return a.jsxs(a.Fragment,{children:[a.jsxs(mt,{className:`min-w-[200px] bg-gradient-accent shadow-card ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-accent text-accent-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx(qt,{className:"h-4 w-4 text-accent-foreground"}),a.jsx("span",{className:"font-medium text-sm",children:e.label})]}),a.jsxs("div",{className:"flex gap-1",children:[e.executionResult&&a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{className:"max-w-lg",children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Data Transform"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Transformation Type"}),a.jsxs(kt,{value:t.transformType,onValueChange:l=>o("transformType",l),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"map",children:"Map Fields"}),a.jsx(re,{value:"filter",children:"Filter Data"}),a.jsx(re,{value:"aggregate",children:"Aggregate"}),a.jsx(re,{value:"format",children:"Format"}),a.jsx(re,{value:"custom",children:"Custom Script"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Input Data Path"}),a.jsx(Ys,{value:t.inputPath||"",onChange:l=>o("inputPath",l.target.value),placeholder:"{{data}}",rows:2})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Transformation Logic"}),a.jsx(Ys,{value:t.transformation||"",onChange:l=>o("transformation",l.target.value),placeholder:t.transformType==="custom"?"return data.map(item => ({ ...item, newField: item.oldField }));":"Configure transformation logic...",rows:4})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Output Field Name"}),a.jsx(Ys,{value:t.outputField||"",onChange:l=>o("outputField",l.target.value),placeholder:"transformedData",rows:1})]})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.transformType||"Transform",": ",t.inputPath||"data","  ",t.outputField||"output"]}),e.executionResult&&a.jsx(Bc,{data:e.executionResult,type:"output",maxHeight:"80px"})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-accent-foreground border-2 border-background"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-accent-foreground border-2 border-background"})]}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Data Transform",nodeConfig:t})]})});ax.displayName="DataTransformNode";var lx="Switch",[fG,QY]=Gn(lx),[hG,pG]=fG(lx),IP=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[d,m]=p.useState(null),y=Ee(t,x=>m(x)),g=p.useRef(!1),b=d?f||!!d.closest("form"):!0,[v=!1,w]=rs({prop:s,defaultProp:o,onChange:u});return a.jsxs(hG,{scope:n,checked:v,disabled:l,children:[a.jsx(ye.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":DP(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:Z(e.onClick,x=>{w(S=>!S),b&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),b&&a.jsx(mG,{control:d,bubbles:!g.current,name:r,value:c,checked:v,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});IP.displayName=lx;var $P="SwitchThumb",OP=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=pG($P,n);return a.jsx(ye.span,{"data-state":DP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});OP.displayName=$P;var mG=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),i=Ky(n),l=qv(t);return p.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const d=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(d)}},[i,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DP(e){return e?"checked":"unchecked"}var LP=IP,gG=OP;const Ot=p.forwardRef(({className:e,...t},n)=>a.jsx(LP,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(gG,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ot.displayName=LP.displayName;var vG="Separator",l1="horizontal",yG=["horizontal","vertical"],FP=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=l1,...s}=e,o=xG(r)?r:l1,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(ye.div,{"data-orientation":o,...l,...s,ref:t})});FP.displayName=vG;function xG(e){return yG.includes(e)}var zP=FP;const lo=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(zP,{ref:s,decorative:n,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));lo.displayName=zP.displayName;const cx=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{executionMode:"parallel",waitForAll:!0,outputHandles:3}),[r,s]=p.useState(!1),o=(c,u)=>{const f={...t,[c]:u};n(f),e.config=f},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-secondary/30"}},l=()=>t.executionMode==="parallel"?a.jsx(W0,{className:"h-4 w-4 text-primary"}):a.jsx($d,{className:"h-4 w-4 text-secondary"});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg flex items-center justify-center ${i()}`,children:[a.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:l()}),a.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-bold",children:e.nodeNumber||"1"})]}),a.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm font-medium text-foreground whitespace-nowrap",children:e.label}),e.executionResult&&a.jsx("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 w-48",children:a.jsx(Bc,{data:e.executionResult,type:"output",maxHeight:"60px"})}),a.jsxs("div",{className:"absolute -top-8 right-0 flex gap-1",children:[e.executionResult&&a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"opacity-60 hover:opacity-100 transition-opacity h-6 w-6 p-0",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-60 hover:opacity-100 transition-opacity h-6 w-6 p-0",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(Ut,{className:"max-w-md",children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Router"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(J,{className:"text-sm font-medium",children:"Execution Mode"}),a.jsxs(kt,{value:t.executionMode,onValueChange:c=>o("executionMode",c),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"parallel",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W0,{className:"h-4 w-4"}),"Parallel - All at once"]})}),a.jsx(re,{value:"sequential",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($d,{className:"h-4 w-4"}),"Sequential - One by one"]})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.executionMode==="parallel"?"Execute all output branches simultaneously":"Execute output branches one after another in order"})]}),a.jsx(lo,{}),t.executionMode==="parallel"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(J,{className:"text-sm font-medium",children:"Parallel Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-xs",children:"Wait for all branches to complete"}),a.jsx(Ot,{checked:t.waitForAll,onCheckedChange:c=>o("waitForAll",c)})]})]}),a.jsx(lo,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(J,{className:"text-sm font-medium",children:"Number of Output Branches"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:t.outputHandles<=20?t.outputHandles.toString():"custom",onValueChange:c=>{c!=="custom"&&o("outputHandles",parseInt(c))},children:[a.jsx(vt,{className:"flex-1",children:a.jsx(_t,{})}),a.jsxs(yt,{className:"max-h-60 overflow-y-auto",children:[a.jsx(re,{value:"2",children:"2 branches"}),a.jsx(re,{value:"3",children:"3 branches"}),a.jsx(re,{value:"4",children:"4 branches"}),a.jsx(re,{value:"5",children:"5 branches"}),a.jsx(re,{value:"6",children:"6 branches"}),a.jsx(re,{value:"7",children:"7 branches"}),a.jsx(re,{value:"8",children:"8 branches"}),a.jsx(re,{value:"9",children:"9 branches"}),a.jsx(re,{value:"10",children:"10 branches"}),a.jsx(re,{value:"11",children:"11 branches"}),a.jsx(re,{value:"12",children:"12 branches"}),a.jsx(re,{value:"13",children:"13 branches"}),a.jsx(re,{value:"14",children:"14 branches"}),a.jsx(re,{value:"15",children:"15 branches"}),a.jsx(re,{value:"16",children:"16 branches"}),a.jsx(re,{value:"17",children:"17 branches"}),a.jsx(re,{value:"18",children:"18 branches"}),a.jsx(re,{value:"19",children:"19 branches"}),a.jsx(re,{value:"20",children:"20 branches"}),a.jsx(re,{value:"custom",children:"Custom..."})]})]}),t.outputHandles>20&&a.jsx("div",{className:"flex-1",children:a.jsx(Ae,{type:"number",min:"2",max:"100",value:t.outputHandles,onChange:c=>{const u=Math.max(2,Math.min(100,parseInt(c.target.value)||2));o("outputHandles",u)},className:"h-10",placeholder:"Enter number of branches"})})]}),t.outputHandles>20&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom number of branches (2-100)"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),a.jsx("div",{className:"text-sm text-blue-700",children:"The router will distribute incoming data to all connected output branches based on your execution mode."})]})})]})]})]})]}),a.jsx("div",{className:"absolute -bottom-10 left-1/2 transform -translate-x-1/2",children:a.jsx(He,{variant:"secondary",className:"text-xs bg-background border",children:t.executionMode==="parallel"?"Parallel":"Sequential"})})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-primary border-2 border-background -translate-x-1"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-3 h-3 bg-green-500 border-2 border-background rounded-full -translate-x-1"}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Router",nodeConfig:t})]})});cx.displayName="RouterNode";const ux=p.memo(({data:e,id:t})=>{const[n,r]=p.useState(!1),[s,o]=p.useState(!1),[i,l]=p.useState(e.config||{statusCode:200,responseBody:`{
    "image1": "{{HTTP 1.response}}"
}`,headers:{},showAdvancedSettings:!1}),{toast:c}=Sn(),[u,f]=p.useState(null),{getNodes:h,getEdges:d}=ri(),[m,y]=p.useState(""),[g,b]=p.useState([]),v=(N,j=new Set)=>{if(j.has(N))return[];j.add(N);const P=d().filter(M=>M.target===N).map(M=>M.source);let E=[];return P.forEach(M=>{E.push(M),E.push(...v(M,j))}),E},w=N=>{var j;return`GPT ${((j=N==null?void 0:N.data)==null?void 0:j.nodeNumber)??1}`};p.useEffect(()=>{try{if(!i.responseBody){y(""),b([]);return}const N=h(),T=Array.from(new Set(v(t))).map(I=>N.find($=>$.id===I)).filter(I=>I&&I.type==="gptTask");T.sort((I,$)=>Math.abs(I.position.y-$.position.y)>50?I.position.y-$.position.y:I.position.x-$.position.x);const _=new Set(T.map(w)),P=JSON.parse(i.responseBody),E=[],M=I=>{if(typeof I=="string")return I.replace(/\{\{\s*([^}]+?)\s*\}\}/g,($,A)=>{const R=String(A).trim();E.push(R);const z=R.split(".")[0];return _.has(z)?`<${R}>`:`<UNRESOLVED:${R}>`});if(Array.isArray(I))return I.map(M);if(I&&typeof I=="object"){const $={};return Object.keys(I).forEach(A=>{$[A]=M(I[A])}),$}return I},O=M(P),D=Array.from(new Set(E)).map(I=>{const $=I.split(".")[0];return{token:I,resolved:_.has($),target:_.has($)?$:void 0}});b(D),y(JSON.stringify(O,null,2))}catch{y("")}},[i.responseBody,h,d,t]);const x=()=>{try{const N=h(),T=Array.from(new Set(v(t))).map(M=>N.find(O=>O.id===M)).filter(M=>M&&M.type==="gptTask");T.sort((M,O)=>{const k=D=>{var I;return((I=D==null?void 0:D.data)==null?void 0:I.nodeNumber)??1};return k(M)-k(O)});const _=JSON.parse(i.responseBody||"{}"),P=Object.keys(_).sort((M,O)=>Number(M)-Number(O)),E={};P.forEach((M,O)=>{var D;const k=T[O];if(k){const I=((D=k==null?void 0:k.data)==null?void 0:D.nodeNumber)??O+1;E[M]=`{{GPT ${I}.result}}`}else E[M]=_[M]}),S("responseBody",JSON.stringify(E,null,2)),c({title:"Auto-mapped",description:`Mapped ${P.length} keys to GPT node numbers.`})}catch{c({title:"Invalid JSON",description:"Fix the Body JSON before auto-mapping.",variant:"destructive"})}};p.useEffect(()=>{const N=xe.channel(`webhook-response-${t}-execution`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},j=>{var T;if(console.log(` Webhook Response ${t} received execution update:`,j),j.eventType==="INSERT"||j.eventType==="UPDATE"){const _=j.new,P=_.executed_nodes||[],E=_.current_node_id,M=_.status,O=(T=_.result_data)==null?void 0:T.nodeResults,k=P.includes(t),D=E===t,I=O&&O[t];if(console.log(` Webhook Response ${t}: isExecuted=${k}, isCurrent=${D}, hasResult=${!!I}, status=${M}`),e.onNodeUpdate){let $=e.status||"idle";if(M==="completed"||M==="success"){console.log(` FORCING Webhook Response ${t} to completed due to workflow completion`),$="completed",e.onNodeUpdate(t,{status:"completed",hasResult:!!I||!!e.executionResult,executionResult:I?O[t]:e.executionResult,hasCompletedExecution:!0});return}if(M==="running"&&D)$="running",c({title:"Webhook Response Started",description:`${e.label} is sending response...`});else if(k&&M==="completed")$="completed",c({title:"Webhook Response Sent",description:`${e.label} completed successfully`});else if(M==="failed"){const A=_.error_details;A&&A.failed_node_id===t?($="error",c({title:"Webhook Response Failed",description:`${e.label}: ${A.error_message}`,variant:"destructive"})):(k||D)&&($="error",c({title:"Webhook Response Failed",description:`${e.label} encountered an error`,variant:"destructive"}))}($!==e.status||I&&!e.hasCompletedExecution)&&(console.log(` Updating Webhook Response ${t} status: ${e.status} -> ${$}`),e.onNodeUpdate(t,{status:$,hasResult:!!I,executionResult:I?O[t]:e.executionResult,hasCompletedExecution:k&&M==="completed"}))}}}).subscribe((j,T)=>{console.log(` Webhook Response ${t} execution subscription status:`,j,T)});return()=>{console.log(` Cleaning up Webhook Response ${t} execution subscription`),xe.removeChannel(N)}},[t,e.label,e.onNodeUpdate,e.status,e.hasCompletedExecution,c]);const S=(N,j)=>{const T={...i};if(N==="responseBody"){let _=String(j??"").trim(),P=null;try{if(_.startsWith('"')&&_.endsWith('"')){const E=_.slice(1,-1);try{JSON.parse(E),_=E}catch{}}JSON.parse(_)}catch{P="Body must be valid JSON (object or array)."}f(P),T.responseBody=_}else T[N]=j;l(T),e.config=T},C=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-secondary/30"}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`bg-gradient-to-br from-pink-500 to-rose-600 p-4 rounded-lg shadow-lg min-w-[200px] border-2 relative ${C()}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white text-pink-600 text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:a.jsx(fr,{className:"h-4 w-4 text-pink-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-white font-semibold text-sm",children:e.label||"Webhook Response"}),e.status&&e.status!=="idle"&&a.jsx(He,{variant:e.status==="completed"?"default":e.status==="error"?"destructive":"secondary",className:"text-xs",children:e.status==="error"?" ERROR":e.status})]}),a.jsxs("div",{className:"text-pink-100 text-xs",children:["Status: ",i.statusCode||200]})]})]}),a.jsxs(Jt,{open:n,onOpenChange:r,children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 w-8 h-8 p-0",onClick:()=>r(!0),children:a.jsx(gr,{className:"h-4 w-4"})})}),a.jsxs(Ut,{className:"max-w-md",children:[a.jsxs(Zt,{children:[a.jsxs(Bt,{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-5 w-5 text-pink-600"}),"Webhooks"]}),a.jsxs(DT,{children:["Configure status, body placeholders like ","{{GPT 1.result}}",", headers, and preview the resolved response."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{className:"text-sm font-medium flex items-center gap-1",children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ae,{type:"number",min:"100",max:"599",value:i.statusCode,onChange:N=>S("statusCode",parseInt(N.target.value)||200),placeholder:"200",className:"h-10"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be higher than or equal to 100."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{className:"text-sm font-medium flex items-center gap-1",children:["Body ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Kt,{nodeId:t,value:i.responseBody||"",onChange:N=>S("responseBody",N),placeholder:'{"1": "{{GPT 1.result}}", "2": "{{GPT 2.result}}", "3": "{{GPT 3.result}}"}',className:"min-h-[80px]"}),u&&a.jsx("p",{className:"text-xs text-destructive",children:u}),(!i.responseBody||i.responseBody.trim()==="")&&a.jsx("p",{className:"text-xs text-destructive",children:"Response body is required"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm font-medium",children:"Live Preview"}),a.jsx("div",{className:"rounded border bg-muted/30 p-2",children:m?a.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap max-h-48 overflow-auto",children:m}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter valid JSON to preview resolved placeholders."})}),g.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(N=>a.jsx(He,{variant:N.resolved?"secondary":"destructive",className:"text-[10px]",children:N.resolved?`OK ${N.token}`:`Missing ${N.token}`},N.token))}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Y,{variant:"secondary",size:"sm",onClick:x,children:"Auto-map GPT outputs"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm",children:"Show advanced settings"}),a.jsx(Ot,{checked:i.showAdvancedSettings,onCheckedChange:N=>S("showAdvancedSettings",N)})]}),i.showAdvancedSettings&&a.jsxs(a.Fragment,{children:[a.jsx(lo,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm font-medium",children:"Custom Headers"}),a.jsx(Ys,{value:JSON.stringify(i.headers,null,2),onChange:N=>{try{const j=JSON.parse(N.target.value);S("headers",j)}catch{}},placeholder:'{"Content-Type": "application/json"}',className:"min-h-[60px] resize-none font-mono text-xs"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(Y,{variant:"outline",size:"sm",onClick:()=>r(!1),children:"Cancel"}),a.jsx(Y,{size:"sm",className:"bg-pink-600 hover:bg-pink-700",onClick:()=>{if(u){c({title:"Invalid JSON",description:u,variant:"destructive"});return}if(i.responseBody)try{JSON.parse(i.responseBody)}catch{c({title:"Invalid JSON",description:"Fix the Body JSON before saving.",variant:"destructive"});return}r(!1)},children:"Save"})]})]})]})]})]}),a.jsx("div",{className:"text-pink-100 text-xs mb-2",children:"Returns custom webhook response"}),e.status==="completed"&&a.jsxs("div",{className:"flex items-center gap-1 text-green-200 text-xs",children:[a.jsx(to,{className:"h-3 w-3"}),"Response sent"]}),a.jsx(ii,{status:e.status,hasResult:!!e.executionResult,onClick:()=>o(!0)})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-3 h-3 bg-primary border-2 border-background -translate-x-1"}),a.jsx(Yn,{open:s,onOpenChange:o,result:e.executionResult,nodeName:e.label||"Webhook Response",nodeConfig:e.config})]})});ux.displayName="WebhookResponseNode";const dx=p.memo(({data:e})=>{const[t,n]=p.useState(e.config||{}),[r,s]=p.useState(!1),o=(l,c)=>{n({...t,[l]:c}),e.config={...t,[l]:c}},i=()=>{switch(e.status){case"running":return"border-warning bg-warning/10";case"completed":return"border-success bg-success/10";case"error":return"border-destructive bg-destructive/10";default:return"border-secondary/30"}};return a.jsx(a.Fragment,{children:a.jsxs(mt,{className:`min-w-[200px] bg-gradient-secondary shadow-card ${i()}`,children:[a.jsx(zt,{className:"p-3 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-secondary text-secondary-foreground text-xs font-bold",children:e.nodeNumber||"1"}),a.jsx(cC,{className:"h-4 w-4 text-secondary"}),a.jsx("span",{className:"font-medium text-sm",children:e.label||"Array Aggregator"})]}),a.jsxs(Jt,{children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-0 pointer-events-none"})}),a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Configure Array Aggregator"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Merge Mode"}),a.jsxs(kt,{value:t.mergeMode||"concat",onValueChange:l=>o("mergeMode",l),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"concat",children:"Concatenate Arrays"}),a.jsx(re,{value:"merge",children:"Merge Objects"}),a.jsx(re,{value:"collect",children:"Collect as Separate Items"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Flatten Nested Arrays"}),a.jsx(Ot,{checked:t.flatten||!1,onCheckedChange:l=>o("flatten",l)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Remove Null Values"}),a.jsx(Ot,{checked:t.removeNull||!1,onCheckedChange:l=>o("removeNull",l)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Remove Duplicates"}),a.jsx(Ot,{checked:t.removeDuplicates||!1,onCheckedChange:l=>o("removeDuplicates",l)})]})]})]})]})]})}),a.jsxs(Tt,{className:"p-3 pt-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Collects & merges connected results"}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1 font-mono bg-muted/30 p-1 rounded",children:'{"task1": "result", "task2": "result"}'}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Mode: ",t.mergeMode||"merge"]})]}),a.jsx(qe,{type:"target",position:ue.Left,className:"w-4 h-4 bg-primary border-2 border-background rounded-full shadow-elegant hover:bg-primary/80 hover:scale-110 -translate-x-1"}),a.jsx(qe,{type:"source",position:ue.Right,className:"w-4 h-4 bg-success border-2 border-background rounded-full shadow-elegant hover:bg-success/80 hover:scale-110 -translate-x-1"}),e.isExecutionStart&&a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center shadow-md border-2 border-background",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground"})}),a.jsx(ii,{status:e.status,hasResult:!!e.executionResult,onClick:()=>s(!0)}),a.jsx(Yn,{open:r,onOpenChange:s,result:e.executionResult,nodeName:e.label||"Array Aggregator"})]})})});dx.displayName="ArrayAggregatorNode";const wG=({onSave:e,onExecute:t,onShowHistory:n,isExecuting:r,disabled:s})=>{const[o,i]=ie.useState(!1);return ie.useState(5),ie.useState("Parallel"),a.jsxs("div",{className:"flex items-center justify-between w-full px-3 py-1.5 bg-card border-t border-border shadow-elegant overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-shrink",children:[a.jsxs(Y,{onClick:t,disabled:r||s,className:"gap-1 bg-gradient-primary hover:opacity-90 rounded px-2 py-1 font-medium transition-smooth text-xs flex-shrink-0",children:[a.jsx(Dv,{className:"h-3 w-3"}),r?"Running...":"Run"]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground flex-shrink-0",children:[a.jsx(Ot,{checked:o,onCheckedChange:i,className:"scale-75"}),a.jsx("span",{className:"hidden sm:inline",children:"Auto run"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:"0"}),a.jsx("span",{children:"nodes"})]}),a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:"0s"}),a.jsx("span",{children:"avg"})]}),a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:"0%"}),a.jsx("span",{children:"ok"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx($m,{className:"h-3 w-3"})}),a.jsx(Y,{onClick:e,variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx(dC,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx(pC,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx(eO,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx(K$,{className:"h-3 w-3"})}),a.jsx(lo,{orientation:"vertical",className:"h-4 mx-0.5"}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-success/10 hover:bg-success/20 text-success transition-smooth",children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-warning/10 hover:bg-warning/20 text-warning transition-smooth",children:a.jsx(gr,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-destructive/10 hover:bg-destructive/20 text-destructive transition-smooth",children:a.jsx(z$,{className:"h-3 w-3"})}),a.jsx(Y,{onClick:n,variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-primary/10 hover:bg-primary/20 text-primary transition-smooth",title:"Show execution history",children:a.jsx(lC,{className:"h-3 w-3"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded bg-muted/50 hover:bg-muted transition-smooth",children:a.jsx(kc,{className:"h-3 w-3"})})]})]})};var UP=["PageUp","PageDown"],BP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},za="Slider",[Eg,bG,SG]=Sc(za),[WP,JY]=Gn(za,[SG]),[NG,wh]=WP(za),VP=p.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:d=()=>{},inverted:m=!1,form:y,...g}=e,b=p.useRef(new Set),v=p.useRef(0),x=i==="horizontal"?CG:jG,[S=[],C]=rs({prop:f,defaultProp:u,onChange:E=>{var O;(O=[...b.current][v.current])==null||O.focus(),h(E)}}),N=p.useRef(S);function j(E){const M=PG(S,E);P(E,M)}function T(E){P(E,v.current)}function _(){const E=N.current[v.current];S[v.current]!==E&&d(S)}function P(E,M,{commit:O}={commit:!1}){const k=IG(o),D=$G(Math.round((E-r)/o)*o+r,k),I=hc(D,[r,s]);C(($=[])=>{const A=EG($,I,M);if(MG(A,c*o)){v.current=A.indexOf(I);const R=String(A)!==String($);return R&&O&&d(A),R?A:$}else return $})}return a.jsx(NG,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:S,orientation:i,form:y,children:a.jsx(Eg.Provider,{scope:e.__scopeSlider,children:a.jsx(Eg.Slot,{scope:e.__scopeSlider,children:a.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Z(g.onPointerDown,()=>{l||(N.current=S)}),min:r,max:s,inverted:m,onSlideStart:l?void 0:j,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(s,S.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:M})=>{if(!l){const D=UP.includes(E.key)||E.shiftKey&&BP.includes(E.key)?10:1,I=v.current,$=S[I],A=o*D*M;P($+A,I,{commit:!0})}}})})})})});VP.displayName=za;var[qP,GP]=WP(za,{startEdge:"left",endEdge:"right",size:"width",direction:1}),CG=p.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,d]=p.useState(null),m=Ee(t,x=>d(x)),y=p.useRef(),g=Oa(s),b=g==="ltr",v=b&&!o||!b&&o;function w(x){const S=y.current||h.getBoundingClientRect(),C=[0,S.width],j=fx(C,v?[n,r]:[r,n]);return y.current=S,j(x-S.left)}return a.jsx(qP,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:a.jsx(KP,{dir:g,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=w(x.clientX);i==null||i(S)},onSlideMove:x=>{const S=w(x.clientX);l==null||l(S)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:x=>{const C=HP[v?"from-left":"from-right"].includes(x.key);u==null||u({event:x,direction:C?-1:1})}})})}),jG=p.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=p.useRef(null),h=Ee(t,f),d=p.useRef(),m=!s;function y(g){const b=d.current||f.current.getBoundingClientRect(),v=[0,b.height],x=fx(v,m?[r,n]:[n,r]);return d.current=b,x(g-b.top)}return a.jsx(qP,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:a.jsx(KP,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=y(g.clientY);o==null||o(b)},onSlideMove:g=>{const b=y(g.clientY);i==null||i(b)},onSlideEnd:()=>{d.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=HP[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),KP=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=wh(za,n);return a.jsx(ye.span,{...u,ref:t,onKeyDown:Z(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):UP.concat(BP).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Z(e.onPointerDown,h=>{const d=h.target;d.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(d)?d.focus():r(h)}),onPointerMove:Z(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Z(e.onPointerUp,h=>{const d=h.target;d.hasPointerCapture(h.pointerId)&&(d.releasePointerCapture(h.pointerId),o(h))})})}),YP="SliderTrack",XP=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=wh(YP,n);return a.jsx(ye.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});XP.displayName=YP;var Tg="SliderRange",QP=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=wh(Tg,n),o=GP(Tg,n),i=p.useRef(null),l=Ee(t,i),c=s.values.length,u=s.values.map(d=>ZP(d,s.min,s.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return a.jsx(ye.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:h+"%"}})});QP.displayName=Tg;var Pg="SliderThumb",JP=p.forwardRef((e,t)=>{const n=bG(e.__scopeSlider),[r,s]=p.useState(null),o=Ee(t,l=>s(l)),i=p.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(kG,{...e,ref:o,index:i})}),kG=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,i=wh(Pg,n),l=GP(Pg,n),[c,u]=p.useState(null),f=Ee(t,w=>u(w)),h=c?i.form||!!c.closest("form"):!0,d=qv(c),m=i.values[r],y=m===void 0?0:ZP(m,i.min,i.max),g=TG(r,i.values.length),b=d==null?void 0:d[l.size],v=b?RG(b,y,l.direction):0;return p.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[a.jsx(Eg.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(ye.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:m===void 0?{display:"none"}:e.style,onFocus:Z(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&a.jsx(_G,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},r)]})});JP.displayName=Pg;var _G=e=>{const{value:t,...n}=e,r=p.useRef(null),s=Ky(t);return p.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[s,t]),a.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function EG(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function ZP(e,t,n){const o=100/(n-t)*(e-t);return hc(o,[0,100])}function TG(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function PG(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function RG(e,t,n){const r=e/2,o=fx([0,50],[0,r]);return(r-o(t)*n)*n}function AG(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function MG(e,t){if(t>0){const n=AG(e);return Math.min(...n)>=t}return!0}function fx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function IG(e){return(String(e).split(".")[1]||"").length}function $G(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var eR=VP,OG=XP,DG=QP,LG=JP;const tR=p.forwardRef(({className:e,...t},n)=>a.jsxs(eR,{ref:n,className:ge("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(OG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(DG,{className:"absolute h-full bg-primary"})}),a.jsx(LG,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));tR.displayName=eR.displayName;const FG=jc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hx=p.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:ge(FG({variant:t}),e),...n}));hx.displayName="Alert";const zG=p.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));zG.displayName="AlertTitle";const px=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));px.displayName="AlertDescription";const Hc=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(null),[s,o]=p.useState(!0);p.useEffect(()=>{const{data:{subscription:c}}=xe.auth.onAuthStateChange((u,f)=>{var h;console.log("Auth state changed:",u,(h=f==null?void 0:f.user)==null?void 0:h.email),r(f),t((f==null?void 0:f.user)??null),o(!1)});return xe.auth.getSession().then(({data:{session:u}})=>{r(u),t((u==null?void 0:u.user)??null),o(!1)}),()=>c.unsubscribe()},[]);const i=()=>{Object.keys(localStorage).forEach(c=>{(c.startsWith("supabase.auth.")||c.includes("sb-"))&&localStorage.removeItem(c)}),Object.keys(sessionStorage||{}).forEach(c=>{(c.startsWith("supabase.auth.")||c.includes("sb-"))&&sessionStorage.removeItem(c)})};return{user:e,session:n,loading:s,signOut:async()=>{try{i();try{await xe.auth.signOut({scope:"global"})}catch{}window.location.href="/auth"}catch(c){console.error("Sign out error:",c)}},isAuthenticated:!!e}},UG=({open:e,onOpenChange:t,onAuthenticated:n})=>{const[r,s]=p.useState(""),[o,i]=p.useState(""),[l,c]=p.useState(!1),{toast:u}=Sn(),f=async()=>{if(!r||!o){u({title:"Missing fields",description:"Please enter both email and password.",variant:"destructive"});return}c(!0);try{const{error:d}=await xe.auth.signUp({email:r,password:o});if(d)throw d;u({title:"Account created!",description:"Check your email for verification link."}),t(!1)}catch(d){u({title:"Sign up failed",description:d.message,variant:"destructive"})}finally{c(!1)}},h=async()=>{if(!r||!o){u({title:"Missing fields",description:"Please enter both email and password.",variant:"destructive"});return}c(!0);try{const{error:d}=await xe.auth.signInWithPassword({email:r,password:o});if(d)throw d;u({title:"Signed in successfully!",description:"Welcome back!"}),n==null||n(),t(!1)}catch(d){u({title:"Sign in failed",description:d.message,variant:"destructive"})}finally{c(!1)}};return a.jsx(Jt,{open:e,onOpenChange:t,children:a.jsxs(Ut,{className:"max-w-md",children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Authentication Required"})}),a.jsxs(qy,{defaultValue:"signin",className:"w-full",children:[a.jsxs(ph,{className:"grid w-full grid-cols-2",children:[a.jsx(Yr,{value:"signin",children:"Sign In"}),a.jsx(Yr,{value:"signup",children:"Sign Up"})]}),a.jsxs(Xr,{value:"signin",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signin-email",children:"Email"}),a.jsx(Ae,{id:"signin-email",type:"email",value:r,onChange:d=>s(d.target.value),placeholder:"Enter your email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signin-password",children:"Password"}),a.jsx(Ae,{id:"signin-password",type:"password",value:o,onChange:d=>i(d.target.value),placeholder:"Enter your password"})]}),a.jsx(Y,{onClick:h,disabled:l,className:"w-full",children:l?"Signing in...":"Sign In"})]}),a.jsxs(Xr,{value:"signup",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signup-email",children:"Email"}),a.jsx(Ae,{id:"signup-email",type:"email",value:r,onChange:d=>s(d.target.value),placeholder:"Enter your email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signup-password",children:"Password"}),a.jsx(Ae,{id:"signup-password",type:"password",value:o,onChange:d=>i(d.target.value),placeholder:"Create a password"})]}),a.jsx(Y,{onClick:f,disabled:l,className:"w-full",children:l?"Creating account...":"Sign Up"})]})]})]})})},BG=({open:e,onOpenChange:t,onSave:n})=>{const[r,s]=p.useState("My gateway-webhook webhook"),[o,i]=p.useState([{id:1,name:"API key 1",key:"",header:"x-make-apikey"}]),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[h,d]=p.useState(!1),{toast:m}=Sn(),{user:y,isAuthenticated:g}=Hc(),b=()=>{const x={id:o.length+1,name:`API key ${o.length+1}`,key:"",header:"x-make-apikey"};i([...o,x])},v=x=>{i(o.filter(S=>S.id!==x))},w=async()=>{if(!r.trim()){m({title:"Name required",description:"Please enter a webhook name.",variant:"destructive"});return}if(r.length>128){m({title:"Name too long",description:"Webhook name must be 128 characters or less.",variant:"destructive"});return}f(!0);try{if(!g||!y){d(!0),f(!1);return}const x=r.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()+"-"+Math.random().toString(36).substring(2,8),S=o.filter(T=>T.key.trim()).map(T=>({id:T.id.toString(),name:T.name,key:T.key,header:T.header})),{data:C,error:N}=await xe.from("webhooks").insert({name:r,url_path:x,user_id:y.id,api_keys:S,workflow_data:{},status:"active"}).select().single();if(N)throw N;const j=`https://rnforgldmgrpibdbknja.supabase.co/functions/v1/webhook-handler/${x}`;m({title:"Webhook created successfully!",description:`Your webhook is available at: ${j}`}),n&&n({id:C.id,name:C.name,url:j,urlPath:C.url_path,method:"POST",apiKeys:S}),s("My gateway-webhook webhook"),i([{id:1,name:"API key 1",key:"",header:"x-make-apikey"}]),t(!1)}catch(x){console.error("Error creating webhook:",x),m({title:"Error creating webhook",description:x.message||"An unexpected error occurred.",variant:"destructive"})}finally{f(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Jt,{open:e,onOpenChange:t,children:a.jsxs(Ut,{className:"max-w-md p-0 gap-0",children:[a.jsx(Zt,{className:"bg-pink-400 text-white px-4 py-3 rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Bt,{className:"text-white font-medium",children:"Create a webhook"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U0,{className:"h-4 w-4"}),a.jsx(Im,{className:"h-4 w-4"}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-white hover:bg-white/20",onClick:()=>t(!1),children:a.jsx(ss,{className:"h-4 w-4"})})]})]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),a.jsxs(J,{className:"text-sm font-medium",children:["Webhook name ",a.jsx("span",{className:"text-red-500",children:"*"})]})]}),a.jsx(Ae,{value:r,onChange:x=>s(x.target.value),className:"w-full"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center text-white text-xs",children:"!"}),a.jsx("span",{children:"Must be between 1 and 128 characters long."})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),a.jsx(J,{className:"text-sm font-medium",children:"API Key authentication"})]}),a.jsxs("div",{className:"ml-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),a.jsx(J,{className:"text-sm font-medium",children:"API keys"})]}),a.jsxs("div",{className:"ml-6 space-y-3",children:[o.map(x=>a.jsxs("div",{className:"space-y-2 p-3 border border-gray-200 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:x.name}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>v(x.id),children:a.jsx(ss,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ae,{placeholder:"Enter API key value",type:"password",value:x.key,onChange:S=>{i(C=>C.map(N=>N.id===x.id?{...N,key:S.target.value}:N))}}),a.jsx(Ae,{placeholder:"Header name (default: x-make-apikey)",value:x.header,onChange:S=>{i(C=>C.map(N=>N.id===x.id?{...N,header:S.target.value}:N))}})]})]},x.id)),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs(Y,{className:"bg-pink-500 hover:bg-pink-600 text-white",size:"sm",children:[a.jsx("div",{className:"w-4 h-4 mr-2",children:""}),"Create a keychain"]})}),a.jsxs("button",{onClick:b,className:"flex items-center gap-2 text-blue-500 text-sm hover:text-blue-600 mt-2",children:[a.jsx("span",{className:"text-lg",children:"+"}),"Add API key"]})]})]})]}),a.jsxs(hx,{className:"bg-blue-50 border-blue-200",children:[a.jsx(U0,{className:"h-4 w-4 text-blue-500"}),a.jsx(px,{className:"text-sm text-blue-700",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:["Send the API key using the ",a.jsx("code",{className:"bg-gray-200 px-1 rounded text-pink-600",children:"x-make-apikey"})," HTTP header."]}),a.jsx("div",{className:"mt-2",children:"Add one or more API keys to enable authentication. If any key matches, access is granted."})]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsx(J,{className:"text-sm",children:"Show advanced settings"}),a.jsx(Ot,{checked:l,onCheckedChange:c})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t",children:[a.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Close"}),a.jsx(Y,{className:"bg-purple-600 hover:bg-purple-700",onClick:w,disabled:u,children:u?"Creating...":"Save"})]})]})}),a.jsx(UG,{open:h,onOpenChange:d,onAuthenticated:()=>d(!1)})]})},nR=({node:e,onUpdate:t})=>{const n=e.data,[r,s]=p.useState(n.config||{}),[o,i]=p.useState(!1),[l,c]=p.useState([]),[u,f]=p.useState(!1),[h,d]=p.useState(!1),[m,y]=p.useState(null),{toast:g}=Sn();p.useEffect(()=>{const _=e.data;s(_.config||{})},[e]),p.useEffect(()=>{e.type==="trigger"&&b()},[e.type]);const b=async()=>{f(!0);try{const{data:_,error:P}=await xe.from("webhooks").select("id, name, url_path").eq("status","active").order("created_at",{ascending:!1});if(P)throw P;c(_||[])}catch(_){console.error("Error fetching webhooks:",_),c([])}finally{f(!1)}},v=(_,P)=>{const E={...r,[_]:P};s(E),t({config:E})},w=()=>{switch(e.type){case"trigger":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Webhook *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:r.selectedHook||"",onValueChange:_=>v("selectedHook",_),children:[a.jsx(vt,{className:"flex-1",children:a.jsx(_t,{placeholder:u?"Loading...":l.length>0?"Choose a hook":"No webhooks available"})}),a.jsx(yt,{className:"bg-background border shadow-lg z-50",children:l.map(_=>a.jsx(re,{value:_.id,children:_.name},_.id))})]}),a.jsx(Y,{variant:"outline",size:"sm",children:"Edit"}),a.jsx(Y,{size:"sm",className:"bg-primary hover:bg-primary/90",onClick:()=>i(!0),children:"Add"})]}),S&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ae,{value:S,readOnly:!0,className:"text-xs bg-muted"}),a.jsx(Y,{variant:"outline",size:"sm",onClick:C,className:"shrink-0",children:a.jsx(pn,{className:"h-4 w-4"})})]}),a.jsxs(Y,{variant:"outline",size:"sm",className:"w-full",onClick:N,disabled:h||!r.selectedHook,children:[a.jsx(Om,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),h?"Listening for data...":"Redetermine data structure"]}),m&&!h&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Data structure determined!"}),a.jsx("div",{className:"text-green-700 text-xs",children:"The webhook data structure has been analyzed and is now available in parameter suggestions."})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Show advanced settings"}),a.jsx(Ot,{checked:r.showAdvancedSettings||!1,onCheckedChange:_=>v("showAdvancedSettings",_)})]}),r.showAdvancedSettings&&a.jsx("div",{className:"space-y-4 border-t pt-4",children:a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Webhook URL"}),a.jsx(Kt,{nodeId:e.id,value:r.webhookUrl||"",onChange:_=>v("webhookUrl",_),placeholder:"https://your-webhook-url.com"})]})})]});case"gptTask":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Model"}),a.jsxs(kt,{value:r.model||"gpt-4o-mini",onValueChange:_=>v("model",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"gpt-4.1-2025-04-14",children:"GPT-4.1 (Latest)"}),a.jsx(re,{value:"o4-mini-2025-04-16",children:"o4 Mini"}),a.jsx(re,{value:"o3-2025-04-16",children:"o3 (Reasoning)"}),a.jsx(re,{value:"gpt-4o",children:"GPT-4o"}),a.jsx(re,{value:"gpt-4o-mini",children:"GPT-4o Mini"}),a.jsx(re,{value:"gpt-4.1-mini-2025-04-14",children:"GPT-4.1 Mini"}),a.jsx(re,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),a.jsx(re,{value:"gpt-4",children:"GPT-4"}),a.jsx(re,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"System Message"}),a.jsx(Kt,{nodeId:e.id,value:r.systemMessage||"",onChange:_=>v("systemMessage",_),placeholder:"You are a helpful assistant...",className:"min-h-[72px]"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Prompt"}),a.jsx(Kt,{nodeId:e.id,value:r.prompt||"",onChange:_=>v("prompt",_),placeholder:"Enter your prompt...",className:"min-h-[96px]"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Max Tokens"}),a.jsx(Ae,{type:"number",value:r.max_tokens||1e3,onChange:_=>v("max_tokens",parseInt(_.target.value)),min:"1",max:"4000"})]}),a.jsxs("div",{children:[a.jsxs(J,{className:"text-sm font-medium",children:["Temperature: ",r.temperature||.7]}),a.jsx(tR,{value:[r.temperature||.7],onValueChange:([_])=>v("temperature",_),max:1,min:0,step:.1,className:"w-full mt-2"})]})]});case"httpTask":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Method"}),a.jsxs(kt,{value:r.method||"GET",onValueChange:_=>v("method",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"GET",children:"GET"}),a.jsx(re,{value:"POST",children:"POST"}),a.jsx(re,{value:"PUT",children:"PUT"}),a.jsx(re,{value:"DELETE",children:"DELETE"}),a.jsx(re,{value:"PATCH",children:"PATCH"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"URL"}),a.jsx(Kt,{nodeId:e.id,value:r.url||"",onChange:_=>v("url",_),placeholder:"https://api.example.com/endpoint"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Headers (JSON)"}),a.jsx(Kt,{nodeId:e.id,value:r.headers||"{}",onChange:_=>v("headers",_),placeholder:'{"Content-Type": "application/json"}',className:"min-h-[72px]"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Body (JSON)"}),a.jsx(Kt,{nodeId:e.id,value:r.body||"",onChange:_=>v("body",_),placeholder:'{"key": "value"}',className:"min-h-[96px]"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Follow Redirects"}),a.jsx(Ot,{checked:r.followRedirects||!1,onCheckedChange:_=>v("followRedirects",_)})]})]});case"conditional":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Condition Type"}),a.jsxs(kt,{value:r.conditionType||"equals",onValueChange:_=>v("conditionType",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"equals",children:"Equals"}),a.jsx(re,{value:"contains",children:"Contains"}),a.jsx(re,{value:"greater",children:"Greater Than"}),a.jsx(re,{value:"less",children:"Less Than"}),a.jsx(re,{value:"exists",children:"Exists"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Value to Check"}),a.jsx(Kt,{nodeId:e.id,value:r.checkValue||"",onChange:_=>v("checkValue",_),placeholder:"{{data.field}}"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Compare Against"}),a.jsx(Kt,{nodeId:e.id,value:r.compareValue||"",onChange:_=>v("compareValue",_),placeholder:"Expected value"})]})]});case"delay":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Duration"}),a.jsx(Ae,{type:"number",value:r.duration||1e3,onChange:_=>v("duration",parseInt(_.target.value)),min:"100"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Unit"}),a.jsxs(kt,{value:r.unit||"ms",onValueChange:_=>v("unit",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"ms",children:"Milliseconds"}),a.jsx(re,{value:"seconds",children:"Seconds"}),a.jsx(re,{value:"minutes",children:"Minutes"}),a.jsx(re,{value:"hours",children:"Hours"})]})]})]})]});case"router":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Execution Mode"}),a.jsxs(kt,{value:r.executionMode||"parallel",onValueChange:_=>v("executionMode",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"parallel",children:"Parallel - All at once"}),a.jsx(re,{value:"sequential",children:"Sequential - One by one"})]})]})]}),r.executionMode==="parallel"&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Wait for all branches"}),a.jsx(Ot,{checked:r.waitForAll||!1,onCheckedChange:_=>v("waitForAll",_)})]})]});case"arrayAggregator":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Merge Mode"}),a.jsxs(kt,{value:r.mergeMode||"concat",onValueChange:_=>v("mergeMode",_),children:[a.jsx(vt,{children:a.jsx(_t,{})}),a.jsxs(yt,{children:[a.jsx(re,{value:"concat",children:"Concatenate Arrays"}),a.jsx(re,{value:"merge",children:"Merge Objects"}),a.jsx(re,{value:"collect",children:"Collect as Separate Items"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Flatten Nested Arrays"}),a.jsx(Ot,{checked:r.flatten||!1,onCheckedChange:_=>v("flatten",_)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Remove Null Values"}),a.jsx(Ot,{checked:r.removeNull||!1,onCheckedChange:_=>v("removeNull",_)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm font-medium",children:"Remove Duplicates"}),a.jsx(Ot,{checked:r.removeDuplicates||!1,onCheckedChange:_=>v("removeDuplicates",_)})]})]});case"webhookResponse":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(J,{className:"text-sm font-medium flex items-center gap-1",children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ae,{type:"number",min:"100",max:"599",value:r.statusCode||200,onChange:_=>v("statusCode",parseInt(_.target.value)||200),placeholder:"200",className:"h-10"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be higher than or equal to 100."})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Body"}),a.jsx(Kt,{nodeId:e.id,value:r.responseBody||"",onChange:_=>v("responseBody",_),placeholder:"",className:"min-h-[80px]"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm",children:"Show advanced settings"}),a.jsx(Ot,{checked:r.showAdvancedSettings||!1,onCheckedChange:_=>v("showAdvancedSettings",_)})]}),r.showAdvancedSettings&&a.jsxs(a.Fragment,{children:[a.jsx(lo,{}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Custom Headers"}),a.jsx(Ys,{value:JSON.stringify(r.headers||{},null,2),onChange:_=>{try{const P=JSON.parse(_.target.value);v("headers",P)}catch{}},placeholder:'{"Content-Type": "application/json"}',className:"min-h-[60px] resize-none font-mono text-xs"})]})]})]});default:return a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"No configuration options available for this node type."})})}},x=l.find(_=>_.id===r.selectedHook),S=x?`https://rnforgldmgrpibdbknja.supabase.co/functions/v1/webhook-handler/${x.url_path}`:"",C=()=>{S&&(navigator.clipboard.writeText(S),g({title:"URL copied",description:"Webhook URL has been copied to clipboard."}))},N=async()=>{if(!r.selectedHook){g({title:"No webhook selected",description:"Please select a webhook first.",variant:"destructive"});return}console.log(" Starting data structure determination for webhook ID:",r.selectedHook),d(!0),y(null),g({title:"Listening for data",description:"Send a webhook request now. The system will analyze the data structure automatically."}),j(r.selectedHook)},j=async _=>{console.log(" Starting to listen for webhook data for ID:",_);const P=new Date().toISOString(),E=setInterval(async()=>{try{console.log(" Polling for webhook requests...");const{data:M,error:O}=await xe.from("webhook_requests").select("*").eq("webhook_id",_).gte("created_at",P).order("created_at",{ascending:!1}).limit(1);if(O){console.error(" Error fetching webhook requests:",O);return}if(console.log(" Found requests:",(M==null?void 0:M.length)||0),M&&M.length>0){const k=M[0];console.log(" Latest request:",k),console.log(" Request body structure:",k.request_body);const D=T(k.request_body);console.log(" Analyzed structure:",D),y(D),d(!1),clearInterval(E),window.webhookStructures=window.webhookStructures||{},window.webhookStructures[_]=D,window.dispatchEvent(new CustomEvent("webhookStructureUpdated",{detail:{webhookId:_,structure:D}})),console.log(" Webhook structure stored:",{webhookId:_,structure:D}),g({title:"Data structure determined!",description:"Webhook data structure has been analyzed and is now available in parameter suggestions."})}}catch(M){console.error(" Error polling for webhook data:",M)}},2e3);setTimeout(()=>{console.log(" Timeout reached, stopping listening"),clearInterval(E),h&&(d(!1),g({title:"Listening timeout",description:"Stopped listening for webhook data after 5 minutes."}))},3e5)},T=_=>{if(!_||typeof _!="object")return null;const P=(E,M="")=>{if(Array.isArray(E))return{type:"array",items:E.length>0?P(E[0],`${M}[0]`):"unknown",description:`Array of ${E.length} items`};if(typeof E=="object"&&E!==null){const O={};return Object.keys(E).forEach(k=>{O[k]=P(E[k],M?`${M}.${k}`:k)}),{type:"object",properties:O,description:`Object with ${Object.keys(E).length} properties`}}else return{type:typeof E,value:E,description:`${typeof E} value: ${String(E)}`}};return P(_)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Configuration"}),w()]}),a.jsx(BG,{open:o,onOpenChange:i,onSave:_=>{console.log("Webhook created:",_)}})]})},HG=({onExecuteFromNode:e,executionStartNode:t,nodes:n,setNodes:r})=>{const[s,o]=p.useState(!1),i=c=>{o(!0),c.dataTransfer.setData("application/execution-starter","true"),c.dataTransfer.effectAllowed="move"},l=()=>{o(!1)};return p.useEffect(()=>{const c=f=>{if(!s)return;f.preventDefault();const d=f.target.closest(".react-flow__node");if(d){const m=d.getAttribute("data-id");m&&(r(y=>y.map(g=>({...g,data:{...g.data,isExecutionStart:!1}}))),r(y=>y.map(g=>g.id===m?{...g,data:{...g.data,isExecutionStart:!0}}:g)),e(m))}},u=f=>{s&&f.preventDefault()};return document.addEventListener("drop",c),document.addEventListener("dragover",u),()=>{document.removeEventListener("drop",c),document.removeEventListener("dragover",u)}},[s,e,r]),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:`
          flex items-center gap-2 p-2 border border-dashed border-primary/30 rounded-lg
          cursor-grab hover:bg-primary/5 transition-colors
          ${s?"opacity-50":""}
        `,draggable:!0,onDragStart:i,onDragEnd:l,title:"Drag to set workflow execution starting point",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-glow rounded-lg flex items-center justify-center shadow-elegant",children:a.jsx(Mn,{className:"h-4 w-4 text-primary-foreground"})}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Drag to set execution start"})]})})},WG=[{type:"gptTask",label:"GPT Task",icon:Mn,color:"bg-blue-500"},{type:"httpTask",label:"HTTP Request",icon:Iv,color:"bg-green-500"},{type:"multipartHttp",label:"HTTP Multipart",icon:ir,color:"bg-purple-500"},{type:"imageTask",label:"Image Task",icon:$v,color:"bg-purple-500"},{type:"delay",label:"Delay",icon:dr,color:"bg-orange-500"},{type:"conditional",label:"Conditional",icon:Mv,color:"bg-yellow-500"},{type:"iterator",label:"Iterator",icon:X$,color:"bg-cyan-500"},{type:"dataTransform",label:"Transform",icon:Q$,color:"bg-pink-500"},{type:"arrayAggregator",label:"Array Aggregator",icon:kc,color:"bg-indigo-500"}],VG=({isOpen:e,onToggle:t,onAddNode:n,selectedNode:r,onNodeUpdate:s,onRemoveNode:o,onDuplicateNode:i,onExecuteFromNode:l,executionStartNode:c,nodes:u,setNodes:f})=>a.jsxs(a.Fragment,{children:[a.jsx(Y,{onClick:t,variant:"outline",size:"sm",className:`fixed top-4 right-4 z-10 transition-all duration-200 ${e?"right-80":"right-4"}`,children:e?a.jsx(eo,{className:"h-4 w-4"}):a.jsx(kc,{className:"h-4 w-4"})}),e&&a.jsxs("div",{className:"fixed right-0 top-0 h-full w-80 bg-background border-l border-border z-20 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"font-semibold",children:"Workflow Tools"}),a.jsx(Y,{onClick:t,variant:"ghost",size:"sm",children:a.jsx(eo,{className:"h-4 w-4"})})]}),a.jsx(zs,{className:"flex-1",children:r?a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("h4",{className:"font-medium",children:"Node Settings"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Y,{onClick:()=>i(r.id),variant:"outline",size:"sm",children:a.jsx(pn,{className:"h-4 w-4"})}),a.jsx(Y,{onClick:()=>o(r.id),variant:"outline",size:"sm",children:a.jsx(da,{className:"h-4 w-4"})})]})]}),a.jsx(nR,{node:r,onUpdate:h=>s(r.id,h)})]}):a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Execution Control"}),a.jsx(HG,{onExecuteFromNode:l,executionStartNode:c,nodes:u,setNodes:f})]}),a.jsx(lo,{className:"my-4"}),a.jsx("h4",{className:"font-medium mb-3",children:"Add Nodes"}),a.jsx("div",{className:"grid gap-2",children:WG.map(h=>{const d=h.icon;return a.jsxs(Y,{onClick:()=>n(h.type),variant:"outline",className:"justify-start h-auto p-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${h.color} mr-3`}),a.jsx(d,{className:"h-4 w-4 mr-2"}),h.label]},h.type)})})]})})]})]});var mx="ContextMenu",[qG,ZY]=Gn(mx,[Vf]),un=Vf(),[GG,rR]=qG(mx),sR=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:s,modal:o=!0}=e,[i,l]=p.useState(!1),c=un(t),u=Qe(r),f=p.useCallback(h=>{l(h),u(h)},[u]);return a.jsx(GG,{scope:t,open:i,onOpenChange:f,modal:o,children:a.jsx(mk,{...c,dir:s,open:i,onOpenChange:f,modal:o,children:n})})};sR.displayName=mx;var oR="ContextMenuTrigger",iR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...s}=e,o=rR(oR,n),i=un(n),l=p.useRef({x:0,y:0}),c=p.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=p.useRef(0),f=p.useCallback(()=>window.clearTimeout(u.current),[]),h=d=>{l.current={x:d.clientX,y:d.clientY},o.onOpenChange(!0)};return p.useEffect(()=>f,[f]),p.useEffect(()=>void(r&&f()),[r,f]),a.jsxs(a.Fragment,{children:[a.jsx(gk,{...i,virtualRef:c}),a.jsx(ye.span,{"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:Z(e.onContextMenu,d=>{f(),h(d),d.preventDefault()}),onPointerDown:r?e.onPointerDown:Z(e.onPointerDown,Du(d=>{f(),u.current=window.setTimeout(()=>h(d),700)})),onPointerMove:r?e.onPointerMove:Z(e.onPointerMove,Du(f)),onPointerCancel:r?e.onPointerCancel:Z(e.onPointerCancel,Du(f)),onPointerUp:r?e.onPointerUp:Z(e.onPointerUp,Du(f))})]})});iR.displayName=oR;var KG="ContextMenuPortal",aR=e=>{const{__scopeContextMenu:t,...n}=e,r=un(t);return a.jsx(vk,{...r,...n})};aR.displayName=KG;var lR="ContextMenuContent",cR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=rR(lR,n),o=un(n),i=p.useRef(!1);return a.jsx(yk,{...o,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cR.displayName=lR;var YG="ContextMenuGroup",XG=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(xk,{...s,...r,ref:t})});XG.displayName=YG;var QG="ContextMenuLabel",uR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(wk,{...s,...r,ref:t})});uR.displayName=QG;var JG="ContextMenuItem",dR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(bk,{...s,...r,ref:t})});dR.displayName=JG;var ZG="ContextMenuCheckboxItem",fR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(Sk,{...s,...r,ref:t})});fR.displayName=ZG;var eK="ContextMenuRadioGroup",tK=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(Nk,{...s,...r,ref:t})});tK.displayName=eK;var nK="ContextMenuRadioItem",hR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(Ck,{...s,...r,ref:t})});hR.displayName=nK;var rK="ContextMenuItemIndicator",pR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(jk,{...s,...r,ref:t})});pR.displayName=rK;var sK="ContextMenuSeparator",mR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(kk,{...s,...r,ref:t})});mR.displayName=sK;var oK="ContextMenuArrow",iK=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(_k,{...s,...r,ref:t})});iK.displayName=oK;var aK="ContextMenuSubTrigger",gR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(Ek,{...s,...r,ref:t})});gR.displayName=aK;var lK="ContextMenuSubContent",vR=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=un(n);return a.jsx(Tk,{...s,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vR.displayName=lK;function Du(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var cK=sR,uK=iR,dK=aR,yR=cR,xR=uR,wR=dR,bR=fR,SR=hR,NR=pR,CR=mR,jR=gR,kR=vR;const gx=cK,vx=uK,fK=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(jR,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[n,a.jsx(eo,{className:"ml-auto h-4 w-4"})]}));fK.displayName=jR.displayName;const hK=p.forwardRef(({className:e,...t},n)=>a.jsx(kR,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hK.displayName=kR.displayName;const bh=p.forwardRef(({className:e,...t},n)=>a.jsx(dK,{children:a.jsx(yR,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));bh.displayName=yR.displayName;const $t=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(wR,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));$t.displayName=wR.displayName;const pK=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(bR,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(NR,{children:a.jsx(Rv,{className:"h-4 w-4"})})}),t]}));pK.displayName=bR.displayName;const mK=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(SR,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(NR,{children:a.jsx(aC,{className:"h-2 w-2 fill-current"})})}),t]}));mK.displayName=SR.displayName;const gK=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(xR,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));gK.displayName=xR.displayName;const pc=p.forwardRef(({className:e,...t},n)=>a.jsx(CR,{ref:n,className:ge("-mx-1 my-1 h-px bg-border",e),...t}));pc.displayName=CR.displayName;const vK=[{id:"webhooks",name:"Webhooks",icon:a.jsx(fr,{className:"h-4 w-4"}),description:"Trigger workflows with HTTP requests",category:"scenario"},{id:"openai",name:"OpenAI (ChatGPT, Whisper, DALL-E)",icon:a.jsx(R$,{className:"h-4 w-4"}),description:"AI-powered text and image generation",category:"scenario"},{id:"http",name:"HTTP",icon:a.jsx(Iv,{className:"h-4 w-4"}),description:"Make HTTP requests to any API",category:"scenario"},{id:"multipart-http",name:"HTTP Multipart",icon:a.jsx(ir,{className:"h-4 w-4"}),description:"Upload files and form data via HTTP",category:"scenario"},{id:"uploadcare",name:"Uploadcare",icon:a.jsx(pC,{className:"h-4 w-4"}),description:"File upload and processing service",category:"scenario"},{id:"webhook-response",name:"Webhook Response",icon:a.jsx(fr,{className:"h-4 w-4"}),description:"Return custom webhook response",category:"scenario"},{id:"flow-control",name:"Flow Control",icon:a.jsx(Mv,{className:"h-4 w-4"}),description:"Control workflow execution flow",category:"all"},{id:"iterator",name:"Iterator",icon:a.jsx(uC,{className:"h-4 w-4"}),description:"Process arrays and collections",category:"all"},{id:"delay",name:"Delay",icon:a.jsx(dr,{className:"h-4 w-4"}),description:"Add delays to your workflow",category:"all"},{id:"data-transform",name:"Data Transform",icon:a.jsx(qt,{className:"h-4 w-4"}),description:"Transform and manipulate data",category:"all"},{id:"router",name:"Router",icon:a.jsx(Od,{className:"h-4 w-4"}),description:"Route data to multiple branches in parallel or sequence",category:"all"},{id:"array-aggregator",name:"Array Aggregator",icon:a.jsx(cC,{className:"h-4 w-4"}),description:"Merge all responses from previous connected modules into one array",category:"all"}],yK=({children:e,onAddNode:t})=>{const[n,r]=p.useState(""),[s,o]=p.useState(null),{screenToFlowPosition:i}=ri(),l=vK.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),c=l.filter(d=>d.category==="scenario"),u=l.filter(d=>d.category==="all"),f=d=>{const m=i({x:d.clientX,y:d.clientY});o(m)},h=d=>{const y={webhooks:"trigger",openai:"gptTask",http:"httpTask","multipart-http":"multipartHttp",uploadcare:"imageTask","webhook-response":"webhookResponse","flow-control":"conditional",iterator:"iterator",delay:"delay","data-transform":"dataTransform",router:"router","array-aggregator":"arrayAggregator"}[d]||"httpTask";let g;d==="webhooks"&&(g={triggerType:"webhook"}),t(y,s||void 0,g)};return a.jsxs(gx,{children:[a.jsx(vx,{asChild:!0,onContextMenu:f,children:e}),a.jsxs(bh,{className:"w-80 max-h-96 overflow-y-auto",children:[a.jsx("div",{className:"p-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(fC,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{placeholder:"Search apps or modules",value:n,onChange:d=>r(d.target.value),className:"pl-8 h-8"})]})}),a.jsx(pc,{}),c.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apps in Scenario"}),c.map(d=>a.jsxs($t,{onClick:()=>h(d.id),className:"flex items-start gap-3 p-3 cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 p-1.5 rounded-lg bg-primary/10 text-primary",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:d.name}),a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:d.description})]})]},d.id)),a.jsx(pc,{})]}),u.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"All Apps"}),u.map(d=>a.jsxs($t,{onClick:()=>h(d.id),className:"flex items-start gap-3 p-3 cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 p-1.5 rounded-lg bg-secondary/50",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:d.name}),a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:d.description})]})]},d.id))]}),l.length===0&&n&&a.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[a.jsx("div",{className:"text-sm",children:"No apps found"}),a.jsx("div",{className:"text-xs mt-1",children:"Try a different search term"})]})]})]})},Dn=({children:e,nodeId:t,nodeType:n,onRunSingle:r,onAddErrorHandler:s,onRename:o,onClone:i,onCopyModule:l,onAddNote:c,onDelete:u,onSettings:f})=>{const h=n==="trigger";return a.jsxs(gx,{children:[a.jsx(vx,{asChild:!0,children:a.jsx("div",{onContextMenu:d=>{d.stopPropagation()},children:e})}),a.jsxs(bh,{className:"w-56 bg-popover border border-border shadow-lg z-[9999] backdrop-blur-sm",children:[a.jsxs($t,{onClick:()=>f(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(gr,{className:"h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),!h&&a.jsxs($t,{onClick:()=>r(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(Dv,{className:"h-4 w-4"}),a.jsx("span",{children:"Run this module only"})]}),a.jsxs($t,{onClick:()=>s(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(hC,{className:"h-4 w-4"}),a.jsx("span",{children:"Add error handler"})]}),a.jsxs($t,{onClick:()=>o(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(Lv,{className:"h-4 w-4"}),a.jsx("span",{children:"Rename"})]}),a.jsxs($t,{onClick:()=>i(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(Ov,{className:"h-4 w-4"}),a.jsx("span",{children:"Clone"})]}),a.jsxs($t,{onClick:()=>l(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(pn,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy module"})]}),a.jsxs($t,{onClick:()=>c(t),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:"Add a note"})]}),a.jsx(pc,{}),a.jsxs($t,{onClick:d=>{d.preventDefault(),d.stopPropagation(),u(t)},className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-destructive hover:text-destructive-foreground text-destructive",children:[a.jsx(da,{className:"h-4 w-4"}),a.jsx("span",{children:"Delete module"})]})]})]})},xK=({node:e,isOpen:t,onClose:n,onUpdate:r})=>{if(!e)return null;const s=l=>{r(e.id,l)},o=()=>{var u;const l=e.type,c=((u=e.data)==null?void 0:u.label)||"";switch(l){case"trigger":return"Webhook Configuration";case"gptTask":return"GPT Task Configuration";case"httpTask":return"HTTP Request Configuration";case"multipartHttp":return"HTTP Multipart Configuration";case"imageTask":return"Image Task Configuration";case"delay":return"Delay Configuration";case"conditional":return"Conditional Configuration";case"iterator":return"Iterator Configuration";case"dataTransform":return"Data Transform Configuration";case"router":return"Router Configuration";case"webhookResponse":return"Webhooks";default:return`${c||l} Configuration`}},i=l=>{l.stopPropagation()};return a.jsx(Jt,{open:t,onOpenChange:n,children:a.jsxs(Ut,{className:"max-w-4xl max-h-[85vh] overflow-hidden p-0 gap-0 z-50",onClick:i,onPointerDownOutside:l=>{const c=l.target;(c.closest("[data-radix-popper-content-wrapper]")||c.closest("[data-radix-popover-content]"))&&l.preventDefault()},children:[a.jsxs("div",{className:"bg-pink-500 text-white px-6 py-4 flex items-center justify-between",children:[a.jsx(Bt,{className:"text-lg font-medium text-white",children:o()}),a.jsx(Y,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-pink-600 h-6 w-6",children:a.jsx(ss,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[65vh]",children:a.jsx(nR,{node:e,onUpdate:s})}),a.jsxs("div",{className:"border-t bg-muted/20 px-6 py-4 flex justify-end gap-3",children:[a.jsx(Y,{variant:"outline",onClick:n,children:"Cancel"}),a.jsx(Y,{onClick:n,className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Save"})]})]})})},wK=({webhook:e,onSave:t,onCancel:n})=>{var z;const[r,s]=p.useState((e==null?void 0:e.id)||""),[o,i]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState([]),[h,d]=p.useState(!1),[m,y]=p.useState({name:"",url:"",method:"POST",apiKeys:[]}),[g,b]=p.useState({name:"",key:"",header:"x-make-apikey"}),[v,w]=p.useState(!1),[x,S]=p.useState(!1),[C,N]=p.useState(null),[j,T]=p.useState(null),{toast:_}=Sn(),{user:P}=Hc();p.useEffect(()=>{E()},[]);const E=async()=>{d(!0);try{console.log("Fetching webhooks from database...");const{data:L,error:U}=await xe.from("webhooks").select("id, name, url_path, user_id");console.log("All webhooks in database:",L);const{data:B,error:H}=await xe.from("webhooks").select("id, name, url_path").eq("status","active");if(H)throw console.error("Error fetching webhooks:",H),H;console.log("Fetched webhooks data:",B);const ee=(B||[]).map(G=>({id:G.id,name:G.name,url:`https://rnforgldmgrpibdbknja.supabase.co/functions/v1/webhook-handler/${G.url_path}`,url_path:G.url_path}));console.log("Formatted webhooks:",ee),f(ee)}catch(L){console.error("Error fetching webhooks:",L),_({title:"Error",description:"Failed to load webhooks.",variant:"destructive"})}finally{d(!1)}},M=async()=>{if(!m.name.trim()){_({title:"Name required",description:"Please enter a webhook name.",variant:"destructive"});return}if(!P){_({title:"Authentication required",description:"Please log in to create webhooks.",variant:"destructive"});return}try{const L=Math.random().toString(36).substr(2,9),{data:U,error:B}=await xe.from("webhooks").insert({name:m.name,url_path:L,api_keys:m.apiKeys,status:"active",user_id:P.id}).select().single();if(B)throw B;const H={id:U.id,name:U.name,url:`${window.location.origin}/webhook/${U.url_path}`,method:m.method,apiKeys:m.apiKeys};t(H),c(!1),y({name:"",url:"",method:"POST",apiKeys:[]}),b({name:"",key:"",header:"x-make-apikey"}),w(!1),E(),_({title:"Webhook created",description:`"${H.name}" has been created successfully.`})}catch(L){console.error("Error creating webhook:",L),_({title:"Error",description:"Failed to create webhook.",variant:"destructive"})}},O=()=>{if(!g.name.trim()||!g.key.trim()){_({title:"API key details required",description:"Please enter both name and key.",variant:"destructive"});return}const L={id:`key-${Date.now()}`,name:g.name,key:g.key,header:g.header};y(U=>({...U,apiKeys:[...U.apiKeys,L]})),b({name:"",key:"",header:"x-make-apikey"}),w(!1),_({title:"API key added",description:"The API key has been added to the webhook."})},k=L=>{y(U=>({...U,apiKeys:U.apiKeys.filter(B=>B.id!==L)}))},D=async()=>{const L=u.find(U=>U.id===r);if(L)try{await navigator.clipboard.writeText(L.url),_({title:"URL copied",description:"Webhook URL has been copied to clipboard."})}catch{_({title:"Copy failed",description:"Failed to copy URL to clipboard.",variant:"destructive"})}},I=async()=>{const L=u.find(U=>U.id===r);if(!L){_({title:"No webhook selected",description:"Please select a webhook first.",variant:"destructive"});return}console.log(" Starting data structure determination for webhook:",L.name,"ID:",r),S(!0),N(r),T(null),_({title:"Listening for data",description:"Send a webhook request now. The system will analyze the data structure automatically."}),A(r)},$=()=>{S(!1),N(null),_({title:"Stopped listening",description:"No longer listening for webhook data."})},A=async L=>{console.log(" Starting to listen for webhook data for ID:",L);const U=new Date().toISOString(),B=setInterval(async()=>{try{console.log(" Polling for webhook requests...");const{data:H,error:ee}=await xe.from("webhook_requests").select("*").eq("webhook_id",L).gte("created_at",U).order("created_at",{ascending:!1}).limit(1);if(ee){console.error(" Error fetching webhook requests:",ee);return}if(console.log(" Found requests:",(H==null?void 0:H.length)||0),H&&H.length>0){const G=H[0];console.log(" Latest request:",G),console.log(" Request body structure:",G.request_body);const W=R(G.request_body);console.log(" Analyzed structure:",W),T(W),S(!1),N(null),clearInterval(B),window.webhookStructures=window.webhookStructures||{},window.webhookStructures[L]=W,window.dispatchEvent(new CustomEvent("webhookStructureUpdated",{detail:{webhookId:L,structure:W}})),console.log(" Webhook structure stored:",{webhookId:L,structure:W}),_({title:"Data structure determined!",description:"Webhook data structure has been analyzed and is now available in parameter suggestions."})}}catch(H){console.error(" Error polling for webhook data:",H)}},2e3);setTimeout(()=>{console.log(" Timeout reached, stopping listening"),clearInterval(B),x&&$()},3e5)},R=L=>{if(!L||typeof L!="object")return null;const U=(B,H="")=>{if(Array.isArray(B))return{type:"array",items:B.length>0?U(B[0],`${H}[0]`):"unknown",description:`Array of ${B.length} items`};if(typeof B=="object"&&B!==null){const ee={};return Object.keys(B).forEach(G=>{ee[G]=U(B[G],H?`${H}.${G}`:G)}),{type:"object",properties:ee,description:`Object with ${Object.keys(B).length} properties`}}else return{type:typeof B,value:B,description:`${typeof B} value: ${String(B)}`}};return U(L)};return a.jsxs(mt,{className:"w-full",children:[a.jsx(zt,{className:"bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-5 w-5"}),a.jsx(io,{children:"Webhooks"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:a.jsx(z0,{className:"h-4 w-4"})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:a.jsx(Im,{className:"h-4 w-4"})}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:n,className:"text-white hover:bg-white/20",children:a.jsx(ss,{className:"h-4 w-4"})})]})]})}),a.jsxs(Tt,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(J,{className:"font-medium",children:"Webhook *"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsxs(kt,{value:r,onValueChange:s,children:[a.jsx(vt,{className:"w-full",children:a.jsx(_t,{placeholder:"Choose a hook"})}),a.jsx(yt,{className:"bg-card border border-border shadow-lg z-50",children:u.map(L=>a.jsx(re,{value:L.id,children:L.name},L.id))})]})}),a.jsxs(Y,{variant:"outline",size:"sm",disabled:!r,children:[a.jsx(Lv,{className:"h-4 w-4"}),"Edit"]}),a.jsxs(Jt,{open:l,onOpenChange:c,children:[a.jsx(xr,{asChild:!0,children:a.jsx(Y,{variant:"outline",size:"sm",children:"Add"})}),a.jsxs(Ut,{className:"max-w-md",children:[a.jsx(Zt,{className:"bg-gradient-to-r from-pink-500 to-pink-600 text-white -m-6 mb-0 p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Bt,{className:"flex items-center gap-2",children:"Create a webhook"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:a.jsx(z0,{className:"h-4 w-4"})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:a.jsx(Im,{className:"h-4 w-4"})})]})]})}),a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(J,{className:"font-medium",children:"Webhook name *"})]}),a.jsx(Ae,{placeholder:"My gateway-webhook webhook",value:m.name,onChange:L=>y(U=>({...U,name:L.target.value}))}),a.jsx("p",{className:"text-xs text-amber-600",children:"Must be between 1 and 128 characters long."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U$,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(J,{className:"font-medium",children:"API Key authentication"})]}),m.apiKeys.length>0&&a.jsx("div",{className:"space-y-2",children:m.apiKeys.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:L.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:L.header})]}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>k(L.id),className:"text-destructive hover:text-destructive-foreground hover:bg-destructive",children:a.jsx(da,{className:"h-4 w-4"})})]},L.id))}),v?a.jsxs("div",{className:"space-y-3 p-4 border border-border rounded-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm",children:"API Key Name"}),a.jsx(Ae,{placeholder:"My API Key",value:g.name,onChange:L=>b(U=>({...U,name:L.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm",children:"API Key Value"}),a.jsx(Ae,{type:"password",placeholder:"Enter API key",value:g.key,onChange:L=>b(U=>({...U,key:L.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm",children:"Header Name"}),a.jsx(Ae,{placeholder:"x-make-apikey",value:g.header,onChange:L=>b(U=>({...U,header:L.target.value}))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{onClick:O,size:"sm",className:"flex-1",children:"Add Key"}),a.jsx(Y,{variant:"outline",onClick:()=>w(!1),size:"sm",children:"Cancel"})]})]}):a.jsxs(Y,{variant:"outline",onClick:()=>w(!0),className:"flex items-center gap-2 text-primary hover:text-primary-foreground",children:[a.jsx(kc,{className:"h-4 w-4"}),"Add API key"]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-blue-800",children:["Send the API key using the ",a.jsx("span",{className:"text-pink-600",children:"x-make-apikey"})," HTTP header."]}),a.jsx("div",{className:"text-blue-700 mt-1",children:"Add one or more API keys to enable authentication. If any key matches, access is granted."})]})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ot,{id:"advanced-settings",checked:o,onCheckedChange:i}),a.jsx(J,{htmlFor:"advanced-settings",className:"text-sm",children:"Show advanced settings"})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx(lo,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-sm font-medium",children:"Webhook URL"}),a.jsx(Ae,{value:`${window.location.origin}/webhook/${m.name.toLowerCase().replace(/\s+/g,"-")}-${Math.random().toString(36).substr(2,6)}`,readOnly:!0,className:"bg-muted",placeholder:"https://your-webhook-url.com"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Y,{variant:"outline",onClick:()=>c(!1),children:"Close"}),a.jsx(Y,{onClick:M,disabled:!m.name.trim(),className:"bg-primary hover:bg-primary/90",children:"Save"})]})]})]})]})]}),r&&a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:""})}),a.jsx("span",{className:"text-blue-600 font-medium",children:(z=u.find(L=>L.id===r))==null?void 0:z.url})]}),x&&C===r?a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"text-sm text-orange-800",children:[a.jsx("div",{className:"font-medium",children:"Make is now listening for the data and will determine the data structure from the incoming data automatically."}),a.jsx("div",{className:"mt-2",children:"To initiate this, please send your data sample to the webhook address displayed above."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:"destructive",size:"sm",onClick:$,className:"bg-red-600 hover:bg-red-700 text-white",children:"Stop"}),a.jsx(Y,{variant:"outline",size:"sm",onClick:D,className:"bg-blue-600 text-white hover:bg-blue-700 border-blue-600",children:"Copy address to clipboard"})]})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{variant:"outline",size:"sm",onClick:I,className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",disabled:h||x,children:[a.jsx(Y$,{className:`h-4 w-4 mr-2 ${x?"animate-spin":""}`}),x?"Listening for data...":"Redetermine data structure"]}),a.jsx(Y,{variant:"outline",size:"sm",onClick:D,className:"bg-blue-600 text-white hover:bg-blue-700 border-blue-600",children:"Copy address to clipboard"})]}),j&&!x&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-green-800 mb-2",children:"Data structure determined!"}),a.jsx("div",{className:"text-green-700 text-xs",children:"The webhook data structure has been analyzed and is now available in parameter suggestions."})]})})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["For more information on how to create a webhook in Webhooks, see the"," ",a.jsx("span",{className:"text-primary hover:underline cursor-pointer",children:"online Help"}),"."]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ot,{id:"show-advanced",checked:o,onCheckedChange:i}),a.jsx(J,{htmlFor:"show-advanced",className:"text-sm",children:"Show advanced settings"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Y,{variant:"outline",onClick:n,children:"Cancel"}),a.jsx(Y,{onClick:()=>{const L=u.find(U=>U.id===r);L&&t({id:L.id,name:L.name,url:L.url,method:"POST",apiKeys:[]})},disabled:!r,className:"bg-primary hover:bg-primary/90",children:"Save"})]})]})]})},c1=({children:e,edgeId:t,onAddNode:n})=>{const{setEdges:r,getEdge:s}=ri(),o=()=>{console.log("Set up filter for edge:",t)},i=()=>{t&&r(h=>h.filter(d=>d.id!==t))},l=()=>{t&&r(h=>h.map(d=>d.id===t?{...d,style:{...d.style,opacity:.3,strokeDasharray:"5,5"}}:d))},c=()=>{console.log("Select whole branch for edge:",t)},u=()=>{t&&n&&s(t)&&n("router")},f=()=>{t&&n&&s(t)&&n("httpTask")};return a.jsxs(gx,{children:[a.jsx(vx,{asChild:!0,children:e}),a.jsxs(bh,{className:"w-48",children:[a.jsxs($t,{onClick:o,children:[a.jsx(L$,{className:"mr-2 h-4 w-4"}),"Set up a filter"]}),a.jsxs($t,{onClick:i,children:[a.jsx(tO,{className:"mr-2 h-4 w-4"}),"Unlink"]}),a.jsxs($t,{onClick:l,children:[a.jsx(P$,{className:"mr-2 h-4 w-4"}),"Disable route"]}),a.jsxs($t,{onClick:c,children:[a.jsx(G$,{className:"mr-2 h-4 w-4"}),"Select whole branch"]}),a.jsx(pc,{}),a.jsxs($t,{onClick:u,children:[a.jsx(Od,{className:"mr-2 h-4 w-4"}),"Add a router"]}),a.jsxs($t,{onClick:f,children:[a.jsx(kc,{className:"mr-2 h-4 w-4"}),"Add a module"]})]})]})},u1=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:o,targetPosition:i,style:l={},markerEnd:c,data:u})=>{const[f,h]=p.useState(!1),[d,m,y]=jy({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:s,targetPosition:i});return a.jsxs(a.Fragment,{children:[a.jsx(c1,{edgeId:e,children:a.jsx(Dc,{path:d,markerEnd:c,style:{...l,stroke:f?"hsl(var(--primary))":"hsl(var(--muted-foreground))",strokeWidth:f?3:2,strokeDasharray:"5,5",transition:"all 0.2s ease-in-out",cursor:"pointer"},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)})}),a.jsx(HH,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${m}px,${y}px)`,pointerEvents:"all",padding:"10px"},onContextMenu:g=>{g.preventDefault(),g.stopPropagation()},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:a.jsx(c1,{edgeId:e,children:a.jsx("div",{className:"w-16 h-8 cursor-pointer hover:bg-primary/10 rounded transition-colors duration-200",style:{background:f?"hsla(var(--primary), 0.1)":"transparent"}})})})})]})};function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bK(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Lu=43200,d1=1440;let SK={};function NK(){return SK}function f1(e){const t=Dt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ud(e,t){const n=Dt(e),r=Dt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function CK(e){return bK(e,Date.now())}function jK(e,t){const n=Dt(e),r=Dt(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function kK(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function _K(e,t){return+Dt(e)-+Dt(t)}function EK(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function TK(e){const t=Dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function PK(e){const t=Dt(e);return+EK(t)==+TK(t)}function RK(e,t){const n=Dt(e),r=Dt(t),s=ud(n,r),o=Math.abs(jK(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let l=ud(n,r)===-s;PK(Dt(e))&&o===1&&ud(e,r)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function AK(e,t,n){const r=_K(e,t)/1e3;return kK(n==null?void 0:n.roundingMethod)(r)}const MK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IK=(e,t,n)=>{let r;const s=MK[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Op(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $K={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LK={date:Op({formats:$K,defaultWidth:"full"}),time:Op({formats:OK,defaultWidth:"full"}),dateTime:Op({formats:DK,defaultWidth:"full"})},FK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zK=(e,t,n,r)=>FK[e];function rl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const UK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GK=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KK={ordinalNumber:GK,era:rl({values:UK,defaultWidth:"wide"}),quarter:rl({values:BK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:HK,defaultWidth:"wide"}),day:rl({values:WK,defaultWidth:"wide"}),dayPeriod:rl({values:VK,defaultWidth:"wide",formattingValues:qK,defaultFormattingWidth:"wide"})};function sl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?XK(l,h=>h.test(i)):YK(l,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function YK(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function XK(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function QK(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const JK=/^(\d+)(th|st|nd|rd)?/i,ZK=/\d+/i,eY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tY={any:[/^b/i,/^(a|c)/i]},nY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rY={any:[/1/i,/2/i,/3/i,/4/i]},sY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uY={ordinalNumber:QK({matchPattern:JK,parsePattern:ZK,valueCallback:e=>parseInt(e,10)}),era:sl({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any"}),quarter:sl({matchPatterns:nY,defaultMatchWidth:"wide",parsePatterns:rY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sl({matchPatterns:sY,defaultMatchWidth:"wide",parsePatterns:oY,defaultParseWidth:"any"}),day:sl({matchPatterns:iY,defaultMatchWidth:"wide",parsePatterns:aY,defaultParseWidth:"any"}),dayPeriod:sl({matchPatterns:lY,defaultMatchWidth:"any",parsePatterns:cY,defaultParseWidth:"any"})},dY={code:"en-US",formatDistance:IK,formatLong:LK,formatRelative:zK,localize:KK,match:uY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fY(e,t,n){const r=NK(),s=(n==null?void 0:n.locale)??r.locale??dY,o=2520,i=ud(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let c,u;i>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const f=AK(u,c),h=(f1(u)-f1(c))/1e3,d=Math.round((f-h)/60);let m;if(d<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<d1){const y=Math.round(d/60);return s.formatDistance("aboutXHours",y,l)}else{if(d<o)return s.formatDistance("xDays",1,l);if(d<Lu){const y=Math.round(d/d1);return s.formatDistance("xDays",y,l)}else if(d<Lu*2)return m=Math.round(d/Lu),s.formatDistance("aboutXMonths",m,l)}if(m=RK(u,c),m<12){const y=Math.round(d/Lu);return s.formatDistance("xMonths",y,l)}else{const y=m%12,g=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",g,l):y<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function hY(e,t){return fY(e,CK(e),t)}const pY=({isOpen:e,onClose:t,onSelectExecution:n})=>{const[r,s]=p.useState([]),[o,i]=p.useState([]),[l,c]=p.useState(!1),u=async()=>{c(!0);try{const{data:y}=await xe.auth.getUser();if(!y.user)return;const{data:g,error:b}=await xe.from("workflow_executions").select("*").eq("user_id",y.user.id).order("started_at",{ascending:!1}).limit(50);if(b)throw b;const v=new Date,w=(g==null?void 0:g.filter(C=>{if(C.status!=="running")return!1;const N=new Date(C.started_at);return(v.getTime()-N.getTime())/(1e3*60)>10}))||[];if(w.length>0){console.log("Found stuck executions, cleaning up:",w.length),await Promise.all(w.map(N=>xe.from("workflow_executions").update({status:"failed",error_message:"Execution timed out or failed to complete",completed_at:new Date().toISOString()}).eq("id",N.id)));const{data:C}=await xe.from("workflow_executions").select("*").eq("user_id",y.user.id).order("started_at",{ascending:!1}).limit(50);g.splice(0,g.length,...C||[])}const x=(g==null?void 0:g.filter(C=>C.status==="running"))||[],S=(g==null?void 0:g.filter(C=>C.status!=="running"))||[];s(x),i(S)}catch(y){console.error("Error loading execution history:",y)}finally{c(!1)}};p.useEffect(()=>{e&&u()},[e]),p.useEffect(()=>{if(!e)return;const y=xe.channel("execution-history-updates").on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},g=>{console.log("Execution update received:",g),u()}).subscribe();return()=>{xe.removeChannel(y)}},[e]);const f=y=>{switch(y){case"running":return a.jsx(Om,{className:"h-4 w-4 animate-spin text-blue-500"});case"completed":return a.jsx(to,{className:"h-4 w-4 text-green-500"});case"failed":return a.jsx(hC,{className:"h-4 w-4 text-red-500"});default:return a.jsx(dr,{className:"h-4 w-4 text-gray-500"})}},h=y=>{switch(y){case"running":return a.jsx(He,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Running"});case"completed":return a.jsx(He,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Success"});case"failed":return a.jsx(He,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Failed"});default:return a.jsx(He,{variant:"outline",children:y})}},d=(y,g)=>{const b=new Date(y),v=g?new Date(g):new Date,w=Math.max(0,v.getTime()-b.getTime());return w<1e3?"Less than 1 sec":w<6e4?`${Math.round(w/1e3)} seconds`:`${Math.round(w/6e4)} minutes`},m=async()=>{try{const{data:y}=await xe.auth.getUser();if(!y.user)return;const{error:g}=await xe.from("workflow_executions").update({status:"failed",error_message:"Manually cleared stuck execution",completed_at:new Date().toISOString()}).eq("user_id",y.user.id).eq("status","running");if(g)throw g;await u()}catch(y){console.error("Error clearing stuck executions:",y)}};return e?a.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-background border-l border-border z-30 flex flex-col shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Execution History"}),a.jsx(Y,{onClick:t,variant:"ghost",size:"sm",children:a.jsx(ss,{className:"h-4 w-4"})})]}),a.jsx(zs,{className:"flex-1",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground",children:"Currently Running"}),r.length>0&&a.jsxs(Y,{onClick:m,variant:"ghost",size:"sm",className:"text-xs text-destructive hover:text-destructive",children:[a.jsx(da,{className:"h-3 w-3 mr-1"}),"Clear Stuck"]})]}),r.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No execution is currently running"}):a.jsx("div",{className:"space-y-2",children:r.map(y=>{var g;return a.jsxs(mt,{className:"p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(y),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f(y.status),a.jsx("span",{className:"text-sm font-medium",children:"Scenario execution"})]}),h(y.status)]}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsxs("div",{children:["Started ",hY(new Date(y.started_at))," ago"]}),a.jsxs("div",{children:["Executed ",((g=y.executed_nodes)==null?void 0:g.length)||0," nodes"]})]})]},y.id)})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground",children:"History"}),a.jsx(Y,{onClick:u,variant:"ghost",size:"sm",disabled:l,children:a.jsx(Om,{className:`h-3 w-3 ${l?"animate-spin":""}`})})]}),o.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No execution history found"}):a.jsx("div",{className:"space-y-2",children:o.map(y=>{var g;return a.jsxs(mt,{className:"p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(y),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f(y.status),a.jsxs("span",{className:"text-sm font-medium",children:[new Date(y.started_at).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})," ,",new Date(y.started_at).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})]})]}),h(y.status)]}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsxs("div",{children:[" ",((g=y.executed_nodes)==null?void 0:g.length)||0,y.status==="completed"?" KB":" nodes"]}),a.jsxs("div",{children:[" ",d(y.started_at,y.completed_at)]}),y.error_message&&a.jsxs("div",{className:"text-red-500 truncate",children:["Error: ",y.error_message]})]})]},y.id)})})]})]})})]}):null},mY={gptTask:Gy,httpTask:ex,multipartHttp:tx,imageTask:nx,trigger:rx,delay:sx,conditional:ox,iterator:ix,dataTransform:ax,router:cx,webhookResponse:ux,arrayAggregator:dx},gY={default:u1,smoothstep:u1},Fu=[],zu=[],h1=()=>{const[e,t,n]=WH(Fu),[r,s,o]=VH(zu),[i,l]=p.useState(!1),[c,u]=p.useState({name:"",description:""}),f=p.useCallback(F=>{console.log("onNodesChange called with changes:",F);const V=F.filter(q=>q.type==="remove");V.length>0&&console.log("Node removal detected through onNodesChange:",V),n(F)},[n]),[h,d]=p.useState(1),m=p.useMemo(()=>e.map(F=>F.data.nodeNumber!==void 0?F:{...F,data:{...F.data,nodeNumber:F.type==="trigger"?h:1}}),[e]),[y,g]=p.useState(!1),[b,v]=p.useState(null),[w,x]=p.useState(!1),[S,C]=p.useState([]),[N,j]=p.useState(!1);ie.useEffect(()=>{console.log(" parallelMode changed to:",N)},[N]);const[T,_]=p.useState(5),[P,E]=p.useState("scenarios"),[M,O]=p.useState([]),[k,D]=p.useState(null),[I,$]=p.useState({name:"",description:""}),[A,R]=p.useState(!1),[z,L]=p.useState(null),[U,B]=p.useState(!1),[H,ee]=p.useState(null),[G,W]=p.useState(!1),[Q,se]=p.useState(null),[de,fe]=p.useState(!1),[ae,pe]=p.useState([]),[ve,Me]=p.useState([]),[_e,st]=p.useState(null),{toast:Se}=Sn();p.useEffect(()=>{if(e.length>0&&!_e){const F=e[0];st(F.id),t(V=>V.map(q=>q.id===F.id?{...q,data:{...q.data,isExecutionStart:!0}}:{...q,data:{...q.data,isExecutionStart:!1}}))}},[e.length,_e,t]),p.useEffect(()=>{(async()=>{try{const{data:V}=await xe.auth.getUser();if(!V.user)return;const{data:q,error:ne}=await xe.from("workflows").select("*").eq("user_id",V.user.id).order("created_at",{ascending:!1});if(ne)throw ne;const X=(q==null?void 0:q.map(oe=>{const le=oe.workflow_data;return{id:oe.id,name:oe.name,description:oe.description||"",nodes:(le==null?void 0:le.nodes)||[],edges:(le==null?void 0:le.edges)||[],settings:(le==null?void 0:le.settings)||{parallelMode:!1,batchSize:5},createdAt:new Date(oe.created_at),updatedAt:new Date(oe.updated_at)}}))||[];O(X)}catch(V){console.error("Error loading workflows:",V),Se({title:"Error loading workflows",description:"Failed to load your saved workflows.",variant:"destructive"})}})()},[Se]);const Ce=p.useMemo(()=>Math.random().toString(36).substr(2,9),[]);console.log(` FlowBatchBuilder component loaded [${Ce}], preparing webhook listener...`),p.useEffect(()=>{console.log(` Setting up webhook listener for component [${Ce}]...`);let F=null,V=null;return(()=>{xe.getChannels().forEach(oe=>{var le,Ne;((le=oe.topic)!=null&&le.includes("webhook-results")||(Ne=oe.topic)!=null&&Ne.includes("workflow-executions"))&&(console.log(` Cleaning up existing channel: ${oe.topic}`),xe.removeChannel(oe))})})(),(()=>{console.log(` Creating Supabase channels for component [${Ce}]...`),V=xe.channel(`workflow-executions-realtime-${Ce}`).on("postgres_changes",{event:"*",schema:"public",table:"workflow_executions"},X=>{if(console.log(` [${Ce}] Workflow execution update received:`,X),console.log(` [${Ce}] Current nodes in state:`,e.map(oe=>({id:oe.id,type:oe.type,status:oe.data.status}))),X.eventType==="INSERT"||X.eventType==="UPDATE"){const oe=X.new,le=oe.executed_nodes||[],Ne=oe.current_node_id,we=oe.status;console.log(` [${Ce}] Execution details:`,{executedNodeIds:le,currentNodeId:Ne,status:we,executionData:oe}),t(ke=>{console.log(` [${Ce}] Updating nodes - current count:`,ke.length);const ce=ke.map(be=>{var ps,xo,wo,ms;const Ve=le.includes(be.id),tt=be.id===Ne;console.log(` [${Ce}] Node ${be.id}: isExecuted=${Ve}, isCurrent=${tt}, currentStatus=${be.data.status}`);let ht=be.data.status||"idle";return we==="completed"?Ve&&(ht="completed"):we==="running"?tt?ht="running":Ve&&(ht="completed"):we==="failed"&&(Ve||tt)&&(ht="error"),console.log(` [${Ce}] Node ${be.id} status: ${be.data.status} -> ${ht}`),{...be,data:{...be.data,status:ht,executionResult:Ve&&((xo=(ps=oe.result_data)==null?void 0:ps.nodeResults)!=null&&xo[be.id])?oe.result_data.nodeResults[be.id]:be.data.executionResult,hasResult:Ve&&!!((ms=(wo=oe.result_data)==null?void 0:wo.nodeResults)!=null&&ms[be.id]),hasCompletedExecution:Ve&&we==="completed"}}});return console.log(` [${Ce}] Final updated nodes:`,ce.map(be=>({id:be.id,type:be.type,status:be.data.status,hasResult:!!be.data.hasResult}))),ce}),we==="completed"?Se({title:" Workflow Completed",description:`Successfully executed ${le.length} nodes`,duration:5e3}):we==="failed"&&Se({title:" Workflow Failed",description:oe.error_message||"Workflow execution failed",duration:5e3})}}).subscribe((X,oe)=>{console.log(` [${Ce}] Workflow executions subscription status:`,X,oe)}),F=xe.channel(`webhook-results-global-${Ce}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"webhook_requests"},X=>{console.log(` [${Ce}] New webhook request received:`,X),console.log(` [${Ce}] Current nodes:`,e.map(le=>({id:le.id,type:le.type,data:le.data})));const oe=X.new.request_body;X.new.response_body,Se({title:" Webhook Data Received",description:a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("p",{className:"font-medium",children:"Processing webhook request..."}),a.jsx("div",{className:"text-xs space-y-1 bg-muted p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:" Request:"}),a.jsx("pre",{className:"text-xs mt-1 whitespace-pre-wrap break-all",children:JSON.stringify(oe,null,2)})]})})]}),duration:8e3})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"webhook_requests"},X=>{console.log(` [${Ce}] Webhook request updated:`,X);const oe=X.new;if(oe.response_body&&oe.processing_time_ms){console.log(" Full webhook result for debugging:",oe.response_body);const le=oe.response_body,Ne=(le==null?void 0:le.status)==="completed"&&(le==null?void 0:le.executedNodes);if(Ne){const we=le.executedNodes;console.log(` [${Ce}] Workflow completed! Updating ${we.length} nodes to completed status:`,we),t(ke=>{const ce=ke.map(be=>we.includes(be.id)?(console.log(` [${Ce}] Setting node ${be.id} to completed status`),{...be,data:{...be.data,status:"completed",hasResult:!0,hasCompletedExecution:!0,executionResult:le}}):be);return console.log(` [${Ce}] All nodes updated to completed:`,ce.filter(be=>we.includes(be.id)).map(be=>({id:be.id,status:be.data.status,hasResult:be.data.hasResult}))),ce})}else t(we=>(console.log(` [${Ce}] Webhook completed - checking node statuses`),we.map(ce=>ce.data.status==="running"&&oe.response_status>=200&&oe.response_status<300?(console.log(` [${Ce}] Updating node ${ce.id} from running to completed due to webhook completion`),{...ce,data:{...ce.data,status:"completed",hasResult:!0}}):ce)));Se({title:Ne?" Workflow Completed Successfully!":" Webhook Processing Complete",description:Ne?`All ${le.executedNodes.length} nodes completed successfully`:`Processed in ${oe.processing_time_ms}ms`,duration:5e3})}}).subscribe((X,oe)=>{console.log(` [${Ce}] Webhook requests subscription status:`,X,oe)})})(),()=>{console.log(` [${Ce}] Cleaning up realtime listeners...`),F&&xe.removeChannel(F),V&&xe.removeChannel(V)}},[t,Se,Ce]),p.useEffect(()=>{window.testWebhookUpdate=F=>{console.log("Testing webhook update for:",F),t(V=>V.map(ne=>{var oe,le,Ne;const X=ne.data;return ne.type==="trigger"&&((oe=X==null?void 0:X.config)==null?void 0:oe.triggerType)==="webhook"&&((Ne=(le=X==null?void 0:X.config)==null?void 0:le.webhook)==null?void 0:Ne.id)===F?(console.log("Test updating trigger node:",ne.id),{...ne,data:{...ne.data,status:"completed",executionResult:{success:!0,result:{message:"Test webhook data",timestamp:new Date().toISOString()},timestamp:new Date().toISOString(),processingTime:150}}}):ne}))}},[t]);const Be=p.useCallback(F=>{console.log("removeNode called for:",F),t(V=>V.filter(q=>q.id!==F)),s(V=>V.filter(q=>q.source!==F&&q.target!==F)),(b==null?void 0:b.id)===F&&v(null),console.log("Node removal completed, no toast should appear")},[t,s,b]);p.useEffect(()=>{const F=V=>{const q=V.target;q&&(q.tagName==="INPUT"||q.tagName==="TEXTAREA"||q.contentEditable==="true"||q.isContentEditable)||(V.key==="Delete"||V.key==="Backspace")&&b&&b.type!=="trigger"&&(V.preventDefault(),Be(b.id))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[b,Be]);const gt=p.useCallback(F=>{const V=e.find(q=>q.id===F);V&&(ee(V),B(!0))},[e]),dt=p.useCallback(F=>{Se({title:"Running single module",description:`Executing module ${F}...`})},[Se]),Ze=p.useCallback(F=>{Se({title:"Error handler added",description:`Error handler added to module ${F}`})},[Se]),St=p.useCallback(F=>{const V=prompt("Enter new name:");V&&t(q=>q.map(ne=>ne.id===F?{...ne,data:{...ne.data,label:V}}:ne))},[t]),ft=p.useCallback(F=>{const V=prompt("Add a note:");V&&(t(q=>q.map(ne=>ne.id===F?{...ne,data:{...ne.data,note:V}}:ne)),Se({title:"Note added",description:"Note has been added to the module"}))},[t,Se]),et=p.useCallback(F=>{const V=e.find(q=>q.id===F);V&&(navigator.clipboard.writeText(JSON.stringify(V)),Se({title:"Module copied",description:"Module configuration copied to clipboard"}))},[e,Se]),We=p.useCallback(F=>{const V=e.find(X=>X.id===F);if(!V||V.type==="trigger")return;const q=h,ne={...V,id:`${V.type}-${Date.now()}`,position:{x:V.position.x+50,y:V.position.y+50},data:{...V.data,label:`${V.data.label} (Copy)`,nodeNumber:q}};t(X=>[...X,ne]),d(X=>X+1),Se({title:"Task duplicated",description:"A copy of the task has been created."})},[e,t,Se,h]),Rt=p.useCallback((F,V)=>{console.log(" FlowBatchBuilder: Updating node",F,"with updates:",V),t(q=>q.map(ne=>ne.id===F?{...ne,data:{...ne.data,...V}}:ne))},[]),wr=p.useMemo(()=>({...mY,trigger:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"trigger",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(rx,{...F,data:{...F.data,onNodeUpdate:Rt}})}),gptTask:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"gptTask",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(Gy,{...F,data:{...F.data,onNodeUpdate:Rt}})}),httpTask:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"httpTask",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(ex,{...F,data:{...F.data,onNodeUpdate:Rt}})}),multipartHttp:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"multipartHttp",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(tx,{...F,data:{...F.data,onNodeUpdate:Rt}})}),imageTask:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"imageTask",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(nx,{...F,data:{...F.data,onNodeUpdate:Rt}})}),delay:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"delay",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(sx,{...F,data:{...F.data,onNodeUpdate:Rt}})}),conditional:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"conditional",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(ox,{...F,data:{...F.data,onNodeUpdate:Rt}})}),iterator:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"iterator",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(ix,{...F,data:{...F.data,onNodeUpdate:Rt}})}),dataTransform:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"dataTransform",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(ax,{...F,data:{...F.data,onNodeUpdate:Rt}})}),router:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"router",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(cx,{...F,data:{...F.data,onNodeUpdate:Rt}})}),webhookResponse:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"webhookResponse",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(ux,{...F,data:{...F.data,onNodeUpdate:Rt}})}),arrayAggregator:F=>a.jsx(Dn,{nodeId:F.id,nodeType:F.type||"arrayAggregator",onRunSingle:dt,onAddErrorHandler:Ze,onRename:St,onClone:We,onCopyModule:et,onAddNote:ft,onDelete:Be,onSettings:gt,children:a.jsx(dx,{...F,data:{...F.data,onNodeUpdate:Rt}})})}),[dt,Ze,St,We,et,ft,Be,gt,t]),fs=p.useCallback(F=>{const V={...F,id:`edge-${Date.now()}`,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2}};s(q=>K_(V,q))},[s]),Ua=p.useCallback((F,V)=>{if(console.log(" onNodeClick triggered",{button:F.button,target:F.target,nodeId:V.id,nodeType:V.type}),F.button===2){v(V);return}const q=F.target;if(q.closest("[data-execution-notification]")||q.closest('[role="dialog"]')||q.closest(".execution-notification")||q.closest('[data-testid="execution-notification"]')||q.closest('[data-testid="execution-result"]')||q.closest("button")||q.tagName==="BUTTON"||q.closest(".cursor-pointer")){console.log(" onNodeClick prevented - clicking on interactive element"),v(V);return}if(F.ctrlKey||F.metaKey||F.shiftKey||F.altKey){v(V);return}if(F.timeStamp&&Date.now()-F.timeStamp<50){console.log(" onNodeClick prevented - too close to dialog close event"),v(V);return}console.log(" onNodeClick proceeding to open settings dialog"),v(V),ee(V),B(!0)},[]),ai=p.useCallback(F=>{console.log(" onPaneClick triggered",{target:F.target,timeStamp:F.timeStamp}),B(!1),ee(null),v(null)},[]),li=(F,V,q)=>F==="trigger"&&(V!=null&&V.triggerType)?{webhook:"Webhook Trigger",batch:"Batch Trigger",schedule:"Schedule Trigger",database:"Database Trigger"}[V.triggerType]||"Trigger":{trigger:"Trigger",gptTask:q?`GPT ${q}`:"GPT Task",httpTask:"HTTP Request",multipartHttp:"HTTP Multipart",imageTask:"Image Processing",delay:"Delay",conditional:"Conditional",iterator:"Iterator",dataTransform:"Data Transform",router:"Router"}[F]||"Task",Ba=F=>({trigger:{triggerType:"webhook",webhookUrl:""},gptTask:{prompt:"",model:"gpt-4o-mini",max_tokens:1e3,temperature:.7},httpTask:{url:"",method:"GET",headers:{},body:""},imageTask:{url:"",width:300,height:300,format:"png"},delay:{duration:1e3,unit:"ms"},conditional:{condition:"",trueAction:"",falseAction:""},iterator:{items:[],action:""},dataTransform:{input:"",transformation:"",output:""},router:{executionMode:"parallel",waitForAll:!0,outputHandles:3}})[F]||{},yo=F=>F.length===0?{x:100,y:100}:{x:Math.max(...F.map(q=>q.position.x))+300,y:100},Nn=(F,V,q)=>{const ne=Ba(F),X=q?{...ne,...q}:ne,oe=V||yo(e),le=h,Ne={id:`${F}-${Date.now()}`,type:F,position:oe,data:{label:li(F,X,le),config:X,status:"idle",batchEnabled:!0,nodeNumber:le}},we=[...e,Ne];t(we),v(Ne),d(h+1)},Ha=(F,V,q)=>{const ne=new Set,X=[F];for(ne.add(F);X.length>0;){const oe=X.shift(),le=q.filter(Ne=>Ne.source===oe);for(const Ne of le)ne.has(Ne.target)||(ne.add(Ne.target),X.push(Ne.target))}return V.filter(oe=>ne.has(oe.id))},je=async F=>{g(!0);const q={id:Date.now(),startTime:new Date,status:"running",steps:[]};console.log(" EXECUTION STARTING with parallelMode:",N,"batchSize:",T),console.log(" Executing nodes:",F.map(ne=>ne.data.label||ne.type));try{if(N){console.log(" TAKING PARALLEL PATH");const ne=[];for(let X=0;X<F.length;X+=T)ne.push(F.slice(X,X+T));for(const X of ne){const oe=X.map(async le=>Le(le,q));await Promise.all(oe)}}else{console.log(" TAKING SEQUENTIAL PATH");for(const ne of F)await Le(ne,q)}q.endTime=new Date,q.status="completed",C(ne=>[q,...ne]),Se({title:" Batch workflow completed",description:`Executed ${F.length} task${F.length!==1?"s":""} successfully.`,duration:5e3})}catch(ne){console.error("Execution failed:",ne),q.endTime=new Date,q.status="failed",C(X=>[q,...X]),Se({title:" Execution failed",description:ne instanceof Error?ne.message:"An unknown error occurred",variant:"destructive",duration:5e3})}finally{g(!1),t(ne=>ne.map(X=>({...X,data:{...X.data,status:"idle"}})))}},Le=async(F,V)=>{var X,oe;const q=F.data,ne=Date.now();t(le=>le.map(Ne=>Ne.id===F.id?{...Ne,data:{...Ne.data,status:"running"}}:Ne));try{let le=null;if(F.type==="gptTask"){const ke=q.config||{},{data:ce,error:be}=await xe.functions.invoke("gpt-task",{body:{config:ke,inputs:{}}});if(be)throw be;le=ce}else if(F.type==="httpTask"){const ke=q.config||{};console.log(" Executing HTTP task with config:",ke);try{const{data:ce,error:be}=await xe.functions.invoke("http-task",{body:{config:ke}});be?(console.error(" HTTP task execution error:",be),le={message:"HTTP task failed",error:be.message||"Unknown error",http_error:be.message||"Unknown error",http_status:be.statusCode||500,config:ke,success:!1}):(console.log(" HTTP task response:",ce),ce&&ce.success===!1?le={message:`HTTP ${ce.status||"error"}`,error:ce.error||`HTTP ${ce.status} - ${ce.statusText}`,http_error:ce.error||`HTTP ${ce.status} - ${ce.statusText}`,http_status:ce.status,http_response:ce,config:ke,success:!1,status:ce.status,statusText:ce.statusText,headers:ce.headers,body:ce.body}:ce?le={message:`HTTP ${ce.status||200} - Success`,http_response:ce,http_status:ce.status,config:ke,success:ce.success!==!1,status:ce.status,statusText:ce.statusText,headers:ce.headers,body:ce.body}:le={message:"HTTP task completed",config:ke,success:!0})}catch(ce){console.error(" HTTP task execution exception:",ce),le={message:"HTTP task failed",error:ce.message||"Unknown error",http_error:ce.message||"Unknown error",config:ke}}}else if(F.type==="imageTask")le={message:"Image task executed",config:q.config||{}};else if(F.type==="delay"){const ke=((X=q.config)==null?void 0:X.delay)||1e3;await new Promise(ce=>setTimeout(ce,ke)),le={message:`Delayed for ${ke}ms`}}else F.type==="trigger"?le={message:"Trigger executed",trigger:(oe=q.config)==null?void 0:oe.triggerType}:le={message:`${F.type} executed`,config:q.config};const Ne=Date.now()-ne,we={nodeId:F.id,nodeName:q.label||F.type,status:"completed",duration:Ne,timestamp:new Date,result:le};V.steps.push(we),t(ke=>ke.map(ce=>ce.id===F.id?{...ce,data:{...ce.data,status:(le==null?void 0:le.success)===!1?"error":"completed",executionResult:le,hasResult:!0,hasCompletedExecution:!0}}:ce))}catch(le){const Ne=Date.now()-ne,we={nodeId:F.id,nodeName:q.label||F.type,status:"error",duration:Ne,timestamp:new Date,error:le instanceof Error?le.message:"Unknown error"};throw V.steps.push(we),t(ke=>ke.map(ce=>ce.id===F.id?{...ce,data:{...ce.data,status:"error"}}:ce)),le}},Fe=F=>{console.log(" Saving webhook data to node:",z,F),z&&(t(V=>V.map(q=>q.id===z?{...q,data:{...q.data,config:{...q.data.config,webhook:F,webhookId:F.id,selectedHook:F.id,triggerType:"webhook"}}}:q)),console.log(" Webhook saved to trigger node, ID:",F.id)),R(!1),L(null)},dn=async()=>{var ne;if(console.log(" executeBatchWorkflow called with executionStartNode:",_e),console.log(" Available nodes:",e.map(X=>({id:X.id,type:X.type,label:X.data.label}))),_e){const X=e.find(le=>le.id===_e);if(console.log(" Found start node:",X),!X){Se({title:" Invalid start node",description:"The selected execution start node was not found.",variant:"destructive"});return}const oe=Ha(_e,e,r);if(console.log(" Connected nodes found:",oe.map(le=>({id:le.id,type:le.type,label:le.data.label}))),oe.length===1){Se({title:" Executing single node",description:`Starting execution from: ${X.data.label||X.type}`,duration:3e3}),await je([X]);return}Se({title:" Starting from selected node",description:`Executing ${oe.length} connected node(s) from: ${X.data.label||X.type}`,duration:3e3}),await je(oe);return}let F=e.filter(X=>X.type!=="trigger");if(F.length===0){Se({title:"No tasks to execute",description:"Please add at least one task to the workflow.",variant:"destructive"});return}if(await je(F),F.length===0){Se({title:"No tasks to execute",description:"Please add at least one task to the workflow.",variant:"destructive"});return}g(!0);const q={id:Date.now(),startTime:new Date,status:"running",steps:[]};console.log(" EXECUTION STARTING with parallelMode:",N,"batchSize:",T);try{if(N){console.log(" TAKING PARALLEL PATH");const X=[];for(let oe=0;oe<F.length;oe+=T)X.push(F.slice(oe,oe+T));for(const oe of X){const le=oe.map(async we=>{const ke=we.data,ce=Date.now();t(be=>be.map(Ve=>Ve.id===we.id?{...Ve,data:{...Ve.data,status:"running"}}:Ve));try{let be=null;if(we.type==="gptTask"){const Ve=ke.config||{},{data:tt,error:ht}=await xe.functions.invoke("gpt-task",{body:{config:Ve,inputs:{}}});if(ht)throw new Error(ht.message||"GPT task failed");be={result:tt.result,model:tt.model,usage:tt.usage,executionTime:(Date.now()-ce)/1e3}}else await new Promise(Ve=>setTimeout(Ve,Math.random()*2e3+1e3)),be={result:`Task ${ke.label} completed successfully`,executionTime:(Date.now()-ce)/1e3};return t(Ve=>Ve.map(tt=>tt.id===we.id?{...tt,data:{...tt.data,status:"completed",executionResult:be,hasCompletedExecution:!0}}:tt)),{nodeId:we.id,nodeName:ke.label||"Unnamed Node",status:"completed",duration:Date.now()-ce,timestamp:new Date,result:be}}catch(be){return t(Ve=>Ve.map(tt=>tt.id===we.id?{...tt,data:{...tt.data,status:"error",executionResult:{error:be.message,executionTime:(Date.now()-ce)/1e3},hasCompletedExecution:!0}}:tt)),{nodeId:we.id,nodeName:ke.label||"Unnamed Node",status:"error",duration:Date.now()-ce,timestamp:new Date,error:be.message}}}),Ne=await Promise.all(le);q.steps.push(...Ne)}}else{console.log(" TAKING SEQUENTIAL PATH");const X=new Map;for(const oe of F){const le=oe.data,Ne=Date.now();t(we=>we.map(ke=>ke.id===oe.id?{...ke,data:{...ke.data,status:"running"}}:ke));try{let we=null;if(oe.type==="gptTask"){const ke=le.config||{},ce={};for(const[tt,ht]of X){const ps=e.find(ms=>ms.id===tt),xo=((ne=ps==null?void 0:ps.data)==null?void 0:ne.label)||`Node ${tt}`;ce[`${xo}.result`]=ht.result||ht.output,ce[`${xo}`]=ht.result||ht.output;const wo=F.findIndex(ms=>ms.id===tt)+1;ce[`GPT ${wo}.result`]=ht.result||ht.output,ce[`GPT ${wo}`]=ht.result||ht.output}console.log(" Passing inputs to GPT task:",ce);const{data:be,error:Ve}=await xe.functions.invoke("gpt-task",{body:{config:ke,inputs:ce}});if(Ve)throw new Error(Ve.message||"GPT task failed");we={result:be.result,model:be.model,usage:be.usage,executionTime:(Date.now()-Ne)/1e3}}else await new Promise(ke=>setTimeout(ke,1500)),we={result:`Task ${le.label} completed successfully`,executionTime:(Date.now()-Ne)/1e3};t(ke=>ke.map(ce=>ce.id===oe.id?{...ce,data:{...ce.data,status:"completed",executionResult:we,hasCompletedExecution:!0}}:ce)),X.set(oe.id,we),console.log(" Stored result for node:",oe.id,we),q.steps.push({nodeId:oe.id,nodeName:le.label||"Unnamed Node",status:"completed",duration:Date.now()-Ne,timestamp:new Date,result:we})}catch(we){t(ke=>ke.map(ce=>ce.id===oe.id?{...ce,data:{...ce.data,status:"error",executionResult:{error:we.message,executionTime:(Date.now()-Ne)/1e3},hasCompletedExecution:!0}}:ce)),q.steps.push({nodeId:oe.id,nodeName:le.label||"Unnamed Node",status:"error",duration:Date.now()-Ne,timestamp:new Date,error:we.message})}}}q.status="completed",q.endTime=new Date,C(X=>[q,...X.slice(0,9)]),Se({title:"Batch workflow completed",description:`Executed ${F.length} tasks ${N?"in parallel":"sequentially"} successfully.`})}catch{q.status="failed",q.endTime=new Date,Se({title:"Batch execution failed",description:"An error occurred while executing the batch workflow.",variant:"destructive"})}finally{g(!1),setTimeout(()=>{t(X=>X.map(oe=>({...oe,data:{...oe.data,status:"idle"}})))},3e3)}};p.useMemo(()=>{const F=e.length-1,V=r.length,q=S.length>0?S.reduce((ne,X)=>X.endTime&&X.startTime?ne+(X.endTime.getTime()-X.startTime.getTime()):ne,0)/S.length/1e3:0;return{totalNodes:F,totalConnections:V,avgExecutionTime:Math.round(q*10)/10,successRate:S.length>0?(S.filter(ne=>ne.status==="completed").length/S.length*100).toFixed(1):0}},[e,r,S]);const fn=async()=>{if(!I.name.trim()){Se({title:"Name required",description:"Please enter a scenario name.",variant:"destructive"});return}try{const F=await xe.auth.getUser();if(!F.data.user){Se({title:"Authentication required",description:"Please log in to create workflows.",variant:"destructive"});return}const{data:V,error:q}=await xe.from("workflows").insert({name:I.name.trim(),description:I.description.trim(),workflow_data:{nodes:Fu,edges:zu,settings:{parallelMode:!1,batchSize:5}},user_id:F.data.user.id}).select().single();if(q)throw q;const ne={id:V.id,name:V.name,description:V.description||"",nodes:Fu,edges:zu,settings:{parallelMode:!1,batchSize:5},createdAt:new Date(V.created_at),updatedAt:new Date(V.updated_at)};O(X=>[...X,ne]),D(ne),t(Fu),s(zu),j(!1),_(5),$({name:"",description:""}),E("workflow"),Se({title:"Scenario created",description:`"${ne.name}" has been created successfully.`})}catch(F){console.error("Error creating scenario:",F),Se({title:"Error creating scenario",description:"Failed to create the scenario. Please try again.",variant:"destructive"})}},hs=F=>{console.log(" Loading scenario:",F.name,"with parallelMode:",F.settings.parallelMode),D(F),t(F.nodes),s(F.edges),console.log(" Setting parallelMode to false for sequential execution"),j(!1),_(F.settings.batchSize||5),E("workflow")},ci=async F=>{try{const{error:V}=await xe.from("workflows").delete().eq("id",F);if(V)throw V;O(q=>q.filter(ne=>ne.id!==F)),(k==null?void 0:k.id)===F&&(D(null),E("scenarios")),Se({title:"Scenario deleted",description:"The scenario has been removed."})}catch(V){console.error("Error deleting scenario:",V),Se({title:"Delete failed",description:"Failed to delete scenario. Please try again.",variant:"destructive"})}},Wc=async()=>{if(e.length===0){Se({title:"No workflow to save",description:"Please add some nodes to the workflow first.",variant:"destructive"});return}k?await Vc(k.name,k.description):(u({name:"",description:""}),l(!0))},Vc=async(F,V)=>{const q=F||c.name,ne=V||c.description;if(!q.trim()){Se({title:"Name required",description:"Please enter a workflow name.",variant:"destructive"});return}try{const{data:X}=await xe.auth.getUser();if(!X.user){Se({title:"Authentication required",description:"Please log in to save workflows.",variant:"destructive"});return}if(k){const{data:le,error:Ne}=await xe.from("workflows").update({name:q.trim(),description:ne.trim(),workflow_data:{nodes:e,edges:r,settings:{parallelMode:N,batchSize:T}}}).eq("id",k.id).eq("user_id",X.user.id).select();if(Ne)throw Ne;const we={...k,name:q.trim(),description:ne.trim(),nodes:e,edges:r,settings:{parallelMode:N,batchSize:T},updatedAt:new Date};D(we),O(ke=>ke.map(ce=>ce.id===k.id?we:ce)),Se({title:"Scenario updated",description:`"${q}" has been updated successfully.`})}else{const{data:le,error:Ne}=await xe.from("workflows").insert({name:q.trim(),description:ne.trim(),workflow_data:{nodes:e,edges:r,settings:{parallelMode:N,batchSize:T}},user_id:X.user.id}).select();if(Ne)throw Ne;Se({title:"Workflow saved",description:`"${q}" has been saved successfully.`})}u({name:"",description:""}),i&&l(!1);const{data:oe}=await xe.from("workflows").select("*").eq("user_id",X.user.id).order("created_at",{ascending:!1});if(oe){const le=oe.map(Ne=>{const we=Ne.workflow_data;return{id:Ne.id,name:Ne.name,description:Ne.description||"",nodes:(we==null?void 0:we.nodes)||[],edges:(we==null?void 0:we.edges)||[],settings:(we==null?void 0:we.settings)||{parallelMode:!1,batchSize:5},createdAt:new Date(Ne.created_at),updatedAt:new Date(Ne.updated_at)}});O(le)}}catch(X){console.error("Error saving workflow:",X),Se({title:"Save failed",description:"Failed to save workflow. Please try again.",variant:"destructive"})}},Sh=()=>a.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Automation Scenarios"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage your batch automation workflows"})]}),a.jsxs(Y,{onClick:()=>E("create-scenario"),className:"gap-2 bg-gradient-primary hover:opacity-90",children:[a.jsx(hu,{className:"h-4 w-4"}),"New Scenario"]})]})}),a.jsx("div",{className:"flex-1 p-6",children:M.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-secondary flex items-center justify-center mb-6",children:a.jsx(hu,{className:"h-12 w-12 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"No scenarios yet"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Get started by creating your first automation scenario. You can build complex workflows and save them for later use."}),a.jsxs(Y,{onClick:()=>E("create-scenario"),className:"gap-2 bg-gradient-primary hover:opacity-90",children:[a.jsx(hu,{className:"h-4 w-4"}),"Create First Scenario"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(F=>a.jsxs(mt,{className:"hover:shadow-lg transition-all",children:[a.jsx(zt,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(io,{className:"text-lg",children:F.name}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:F.description||"No description"})]}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ci(F.id),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(da,{className:"h-4 w-4"})})]})}),a.jsx(Tt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs(He,{variant:"secondary",children:[F.nodes.length-1," Tasks"]}),a.jsx(He,{variant:"outline",children:F.settings.parallelMode?"Parallel":"Sequential"})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",F.createdAt.toLocaleDateString()]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{onClick:()=>hs(F),className:"flex-1 gap-2",children:[a.jsx(Lv,{className:"h-4 w-4"}),"Open Scenario"]}),a.jsxs(Y,{variant:"destructive",size:"default",onClick:()=>ci(F.id),className:"gap-2",children:[a.jsx(da,{className:"h-4 w-4"}),"Delete"]})]})]})})]},F.id))})})]}),Nh=()=>a.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Y,{variant:"ghost",onClick:()=>E("scenarios"),className:"gap-2",children:[a.jsx(F0,{className:"h-4 w-4"}),"Back to Scenarios"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Create New Scenario"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Set up a new automation workflow scenario"})]})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:a.jsxs(mt,{className:"w-full max-w-md",children:[a.jsx(zt,{children:a.jsx(io,{children:"Scenario Details"})}),a.jsxs(Tt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scenario-name",children:"Scenario Name"}),a.jsx(Ae,{id:"scenario-name",placeholder:"Enter scenario name",value:I.name,onChange:F=>$(V=>({...V,name:F.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scenario-description",children:"Description (Optional)"}),a.jsx(Ys,{id:"scenario-description",placeholder:"Describe what this scenario does",value:I.description,onChange:F=>$(V=>({...V,description:F.target.value})),rows:3})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Y,{variant:"outline",onClick:()=>E("scenarios"),className:"flex-1",children:"Cancel"}),a.jsxs(Y,{onClick:fn,className:"flex-1 gap-2 bg-gradient-primary hover:opacity-90",disabled:!I.name.trim(),children:[a.jsx(hu,{className:"h-4 w-4"}),"Create Scenario"]})]})]})]})})]});return P==="scenarios"?Sh():P==="create-scenario"?Nh():a.jsx(BE,{children:a.jsxs("div",{className:"h-screen flex bg-background",children:[a.jsx(VG,{isOpen:w,onToggle:()=>x(!w),onAddNode:Nn,selectedNode:b,onNodeUpdate:(F,V)=>{t(q=>q.map(ne=>ne.id===F?{...ne,data:{...ne.data,...V}}:ne))},onRemoveNode:Be,onDuplicateNode:We,onExecuteFromNode:st,executionStartNode:_e,nodes:m,setNodes:t}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-secondary border-b border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>E("scenarios"),className:"h-8 w-8",children:a.jsx(F0,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-foreground font-medium",children:(k==null?void 0:k.name)||"name of scenario"}),de&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[a.jsx(D$,{className:"h-3 w-3"}),a.jsx("span",{children:"Flashback Mode"}),a.jsx(Y,{onClick:()=>{t(ae),s(ve),fe(!1),se(null),Se({title:" Returned to Full View",description:"Showing all workflow nodes",duration:2e3})},variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-primary/20",children:a.jsx(ss,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Y,{onClick:()=>W(!0),variant:"ghost",size:"icon",className:"h-8 w-8",title:"Show execution history",children:a.jsx(lC,{className:"h-4 w-4"})}),a.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(W$,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex-1 relative flex flex-col min-h-0",children:[A?a.jsx("div",{className:"absolute inset-0 bg-background z-50 p-6 overflow-auto",children:a.jsx(wK,{onSave:Fe,onCancel:()=>{R(!1),L(null)}})}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex-1 relative",style:{height:"calc(100vh - 120px)"},children:[a.jsx(yK,{onAddNode:Nn,children:a.jsxs(UH,{nodes:m,edges:r,onNodesChange:f,onEdgesChange:o,onConnect:fs,onNodeClick:Ua,onPaneClick:ai,nodeTypes:wr,edgeTypes:gY,fitView:!0,className:"bg-background w-full h-full",connectionLineStyle:{stroke:"hsl(var(--primary))",strokeWidth:2},defaultViewport:{x:0,y:0,zoom:.8},children:[a.jsx(rW,{className:"bg-card border border-border shadow-elegant",showZoom:!0,showFitView:!0,showInteractive:!0}),a.jsx(XH,{color:"hsl(var(--muted-foreground))",gap:20,variant:Jr.Dots})]})}),e.length>0&&a.jsx("div",{className:"absolute top-4 left-4 z-20 cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:F=>{F.dataTransfer.setData("application/execution-starter","true"),F.dataTransfer.effectAllowed="move"},onDragEnd:F=>{var ne;const V=document.elementFromPoint(F.clientX,F.clientY),q=V==null?void 0:V.closest(".react-flow__node");if(q){const X=q.getAttribute("data-id");X&&(t(oe=>oe.map(le=>({...le,data:{...le.data,isExecutionStart:le.id===X}}))),st(X),Se({title:" Execution Start Updated",description:`Workflow will now start from "${((ne=e.find(oe=>oe.id===X))==null?void 0:ne.data.label)||"selected node"}"`,duration:3e3}))}},title:"Drag to set workflow execution starting point",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-br from-primary to-primary-glow rounded-lg shadow-elegant border border-primary/20 hover:scale-105 transition-transform",children:[a.jsx("div",{className:"w-6 h-6 bg-primary-foreground/20 rounded-full flex items-center justify-center",children:a.jsx(Mn,{className:"h-3 w-3 text-primary-foreground animate-pulse"})}),a.jsx("span",{className:"text-xs text-primary-foreground font-medium",children:"Execution Start"})]})}),a.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-10",children:a.jsx(wG,{onSave:Wc,onExecute:dn,onShowHistory:()=>W(!0),isExecuting:y,disabled:e.filter(F=>F.type!=="trigger").length===0})})]})}),!w&&!A]})]}),a.jsx(xK,{node:H,isOpen:U,onClose:()=>{B(!1),ee(null)},onUpdate:(F,V)=>{t(q=>q.map(ne=>ne.id===F?{...ne,data:{...ne.data,...V}}:ne))}}),a.jsx(Jt,{open:i,onOpenChange:l,children:a.jsxs(Ut,{children:[a.jsx(Zt,{children:a.jsx(Bt,{children:"Save Workflow"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"workflow-name",children:"Workflow Name"}),a.jsx(Ae,{id:"workflow-name",placeholder:"Enter workflow name",value:c.name,onChange:F=>u(V=>({...V,name:F.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"workflow-description",children:"Description (Optional)"}),a.jsx(Ys,{id:"workflow-description",placeholder:"Describe what this workflow does",value:c.description,onChange:F=>u(V=>({...V,description:F.target.value})),rows:3})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Y,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),a.jsxs(Y,{onClick:()=>Vc(),className:"flex-1 gap-2 bg-gradient-primary hover:opacity-90",disabled:!c.name.trim(),children:[a.jsx(dC,{className:"h-4 w-4"}),"Save Workflow"]})]})]})]})}),a.jsx(pY,{isOpen:G,onClose:()=>W(!1),onSelectExecution:F=>{se(F),console.log("Selected execution:",F);const V=F.executed_nodes||[];console.log("Executed node IDs:",V),de||(pe([...e]),Me([...r]));const q=e.filter(X=>V.includes(X.id)).map(X=>({...X,data:{...X.data,status:"completed",executionResult:F.result_data,hasResult:!!F.result_data,hasCompletedExecution:!0}})),ne=r.filter(X=>V.includes(X.source)&&V.includes(X.target));t(q),s(ne),fe(!0),Se({title:" Flashback Mode",description:`Showing ${V.length} executed nodes from this run`,duration:3e3})}})]})})};var yx="Avatar",[vY,eX]=Gn(yx),[yY,_R]=vY(yx),ER=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=p.useState("idle");return a.jsx(yY,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(ye.span,{...r,ref:t})})});ER.displayName=yx;var TR="AvatarImage",PR=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=_R(TR,n),l=xY(r,o.referrerPolicy),c=Qe(u=>{s(u),i.onImageLoadingStatusChange(u)});return Pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ye.img,{...o,ref:t,src:r}):null});PR.displayName=TR;var RR="AvatarFallback",AR=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=_R(RR,n),[i,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(ye.span,{...s,ref:t}):null});AR.displayName=RR;function xY(e,t){const[n,r]=p.useState("idle");return Pt(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&r(l)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var MR=ER,IR=PR,$R=AR;const OR=p.forwardRef(({className:e,...t},n)=>a.jsx(MR,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));OR.displayName=MR.displayName;const wY=p.forwardRef(({className:e,...t},n)=>a.jsx(IR,{ref:n,className:ge("aspect-square h-full w-full",e),...t}));wY.displayName=IR.displayName;const DR=p.forwardRef(({className:e,...t},n)=>a.jsx($R,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));DR.displayName=$R.displayName;const bY=()=>{var s;const{user:e,isAuthenticated:t,signOut:n}=Hc(),r=ny();return t?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(OR,{className:"h-8 w-8",children:a.jsx(DR,{children:((s=e==null?void 0:e.email)==null?void 0:s.charAt(0).toUpperCase())||"U"})}),a.jsx("span",{className:"text-sm text-muted-foreground max-w-32 truncate",children:e==null?void 0:e.email}),a.jsxs(Y,{variant:"ghost",size:"sm",onClick:n,className:"gap-1",children:[a.jsx(H$,{className:"h-3 w-3"}),"Sign Out"]})]}):a.jsxs(Y,{variant:"outline",onClick:()=>r("/auth"),className:"gap-2",children:[a.jsx(mC,{className:"h-4 w-4"}),"Sign In"]})},SY=()=>{const[e,t]=p.useState("dashboard"),n=()=>{switch(e){case"dashboard":return a.jsx(Rw,{});case"workflows":return a.jsx(h1,{});case"templates":return a.jsx(tF,{});case"analytics":return a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Analytics"}),a.jsx("p",{className:"text-muted-foreground",children:"Advanced analytics coming soon..."})]});case"settings":return a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configuration options coming soon..."})]});default:return a.jsx(Rw,{})}};return a.jsxs("div",{className:"min-h-screen flex bg-background",children:[a.jsx(J5,{activeTab:e,onTabChange:t}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsx("div",{className:"border-b bg-card p-4 flex justify-end",children:a.jsx(bY,{})}),e==="workflows"?a.jsx(h1,{}):a.jsx("main",{className:"p-8",children:n()})]})]})},NY=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState(""),[i,l]=p.useState(!1),[c,u]=p.useState("signin"),{toast:f}=Sn(),h=ny(),{user:d,loading:m}=Hc();p.useEffect(()=>{!m&&d&&h("/",{replace:!0})},[d,m,h]);const y=()=>{Object.keys(localStorage).forEach(v=>{(v.startsWith("supabase.auth.")||v.includes("sb-"))&&localStorage.removeItem(v)}),Object.keys(sessionStorage||{}).forEach(v=>{(v.startsWith("supabase.auth.")||v.includes("sb-"))&&sessionStorage.removeItem(v)})},g=async v=>{if(v.preventDefault(),!e||!n){f({title:"Missing fields",description:"Please enter both email and password.",variant:"destructive"});return}if(n.length<6){f({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}l(!0);try{y();try{await xe.auth.signOut({scope:"global"})}catch{}const w=`${window.location.origin}/`,{error:x}=await xe.auth.signUp({email:e,password:n,options:{emailRedirectTo:w,data:{full_name:s||e.split("@")[0]}}});if(x)if(x.message.includes("already registered"))f({title:"Account exists",description:"This email is already registered. Try signing in instead.",variant:"destructive"}),u("signin");else throw x;else f({title:"Account created!",description:"Check your email for verification link, or try signing in if email confirmation is disabled."}),u("signin")}catch(w){console.error("Sign up error:",w),f({title:"Sign up failed",description:w.message||"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}},b=async v=>{if(v.preventDefault(),!e||!n){f({title:"Missing fields",description:"Please enter both email and password.",variant:"destructive"});return}l(!0);try{y();try{await xe.auth.signOut({scope:"global"})}catch{}const{error:w}=await xe.auth.signInWithPassword({email:e,password:n});if(w)if(w.message.includes("Invalid login credentials"))f({title:"Invalid credentials",description:"Please check your email and password and try again.",variant:"destructive"});else if(w.message.includes("Email not confirmed"))f({title:"Email not confirmed",description:"Please check your email and click the confirmation link.",variant:"destructive"});else throw w;else f({title:"Welcome back!",description:"You've been signed in successfully."}),window.location.href="/"}catch(w){console.error("Sign in error:",w),f({title:"Sign in failed",description:w.message||"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}};return m?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(td,{className:"h-8 w-8 animate-spin"})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to BatchFlow"}),a.jsx("p",{className:"text-muted-foreground",children:"Create workflows and manage webhooks"})]}),a.jsxs(mt,{children:[a.jsxs(zt,{children:[a.jsx(io,{children:"Authentication"}),a.jsx(t_,{children:"Sign in to your account or create a new one"})]}),a.jsxs(Tt,{children:[a.jsxs(qy,{value:c,onValueChange:u,children:[a.jsxs(ph,{className:"grid w-full grid-cols-2",children:[a.jsx(Yr,{value:"signin",children:"Sign In"}),a.jsx(Yr,{value:"signup",children:"Sign Up"})]}),a.jsx(Xr,{value:"signin",className:"space-y-4 mt-6",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signin-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(H0,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{id:"signin-email",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"Enter your email",className:"pl-10",disabled:i})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signin-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx($m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{id:"signin-password",type:"password",value:n,onChange:v=>r(v.target.value),placeholder:"Enter your password",className:"pl-10",disabled:i})]})]}),a.jsx(Y,{type:"submit",disabled:i,className:"w-full",children:i?a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):a.jsxs(a.Fragment,{children:["Sign In",a.jsx($d,{className:"ml-2 h-4 w-4"})]})})]})}),a.jsx(Xr,{value:"signup",className:"space-y-4 mt-6",children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signup-name",children:"Full Name (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(mC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{id:"signup-name",type:"text",value:s,onChange:v=>o(v.target.value),placeholder:"Enter your full name",className:"pl-10",disabled:i})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signup-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(H0,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{id:"signup-email",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"Enter your email",className:"pl-10",disabled:i})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"signup-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx($m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ae,{id:"signup-password",type:"password",value:n,onChange:v=>r(v.target.value),placeholder:"Create a password (min 6 characters)",className:"pl-10",disabled:i})]})]}),a.jsx(Y,{type:"submit",disabled:i,className:"w-full",children:i?a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):a.jsxs(a.Fragment,{children:["Create Account",a.jsx($d,{className:"ml-2 h-4 w-4"})]})})]})})]}),a.jsx(hx,{className:"mt-4",children:a.jsxs(px,{children:[a.jsx("strong",{children:"Testing tip:"}),' You can disable "Confirm email" in Supabase Auth settings for faster testing.']})})]})]})]})})},CY=()=>{const e=Lf();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},jY=({children:e})=>{const{user:t,loading:n}=Hc();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(td,{className:"h-8 w-8 animate-spin"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(U3,{to:"/auth",replace:!0})},kY=new Z4,_Y=()=>a.jsx(t3,{client:kY,children:a.jsx(K3,{defaultTheme:"light",storageKey:"batch-flow-theme",children:a.jsxs(P4,{children:[a.jsx(LO,{}),a.jsx(hD,{}),a.jsx(q3,{children:a.jsxs(H3,{children:[a.jsx(rd,{path:"/auth",element:a.jsx(NY,{})}),a.jsx(rd,{path:"/",element:a.jsx(jY,{children:a.jsx(SY,{})})}),a.jsx(rd,{path:"*",element:a.jsx(CY,{})})]})})]})})});IN(document.getElementById("root")).render(a.jsx(_Y,{}));
